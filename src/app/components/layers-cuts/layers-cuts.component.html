<div class="container">
    <app-layer-box class="cuts" [headerText]="'Cuts'">
        <ng-container *ngIf="(activeCanvas$ | async) as activeCanvas;else error">
            <ng-container *ngFor="let cut of active.cuts">
                <app-layers-cut [cut]="cut" [activeCanvas]="activeCanvas"></app-layers-cut>
            </ng-container>
        </ng-container>
        <!-- <div class="spacer"></div> -->
    </app-layer-box>
    <div class="buttons">
        <ng-container *ngTemplateOutlet="add"></ng-container>
        <ng-container *ngTemplateOutlet="remove"></ng-container>
    </div>
</div>

<ng-template #error>
    NO CANVAS ENTITY
</ng-template>

<ng-template #add>
    <div class="adder" (click)="adderClicked()" [tooltip]="'Add Cut'" [position]="'top'">
        <svg width="138" height="164" viewBox="0 0 138 164" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1_589)">
                <path
                    d="M137.273 82.673C137.273 97.0745 137.192 111.477 137.315 125.878C137.257 131.183 136.718 136.472 135.704 141.679C135.346 143.92 134.553 146.067 133.372 148.001C128.405 155.697 121.501 160.577 112.222 161.587C91.9284 163.816 71.465 164.02 51.1311 162.199C43.2342 161.486 35.2579 161.444 27.5523 159.315C23.8951 158.401 20.3171 157.194 16.8527 155.706C7.92056 151.593 2.80505 144.479 1.616 134.664C1.2437 131.655 1.05786 128.625 1.05958 125.593C1.16944 96.0341 1.35943 66.472 1.47704 36.911C1.53559 30.8429 2.38153 24.808 3.99348 18.959C5.06943 14.908 7.15491 11.1983 10.0538 8.17847C13.7054 4.23851 18.7609 1.90477 24.1195 1.68615C34.3047 1.17405 44.4892 0.555105 54.6821 0.331468C64.5003 0.116259 74.3316 0.206058 84.1504 0.425156C90.9403 0.576192 97.7296 1.06481 104.498 1.64627C106.373 1.80769 108.171 2.46653 109.709 3.55485C119.117 10.6029 127.839 18.4142 135.282 27.5846C136.961 29.6492 137.818 32.2647 137.688 34.9258C137.483 49.3241 137.407 63.7254 137.289 78.1251C137.277 79.6412 137.289 81.1568 137.289 82.673H137.273ZM12.4344 82.203C11.3675 98.0702 11.2945 113.953 11.2712 129.836C11.3269 133.244 11.8445 136.628 12.8099 139.896C13.3125 141.922 14.2457 143.815 15.5454 145.445C16.8452 147.076 18.4808 148.405 20.3404 149.343C22.3187 150.443 24.4302 151.281 26.6223 151.839C31.7689 152.976 36.9239 154.064 42.2352 154.358C62.9437 155.613 83.7077 155.647 104.421 154.461C107.053 154.297 109.695 154.112 112.299 153.717C115.3 153.231 118.098 151.891 120.362 149.857C123.238 147.384 125.384 144.168 126.566 140.557C128.419 135.061 128.44 129.408 128.44 123.727C128.436 99.141 128.432 74.5553 128.429 49.9698C128.429 46.9439 128.419 43.9173 128.343 40.8947C128.278 38.3095 126.856 37.0384 123.956 36.9528C118.679 36.7972 113.397 36.7643 108.123 36.5166C106.252 36.3845 104.402 36.0368 102.611 35.4797C101.691 35.243 100.858 34.7459 100.212 34.0478C99.5655 33.3498 99.1325 32.4801 98.9651 31.5423C98.6394 29.6825 98.4785 27.7972 98.4843 25.909C98.4326 21.3773 98.4902 16.8445 98.5134 12.3115C98.5173 11.5064 97.272 9.87169 96.598 9.77122C95.8626 9.61065 95.1175 9.49851 94.3679 9.43635C76.2697 9.17706 58.1707 8.9376 40.0716 8.71721C37.0615 8.68545 34.0476 9.00009 31.0342 9.13881C27.2124 9.31383 23.6077 10.4446 20.0871 11.802C17.589 12.7597 15.5152 14.5825 14.2407 16.9409C12.5838 19.9486 11.4509 23.1169 11.8393 26.6743C12.2496 30.434 12.8577 34.2002 12.8513 37.9631C12.8241 52.7076 12.5902 67.4553 12.4344 82.203ZM109.153 17.636C108.763 18.2309 108.47 18.8853 108.288 19.5736C108.114 21.4243 108.067 23.2915 108.076 25.1525C108.05 25.6142 108.116 26.0763 108.272 26.5117C108.427 26.9469 108.668 27.3468 108.98 27.6871C109.292 28.0276 109.669 28.3017 110.088 28.4937C110.507 28.6856 110.961 28.7913 111.422 28.8045C114.007 28.8466 116.595 28.7452 119.18 28.6544C119.332 28.6177 119.473 28.5453 119.592 28.443C119.711 28.3407 119.803 28.2111 119.863 28.0657C119.927 27.8917 119.956 27.7067 119.947 27.5213C119.94 27.3359 119.895 27.1536 119.816 26.9858C117.187 23.3863 113.949 20.2784 110.247 17.8043C109.975 17.615 109.523 17.6865 109.153 17.636Z"
                    fill="white" />
                <path
                    d="M52.63 92.2501C56.3898 92.2501 60.1495 92.2806 63.9086 92.2346C64.652 92.1568 65.3482 91.8333 65.887 91.3134C66.4254 90.7936 66.7756 90.1084 66.8809 89.3662C67.1226 84.4663 67.2635 79.5612 67.5556 74.6652C67.6028 72.7853 67.9072 70.9211 68.4603 69.1242C68.6348 68.5836 68.9683 68.1091 69.4174 67.7636C69.8672 67.4174 70.4106 67.2171 70.9761 67.1886C71.5415 67.1601 72.1025 67.3046 72.5845 67.6035C73.066 67.9016 73.446 68.3405 73.6728 68.861C74.2705 70.2404 74.5969 71.7223 74.6337 73.2255C74.9232 76.9903 75.0447 80.7688 75.2696 84.5389C75.3375 85.6674 75.5094 86.7908 75.6625 87.9096C76.027 90.581 77.5618 92.1717 80.0375 92.1574C83.7972 92.1354 87.5557 91.8981 91.3154 91.8612C94.3107 91.834 97.3615 91.7691 100.104 93.2309C100.583 93.4856 100.757 94.4366 100.925 95.1042C100.954 95.2922 100.939 95.4847 100.882 95.6662C100.825 95.8471 100.726 96.0131 100.595 96.1505C100.072 96.6898 99.4197 97.0846 98.6998 97.2972C96.4716 97.6018 94.2189 97.7788 91.9707 97.8773C87.8348 98.0575 83.6951 98.1113 79.5599 98.2896C78.6235 98.3881 77.7537 98.8218 77.1088 99.5102C76.4645 100.199 76.0884 101.098 76.0496 102.042C75.7265 107.696 75.5042 113.355 75.1623 119.007C75.0492 120.876 74.7184 122.734 74.4366 124.589C74.2499 125.82 72.2136 127.291 71.095 127.104C69.884 126.901 68.1379 125.324 67.9834 124.155C67.7378 122.293 67.4664 120.423 67.4018 118.55C67.2008 112.893 67.1116 107.232 66.9359 101.573C66.868 100.825 66.5514 100.122 66.037 99.577C65.5226 99.0312 64.8399 98.6746 64.0992 98.5651C59.5911 98.3278 55.0792 98.1625 50.5718 97.9169C47.5701 97.7516 44.5703 97.5286 41.575 97.2622C40.0241 97.1254 38.2664 95.2806 38.753 94.3452C38.9799 93.8422 39.3438 93.4137 39.8026 93.1084C40.2614 92.8037 40.7967 92.6339 41.3469 92.6203C45.106 92.5872 48.8658 92.6086 52.6249 92.6086L52.63 92.2501Z"
                    fill="white" />
            </g>
            <defs>
                <clipPath id="clip0_1_589">
                    <rect width="137" height="164" fill="white" transform="translate(0.777344)" />
                </clipPath>
            </defs>
        </svg>

    </div>
</ng-template>

<ng-template #remove>
    <div class="remover" (click)="removerClicked()" [tooltip]="'Remove Cut'" [position]="'top'">
        <svg width="120" height="141" viewBox="0 0 120 141" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1_576)">
                <path
                    d="M11.5447 32.2823C9.35739 31.9305 7.54846 31.7222 5.77836 31.3361C2.60934 30.6453 0.988722 29.1086 0.949918 26.938C0.90982 24.6587 2.59503 22.7092 5.87594 22.292C10.5616 21.6963 15.3056 21.5295 20.03 21.2921C22.5846 21.1628 25.1507 21.2695 28.1082 21.2695C27.6794 19.2916 27.3724 17.7509 27.009 16.2245C26.2431 13.1665 26.6502 9.93253 28.1499 7.15974C30.1548 3.31135 33.21 0.966791 37.5696 0.821263C45.5318 0.555646 53.4971 0.406041 61.4658 0.372408C66.7409 0.347184 72.0177 0.592906 77.2931 0.718385C78.0466 0.736495 78.8026 0.733267 79.5535 0.788891C84.9344 1.18602 88.3776 3.94844 89.6148 9.22106C90.1749 11.6084 90.2467 14.1134 90.4976 16.5699C90.627 17.8376 90.6645 19.1143 90.7563 20.58C91.6242 20.7109 92.4993 20.7908 93.3769 20.8193C99.1891 20.655 104.999 20.4131 110.812 20.2863C112.31 20.2218 113.809 20.3725 115.263 20.734C116.431 21.0072 117.48 21.649 118.255 22.5645C119.03 23.48 119.49 24.6206 119.567 25.8177C119.768 27.0519 119.583 28.318 119.038 29.4433C118.493 30.5687 117.614 31.4986 116.521 32.1065C115.619 32.6562 114.629 33.0624 113.507 33.6199C113.507 36.7542 113.401 39.8628 113.525 42.9615C114.263 61.3478 115.277 79.7315 114.594 98.1391C114.347 104.796 113.896 111.473 112.986 118.065C112.481 121.727 111.006 125.296 109.663 128.789C109.028 130.464 108.025 131.975 106.728 133.211C105.431 134.447 103.872 135.375 102.169 135.928C99.021 137.007 95.7892 137.824 92.507 138.369C89.5152 138.752 86.5046 138.965 83.4895 139.006C71.7674 139.589 60.049 140.279 48.3204 140.659C43.3759 140.869 38.4226 140.655 33.5146 140.02C20.8883 138.243 14.0256 131.285 12.0272 118.648C11.4351 115.148 11.1059 111.607 11.0423 108.058C10.9086 87.7206 10.8602 67.383 10.8973 47.0453C10.9038 42.2177 11.3093 37.3887 11.5447 32.2823ZM21.213 33.0682C21.795 43.107 22.2262 92.2559 23.389 107.055C23.7318 111.419 24.7369 115.741 25.5971 120.052C26.4547 124.348 29.3579 126.846 33.5196 127.519C38.1762 128.271 42.9124 128.996 47.6077 128.961C59.3402 128.874 71.0741 128.47 82.7969 127.939C87.2853 127.736 91.751 126.893 96.2122 126.238C97.0251 126.136 97.7857 125.78 98.3839 125.22C98.9828 124.66 99.389 123.925 99.5455 123.121C100.163 120.625 100.962 118.14 101.257 115.602C102.951 101.021 102.602 86.3863 102.154 71.7566C101.802 60.2522 101.392 48.7496 101.003 37.2464C100.968 36.2116 100.897 35.1728 100.849 34.268C73.4017 33.8676 48.8907 33.4724 21.2148 33.0682H21.213ZM38.4807 21.0379C52.0098 21.5275 65.2706 21.5062 78.617 20.8833V11.9383C65.1232 11.4855 51.8792 10.9991 38.4807 12.3115V21.0379Z"
                    fill="white" />
                <path
                    d="M82.2127 77.7577C82.0717 70.8105 81.7412 63.7697 81.4211 56.9597L81.4146 56.8303C81.2995 54.3613 81.1869 51.8924 81.0757 49.4233C81.0265 48.5606 80.8642 47.7079 80.5939 46.8872C80.0008 45.0115 78.6627 44.0226 76.9308 44.1862C75.8817 44.2729 74.0748 44.8129 73.7533 47.4479C73.7016 47.922 73.6757 48.3986 73.6757 48.8754C73.5722 57.4389 72.7903 85.75 72.7826 86.0385C72.6364 92.8447 72.4851 99.8798 72.3816 106.859C72.3279 108.781 72.5012 110.703 72.899 112.583C73.0911 113.579 73.6285 114.476 74.4162 115.115C75.2046 115.754 76.1928 116.094 77.2069 116.076C77.3259 116.076 77.4462 116.072 77.5671 116.063C78.5689 116.035 79.5281 115.652 80.2737 114.982C81.0188 114.312 81.5019 113.4 81.6364 112.406C81.9915 110.339 82.1862 108.247 82.2185 106.15L82.2534 101.336C82.3103 93.6124 82.3724 85.6265 82.2127 77.7577Z"
                    fill="white" />
                <path
                    d="M47.6009 44.6397H47.5977C46.9524 44.6372 46.3162 44.7915 45.7437 45.0896C45.1713 45.3876 44.6798 45.8204 44.3116 46.3504C43.6881 47.4661 43.3363 48.7129 43.2847 49.9899C43.1747 51.7201 43.0594 53.4495 42.9417 55.2211C42.5375 61.3145 42.1185 67.6158 41.9388 73.8347C41.6801 82.6789 41.5928 91.666 41.5055 100.358C41.4792 103.018 41.451 105.678 41.4209 108.338C41.4194 109.427 41.5716 110.511 41.8734 111.557C42.579 114.058 44.2768 115.611 46.3037 115.611H46.3684C48.4916 115.575 50.1884 113.898 50.6897 111.339C50.9368 109.985 51.0413 108.609 51.0011 107.234C50.8885 100.171 50.7505 93.1097 50.6199 86.4012L50.5015 80.3356L50.6369 73.1316C50.7844 65.3281 50.9233 57.9518 51.0351 50.539C51.1015 49.296 50.9174 48.0524 50.4939 46.882C50.2341 46.2985 49.834 45.7884 49.3292 45.3972C48.8245 45.0059 48.2307 44.7458 47.6009 44.6397Z"
                    fill="white" />
            </g>
            <defs>
                <clipPath id="clip0_1_576">
                    <rect width="119" height="141" fill="white" transform="translate(0.777344)" />
                </clipPath>
            </defs>
        </svg>

    </div>
</ng-template>
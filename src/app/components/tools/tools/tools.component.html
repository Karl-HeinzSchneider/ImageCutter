<div class="grid prevent-select" *ngIf="(active$ | async) as active">
    <div class="spacer"></div>
    <div class="tool" [class.selected]="active.meta.tool ==='select'" (click)="toolClicked(active.id,'select')"
        [tooltip]="'Select'" [position]="'right'">
        <ng-container [ngTemplateOutlet]="select"></ng-container>
    </div>
    <div class="tool deactivated" [class.selected]="active.meta.tool ==='marquee'" [tooltip]="'Marquee(NYI)'"
        [position]="'right'">
        <ng-container [ngTemplateOutlet]="marquee"></ng-container>
    </div>

    <!-- Move -->
    <div *ngIf="active.meta.tool ==='move'" class="tool selected" [tooltip]="'Move'" [position]="'right'">
        <ng-container [ngTemplateOutlet]="move"></ng-container>
    </div>
    <div *ngIf="active.meta.tool !='move'" class="tool deactivated" [tooltip]="'Move'" [position]="'right'">
        <ng-container [ngTemplateOutlet]="move"></ng-container>
    </div>

    <div class="tool deactivated" [class.selected]="active.meta.tool ==='cut'" [tooltip]="'Cut'" [position]="'right'">
        <ng-container [ngTemplateOutlet]="cut"></ng-container>
    </div>

    {{active.meta.tool}}
</div>

<ng-template #select>
    <svg width="41" height="40" viewBox="0 0 41 40" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_166_9)">
            <path
                d="M21.7483 20.587C18.8283 20.587 15.944 20.6453 13.0631 20.5699C10.2397 20.4966 7.41846 20.3087 4.59933 20.1255C3.80074 20.0458 3.00925 19.9082 2.23131 19.7138C1.91183 19.6441 1.6085 19.516 1.33706 19.3364C0.700185 18.909 0.748353 18.16 1.40975 17.7731C1.48609 17.7285 1.56731 17.6916 1.64714 17.6535C8.12592 14.5161 14.5889 11.3458 21.0888 8.25181C25.9563 5.93471 30.8672 3.70584 35.7691 1.45935C36.7634 1.00363 37.7912 0.609949 38.8262 0.250461C40.0112 -0.160991 40.8041 0.466333 40.6151 1.68497C40.405 3.04036 40.1043 4.38222 39.8373 5.72889C38.6674 11.6316 37.5483 17.5449 36.3011 23.4319C35.6966 26.2844 34.8375 29.0841 34.1187 31.9138C33.6945 33.5841 33.3653 35.2786 32.9031 36.9378C32.6375 37.8 32.2898 38.6355 31.8644 39.4335C31.5789 40.0041 31.1949 40.0489 30.5963 39.7767C29.3001 39.1889 28.5041 38.1562 28.0006 36.8993C26.5438 33.2627 24.8251 29.7284 23.6441 25.9831C23.0728 24.174 22.389 22.3993 21.7483 20.587ZM38.0058 2.82634C26.7318 7.63762 15.8459 12.9248 4.88958 18.0858C5.17612 18.1747 5.47408 18.2227 5.77445 18.2285C9.28592 18.2468 12.7979 18.2889 16.3091 18.2583C18.3017 18.2412 20.293 18.0928 22.2855 18.0207C23.0989 17.9913 23.6768 18.3868 23.7391 19.1294C23.8293 20.208 24.2721 21.1596 24.6806 22.126C26.5495 26.5458 28.4278 30.9619 30.3154 35.3738C30.3573 35.4576 30.4081 35.5367 30.4665 35.6101C33.6641 24.9048 36.0338 13.9889 38.0058 2.82687V2.82634Z"
                fill="white" />
        </g>
        <defs>
            <clipPath id="clip0_166_9">
                <rect width="40" height="40" fill="white" transform="translate(0.777344)" />
            </clipPath>
        </defs>
    </svg>
</ng-template>

<ng-template #move>
    <svg width="41" height="40" viewBox="0 0 41 40" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_169_11)">
            <path
                d="M36.3009 14.0946C35.7916 13.5347 35.1523 13.0934 34.5337 12.6665C34.4107 12.5815 34.2888 12.4969 34.1668 12.4115C34.0125 12.3029 33.8076 12.3305 33.5724 12.3619C33.464 12.3766 33.3412 12.3933 33.2122 12.3987C33.1831 12.3999 33.1547 12.4087 33.1301 12.4243C33.1054 12.4399 33.0852 12.4618 33.0713 12.4877C33.0576 12.5137 33.0506 12.5428 33.0512 12.5722C33.052 12.6017 33.0602 12.6305 33.0752 12.6558C33.2323 12.9202 33.3769 13.1716 33.5151 13.4111C33.8052 13.9139 34.0791 14.389 34.3776 14.8347C34.6499 15.2417 34.949 15.6371 35.2388 16.0194C35.4511 16.3004 35.6707 16.5897 35.8765 16.8805C36.0258 17.0912 36.1944 17.2902 36.3574 17.4826C36.6705 17.815 36.9314 18.1942 37.1311 18.6067L37.0847 18.6415C37.0491 18.6687 37.0047 18.7024 36.9987 18.7066C32.7165 18.8048 28.175 18.9031 22.2756 19.0253C22.2654 19.0195 22.2504 19.0087 22.2398 19.0015L22.2093 18.9806C22.1814 18.9616 22.1547 18.9408 22.1293 18.9185V15.8313C22.1293 13.062 22.1289 10.2877 22.1285 7.50831C22.1285 7.05431 22.127 6.60038 22.1242 6.14649C22.1213 5.4698 22.1182 4.79309 22.1206 4.12383C22.1386 4.08677 22.16 4.05149 22.1845 4.01839L22.2019 3.99228C22.2983 4.05839 22.3949 4.1222 22.4914 4.18666C22.7957 4.3898 23.1105 4.59988 23.3965 4.8293C24.6728 5.85244 26.127 6.59788 27.5332 7.31987C27.9022 7.50912 28.2711 7.69838 28.6374 7.89259C28.734 7.95284 28.8418 7.99234 28.9541 8.00869C29.0664 8.02504 29.1809 8.01787 29.2904 7.98763C29.383 7.95329 29.4676 7.89995 29.5387 7.83094C29.6101 7.76193 29.6664 7.67876 29.7045 7.58664C29.7134 7.56793 29.719 7.54773 29.7208 7.52699C29.7219 7.51344 29.7245 7.49972 29.727 7.48616C29.744 7.41942 29.7417 7.34917 29.7206 7.28367L29.6927 7.20929C29.645 7.06312 29.5796 6.92358 29.4978 6.79393C27.7077 4.18335 25.2465 2.25492 22.8529 0.559546C21.9569 -0.075331 21.0569 -0.0482097 20.18 0.639889C20.0759 0.721542 19.9698 0.800699 19.8636 0.879873C19.6563 1.03458 19.4418 1.19392 19.2432 1.37243C18.9735 1.61486 18.7027 1.85575 18.4303 2.09509C17.6192 2.81228 16.7803 3.55393 16.0056 4.33856C15.1077 5.24765 14.2587 6.23129 13.4371 7.18269C13.2777 7.36749 13.1181 7.5521 12.9583 7.73656L12.9116 7.78929C12.732 7.99061 12.3962 8.36532 12.8197 8.88135C12.8407 8.90694 12.8687 8.92575 12.9001 8.93539C12.9316 8.94502 12.9652 8.94509 12.9967 8.93558C13.6437 8.74038 14.1586 8.32615 14.6566 7.92565C14.8868 7.74053 15.1247 7.5493 15.3686 7.38633C16.0393 6.93873 16.6863 6.4361 17.3115 5.94965C17.4754 5.82238 17.6395 5.69524 17.8037 5.5683C18.077 5.35805 18.3312 5.13573 18.6001 4.90053C19.0111 4.5262 19.446 4.17963 19.902 3.86302C19.9102 3.89839 19.9183 3.93213 19.9258 3.96453C19.9629 4.08787 19.9833 4.21573 19.9864 4.34466C19.9018 5.9078 19.8436 7.4979 19.7874 9.03542C19.6669 12.329 19.5425 15.7333 19.1507 19.0429C17.4955 19.4411 12.6739 19.7372 5.85575 19.8576C5.56396 19.8575 5.27241 19.8423 4.98214 19.8122C4.89103 19.8048 4.796 19.797 4.69592 19.7891C4.75033 19.7038 4.80183 19.6221 4.85036 19.5439C5.00316 19.2876 5.17084 19.0406 5.35255 18.8044C6.38831 17.5213 7.03422 16.0186 7.57789 14.586C7.64984 14.3534 7.68294 14.1103 7.67582 13.8667C7.68023 13.7316 7.68516 13.5789 7.69985 13.4121C7.70245 13.3826 7.69735 13.3528 7.68507 13.3259C7.6728 13.2989 7.65376 13.2757 7.62986 13.2585C7.60597 13.2413 7.57804 13.2308 7.54886 13.2279C7.5197 13.2251 7.49032 13.23 7.46361 13.2422C7.32907 13.3038 7.20612 13.3506 7.09739 13.3921C6.90338 13.4481 6.72316 13.5447 6.56841 13.6757C4.79221 15.4095 3.14364 17.2724 1.63584 19.2495C0.683351 20.518 0.695614 21.3676 1.68272 22.4968C2.93481 23.9289 4.07258 25.1368 5.16124 26.1894C5.64793 26.6598 6.25985 26.9973 6.85169 27.3236C6.95214 27.3786 7.0519 27.434 7.15095 27.4895C7.24604 27.5517 7.35263 27.5933 7.46421 27.6122C7.57577 27.631 7.68994 27.6266 7.79975 27.5991C7.91118 27.5581 8.01325 27.4948 8.09974 27.4127C8.1862 27.3307 8.2553 27.2317 8.30277 27.1216C8.31634 27.0953 8.32284 27.0657 8.32163 27.0362C8.32042 27.0064 8.31157 26.9776 8.29592 26.9524C8.19355 26.7881 8.09087 26.6158 7.98573 26.44C7.73492 26.0024 7.46191 25.5783 7.16777 25.1692C6.89463 24.8023 6.58798 24.4565 6.29149 24.1219C6.07288 23.8755 5.84692 23.6206 5.63843 23.3618C5.50488 23.1965 5.35618 23.0396 5.21234 22.8887C4.89165 22.591 4.62733 22.2367 4.43241 21.8429L4.46393 21.8353C4.55631 21.8072 4.6519 21.7912 4.74832 21.7877C7.72743 21.8653 10.7465 21.7233 13.6665 21.5856C15.1384 21.5162 16.6603 21.4443 18.1574 21.4018C18.3668 21.4024 18.576 21.4196 18.783 21.4532C18.8467 21.4618 18.9115 21.4705 18.9779 21.4786C18.9281 22.4431 18.8703 23.4168 18.8147 24.3601C18.5831 28.2504 18.3441 32.2694 18.6411 36.3978C18.5221 36.316 18.4106 36.238 18.3046 36.1641C17.9454 35.914 17.6362 35.6981 17.3165 35.5112C15.3591 34.3671 13.3609 33.2214 11.6415 32.2372C11.3511 32.071 11.1132 32.033 10.9139 32.1214C10.7201 32.2072 10.5847 32.4091 10.5119 32.721C10.5063 32.7449 10.5059 32.7697 10.5106 32.7937C10.5154 32.8176 10.5253 32.8405 10.5395 32.8601C10.574 32.9079 10.6081 32.9593 10.6432 33.0117C10.729 33.1471 10.8251 33.2753 10.9307 33.3955C12.9117 35.5666 15.1187 37.5145 17.5133 39.2054C18.174 39.6695 18.8254 39.9016 19.4767 39.9016C20.18 39.8816 20.86 39.6423 21.4241 39.2163C22.704 38.3238 24.0605 37.3618 25.3407 36.281C25.9925 35.7003 26.5993 35.0697 27.1556 34.3948C27.324 34.2006 27.4924 34.0064 27.6628 33.8153C27.7877 33.6576 27.8839 33.4785 27.9464 33.2866C27.9766 33.2094 28.0068 33.1315 28.0421 33.0575C28.0591 33.0218 28.063 32.981 28.0534 32.9424C28.0439 32.9039 28.0212 32.87 27.9895 32.8466C27.5018 32.4871 27.127 32.6661 26.814 32.8618C25.5631 33.6443 24.3118 34.4256 23.0602 35.2059L20.966 36.5115C21.0058 36.0428 21.0458 35.5834 21.0854 35.1305C21.1949 33.8709 21.2976 32.6814 21.3845 31.48C21.4458 30.6251 21.4937 29.7555 21.54 28.9147C21.5854 28.0899 21.6323 27.237 21.6919 26.4001C21.7409 25.7082 21.7508 25.0051 21.7603 24.3248C21.7536 23.3181 21.8093 22.3122 21.9268 21.3129C21.9758 21.2935 22.0209 21.274 22.0635 21.256C22.1453 21.2132 22.2336 21.1846 22.3247 21.1714C27.0375 21.0636 31.6927 20.9651 37.2325 20.8502H37.2333C37.2333 20.8576 37.2333 20.8656 37.2333 20.8743C37.2343 20.896 37.2352 20.9203 37.2369 20.9481C37.1188 21.0763 36.998 21.2086 36.8747 21.3436C36.549 21.7001 36.2124 22.0689 35.8661 22.4325C34.6981 23.6591 33.7898 25.0772 32.9823 26.4262C32.8587 26.633 32.7425 26.877 32.8179 27.119C32.8504 27.2067 32.9015 27.2862 32.9676 27.3519C33.0338 27.4176 33.1133 27.4679 33.2006 27.4991C33.2318 27.5134 33.2666 27.5172 33.3002 27.5102C33.3329 27.5039 33.3655 27.5003 33.3982 27.4967C33.4965 27.4924 33.5926 27.4664 33.68 27.4205C36.1536 25.9282 38.1319 23.9173 39.9012 21.9659C40.8499 20.92 40.8808 19.6581 39.9866 18.5038C38.7289 16.8808 37.5231 15.4379 36.3009 14.0946Z"
                fill="white" />
        </g>
        <defs>
            <clipPath id="clip0_169_11">
                <rect width="40" height="40" fill="white" transform="translate(0.777344)" />
            </clipPath>
        </defs>
    </svg>
</ng-template>

<ng-template #marquee>
    <svg width="111" height="104" viewBox="0 0 111 104" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_171_15)">
            <path
                d="M2.31057 53.606C2.63324 46.6094 2.98243 39.6141 3.26316 32.6162C3.49871 26.7298 3.6343 20.8402 3.85178 14.9531C3.95052 12.2881 4.13551 9.62307 4.29168 6.96197C4.36912 5.64248 4.84998 4.48223 6.19747 4.13188C8.94024 3.41688 11.6979 2.44777 14.4877 2.29177C24.5177 1.72887 34.5581 1.38177 44.6036 1.10357C55.9708 0.790273 67.3473 0.323555 78.71 0.518555C87.8565 0.679754 96.9927 1.67493 106.124 2.42698C109.529 2.70713 111.077 4.77802 110.949 7.96239C110.572 17.401 110.317 26.8442 109.927 36.2828C109.347 50.2754 108.706 64.266 108.071 78.2562C107.829 83.5862 107.472 88.9123 107.278 94.2456C107.078 99.7608 105.644 100.941 100.279 100.999C88.469 101.122 76.6591 101.495 64.8537 101.822C57.9016 102.017 50.9519 102.304 44.0014 102.57C32.1997 103.021 20.3985 103.479 8.59769 103.946C7.82327 103.976 7.04866 103.966 6.27877 103.935C2.19113 103.773 0.396551 102.07 0.47851 97.9246C0.61726 90.9221 0.913872 83.9216 1.24171 76.925C1.60504 69.1517 2.0775 61.3839 2.50279 53.6144L2.31057 53.606ZM99.3767 93.851C100.931 84.3454 103.621 15.9632 102.658 11.1708C100.725 11.0011 98.761 10.7808 96.7907 10.6638C87.9779 10.1483 79.1611 9.22462 70.3502 9.26752C56.5529 9.33577 42.759 10.0566 28.964 10.5168C22.6092 10.7287 16.2564 10.9771 10.1146 11.2013C9.49834 39.6388 8.88293 68.0532 8.26146 96.75L99.3767 93.851Z"
                fill="white" />
        </g>
        <defs>
            <clipPath id="clip0_171_15">
                <rect width="111" height="104" fill="white" />
            </clipPath>
        </defs>
    </svg>
</ng-template>

<ng-template #cut>
    <svg width="145" height="117" viewBox="0 0 145 117" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
            d="M29.3753 35.4487C39.7985 40.4537 49.9375 44.9738 59.7172 50.1686C64.2577 52.5795 67.7081 52.3832 72.1759 49.9613C93.0319 38.6572 114.095 27.7313 135.088 16.6813C136.152 16.0845 137.257 15.5656 138.396 15.1285C139.326 14.716 140.374 14.656 141.345 14.9596C142.315 15.2632 143.143 15.9098 143.673 16.7791C144.204 17.6484 144.402 18.6812 144.229 19.6856C144.057 20.6898 143.527 21.5971 142.737 22.2388C141.908 22.9755 140.985 23.598 139.993 24.09C126.721 31.0034 113.441 37.8997 100.152 44.7789C92.7686 48.6022 85.3682 52.391 77.9794 56.2046C77.2082 56.6024 76.4661 57.058 75.3848 57.6709C76.4577 58.2884 77.238 58.7974 78.0676 59.2069C95.6674 67.8989 113.27 76.5868 130.875 85.2721C132.485 86.0131 134.02 86.9068 135.461 87.9403C137.184 89.2546 137.65 91.0863 137.03 92.6515C136.358 94.3474 134.603 95.3386 132.348 94.8966C130.614 94.5391 128.933 93.9645 127.343 93.1851C117.354 88.3699 107.354 83.5723 97.4486 78.5875C87.7396 73.7021 78.1331 68.6113 68.4955 63.584C67.0685 62.8404 65.825 62.3522 64.1572 63.2336C53.374 68.9337 42.5351 74.5282 31.7202 80.1682C31.4001 80.4009 31.1039 80.6649 30.8361 80.9567C31.9504 81.53 32.9117 82.0013 33.8484 82.5102C41.8385 86.8392 44.8333 95.1286 41.3825 103.505C39.9554 106.966 37.8317 109.973 34.6209 111.961C28.6015 115.686 22.1079 117.656 14.9824 116.26C7.82461 114.858 1.66764 107.94 0.952837 100.705C0.870645 99.9328 0.919341 99.1521 1.09685 98.3962C2.58874 92.4162 5.28256 87.1076 10.4588 83.5313C14.0391 81.1075 17.7413 78.8702 21.5507 76.8273C33.118 70.4813 44.7437 64.2418 56.673 57.7821C55.9619 57.2575 55.2219 56.7734 54.4566 56.332C42.435 50.352 30.4058 44.3913 18.369 38.4498C16.7578 37.7125 15.106 37.0673 13.4218 36.5174C7.3284 34.3405 3.53316 29.9679 1.49835 23.9561C0.828558 21.9401 0.755334 19.7729 1.28753 17.7161C2.07471 14.3158 3.64202 11.1462 5.86503 8.45895C8.08803 5.77169 10.9056 3.64064 14.0939 2.23503C17.2823 0.829409 20.7537 0.187984 24.2327 0.361515C27.7117 0.535046 31.1025 1.51883 34.1357 3.23478C42.2004 7.73212 45.0142 16.617 40.9874 24.9864C39.2534 28.757 36.3207 31.8449 32.6484 33.7672C31.6865 34.282 30.7128 34.7675 29.3753 35.4487ZM19.1552 107.747C20.4752 107.652 21.3716 107.665 22.2389 107.512C26.5848 106.745 30.6421 105.425 33.1232 101.348C35.6413 97.2099 34.9835 92.8595 31.4283 90.034C24.2555 84.3328 15.0635 86.6923 11.0049 94.7822C7.89077 100.989 12.8912 108.49 19.1552 107.747ZM20.0341 28.2584C20.811 28.2413 21.5863 28.1779 22.3556 28.0686C26.577 27.2932 30.5364 26.014 33.011 22.1003C36.024 17.3352 34.8272 12.3959 29.95 9.62037C27.5488 8.19941 24.794 7.49182 22.0067 7.57996C14.3857 7.90496 11.291 11.8011 10.0806 19.3288C9.28018 24.3097 14.0672 28.3605 20.0341 28.2584Z"
            fill="white" />
    </svg>
</ng-template>
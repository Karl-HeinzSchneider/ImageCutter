var g9=Object.create;var Ku=Object.defineProperty,m9=Object.defineProperties,v9=Object.getOwnPropertyDescriptor,C9=Object.getOwnPropertyDescriptors,y9=Object.getOwnPropertyNames,Da=Object.getOwnPropertySymbols,_9=Object.getPrototypeOf,Zu=Object.prototype.hasOwnProperty,r0=Object.prototype.propertyIsEnumerable;var n0=(t,e,r)=>e in t?Ku(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,M=(t,e)=>{for(var r in e||={})Zu.call(e,r)&&n0(t,r,e[r]);if(Da)for(var r of Da(e))r0.call(e,r)&&n0(t,r,e[r]);return t},J=(t,e)=>m9(t,C9(e));var os=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Xu=(t,e)=>{var r={};for(var n in t)Zu.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Da)for(var n of Da(t))e.indexOf(n)<0&&r0.call(t,n)&&(r[n]=t[n]);return r};var re=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var w9=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of y9(e))!Zu.call(t,i)&&i!==r&&Ku(t,i,{get:()=>e[i],enumerable:!(n=v9(e,i))||n.enumerable});return t};var Qu=(t,e,r)=>(r=t!=null?g9(_9(t)):{},w9(e||!t||!t.__esModule?Ku(r,"default",{value:t,enumerable:!0}):r,t));var Pt=(t,e,r)=>new Promise((n,i)=>{var o=l=>{try{a(r.next(l))}catch(c){i(c)}},s=l=>{try{a(r.throw(l))}catch(c){i(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,s);a((r=r.apply(t,e)).next())});var Te=re(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt._registerNode=Vt.Konva=Vt.glob=void 0;var tx=Math.PI/180;function nx(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}Vt.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{};Vt.Konva={_global:Vt.glob,version:"9.3.3",isBrowser:nx(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Vt.Konva.angleDeg?t*tx:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Vt.Konva.DD.isDragging},isDragReady(){return!!Vt.Konva.DD.node},releaseCanvasOnDestroy:!0,document:Vt.glob.document,_injectGlobal(t){Vt.glob.Konva=t}};var rx=t=>{Vt.Konva[t.prototype.getClassName()]=t};Vt._registerNode=rx;Vt.Konva._injectGlobal(Vt.Konva)});var dt=re(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.Util=it.Transform=void 0;var T1=Te(),N1=class t{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var r=this.m;return{x:r[0]*e.x+r[2]*e.y+r[4],y:r[1]*e.x+r[3]*e.y+r[5]}}translate(e,r){return this.m[4]+=this.m[0]*e+this.m[2]*r,this.m[5]+=this.m[1]*e+this.m[3]*r,this}scale(e,r){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=r,this.m[3]*=r,this}rotate(e){var r=Math.cos(e),n=Math.sin(e),i=this.m[0]*r+this.m[2]*n,o=this.m[1]*r+this.m[3]*n,s=this.m[0]*-n+this.m[2]*r,a=this.m[1]*-n+this.m[3]*r;return this.m[0]=i,this.m[1]=o,this.m[2]=s,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,r){var n=this.m[0]+this.m[2]*r,i=this.m[1]+this.m[3]*r,o=this.m[2]+this.m[0]*e,s=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=i,this.m[2]=o,this.m[3]=s,this}multiply(e){var r=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],s=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=r,this.m[1]=n,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),r=this.m[3]*e,n=-this.m[1]*e,i=-this.m[2]*e,o=this.m[0]*e,s=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=r,this.m[1]=n,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}getMatrix(){return this.m}decompose(){var e=this.m[0],r=this.m[1],n=this.m[2],i=this.m[3],o=this.m[4],s=this.m[5],a=e*i-r*n;let l={x:o,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||r!=0){var c=Math.sqrt(e*e+r*r);l.rotation=r>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*n+r*i)/a,l.skewY=0}else if(n!=0||i!=0){var u=Math.sqrt(n*n+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-n/u):-Math.acos(n/u)),l.scaleX=a/u,l.scaleY=u,l.skewX=0,l.skewY=(e*n+r*i)/a}return l.rotation=it.Util._getRotation(l.rotation),l}};it.Transform=N1;var ix="[object Array]",ox="[object Number]",sx="[object String]",ax="[object Boolean]",lx=Math.PI/180,cx=180/Math.PI,A1="#",ux="",dx="0",fx="Konva warning: ",s4="Konva error: ",hx="rgb(",O1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},px=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,_c=[],gx=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)};it.Util={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===ix},_isNumber(t){return Object.prototype.toString.call(t)===ox&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===sx},_isBoolean(t){return Object.prototype.toString.call(t)===ax},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;var e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){_c.push(t),_c.length===1&&gx(function(){let e=_c;_c=[],e.forEach(function(r){r()})})},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var r=it.Util.createImageElement();r.onload=function(){e(r)},r.src=t},_rgbToHex(t,e,r){return((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1)},_hexToRgb(t){t=t.replace(A1,ux);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){for(var t=(Math.random()*16777215<<0).toString(16);t.length<6;)t=dx+t;return A1+t},getRGB(t){var e;return t in O1?(e=O1[t],{r:e[0],g:e[1],b:e[2]}):t[0]===A1?this._hexToRgb(t.substring(1)):t.substr(0,4)===hx?(e=px.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",it.Util._namedColorToRBA(t)||it.Util._hex3ColorToRGBA(t)||it.Util._hex4ColorToRGBA(t)||it.Util._hex6ColorToRGBA(t)||it.Util._hex8ColorToRGBA(t)||it.Util._rgbColorToRGBA(t)||it.Util._rgbaColorToRGBA(t)||it.Util._hslColorToRGBA(t)},_namedColorToRBA(t){var e=O1[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map((r,n)=>r.slice(-1)==="%"?n===3?parseInt(r)/100:parseInt(r)/100*255:Number(r));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){let[e,...r]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=Number(r[0])/360,i=Number(r[1])/100,o=Number(r[2])/100,s,a,l;if(i===0)return l=o*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o<.5?s=o*(1+i):s=o+i-o*i;let c=2*o-s,u=[0,0,0];for(let d=0;d<3;d++)a=n+1/3*-(d-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(s-c)*6*a:2*a<1?l=s:3*a<2?l=c+(s-c)*(2/3-a)*6:l=c,u[d]=l*255;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){var e={};for(var r in t)this._isPlainObject(t[r])?e[r]=this.cloneObject(t[r]):this._isArray(t[r])?e[r]=this.cloneArray(t[r]):e[r]=t[r];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*lx},radToDeg(t){return t*cx},_degToRad(t){return it.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),it.Util.degToRad(t)},_radToDeg(t){return it.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),it.Util.radToDeg(t)},_getRotation(t){return T1.Konva.angleDeg?it.Util.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(s4+t)},error(t){console.error(s4+t)},warn(t){T1.Konva.showWarnings&&console.warn(fx+t)},each(t,e){for(var r in t)e(r,t[r])},_inRange(t,e,r){return e<=t&&t<r},_getProjectionToSegment(t,e,r,n,i,o){var s,a,l,c=(t-r)*(t-r)+(e-n)*(e-n);if(c==0)s=t,a=e,l=(i-r)*(i-r)+(o-n)*(o-n);else{var u=((i-t)*(r-t)+(o-e)*(n-e))/c;u<0?(s=t,a=e,l=(t-i)*(t-i)+(e-o)*(e-o)):u>1?(s=r,a=n,l=(r-i)*(r-i)+(n-o)*(n-o)):(s=t+u*(r-t),a=e+u*(n-e),l=(s-i)*(s-i)+(a-o)*(a-o))}return[s,a,l]},_getProjectionToLine(t,e,r){var n=it.Util.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(o,s){if(!(!r&&s===e.length-1)){var a=e[(s+1)%e.length],l=it.Util._getProjectionToSegment(o.x,o.y,a.x,a.y,t.x,t.y),c=l[0],u=l[1],d=l[2];d<i&&(n.x=c,n.y=u,i=d)}}),n},_prepareArrayForTween(t,e,r){var n,i=[],o=[];if(t.length>e.length){var s=e;e=t,t=s}for(n=0;n<t.length;n+=2)i.push({x:t[n],y:t[n+1]});for(n=0;n<e.length;n+=2)o.push({x:e[n],y:e[n+1]});var a=[];return o.forEach(function(l){var c=it.Util._getProjectionToLine(l,i,r);a.push(c.x),a.push(c.y)}),a},_prepareToStringify(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var r in t)if(t.hasOwnProperty(r)&&t[r]&&typeof t[r]=="object"){if(e=Object.getOwnPropertyDescriptor(t,r),t[r].visitedByCircularReferenceRemoval||it.Util._isElement(t[r]))if(e.configurable)delete t[r];else return null;else if(it.Util._prepareToStringify(t[r])===null)if(e.configurable)delete t[r];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var r in e)t[r]=e[r];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){T1.Konva.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,r,n){let i=0,o=0,s=0,a=0;typeof n=="number"?i=o=s=a=Math.min(n,e/2,r/2):(i=Math.min(n[0]||0,e/2,r/2),o=Math.min(n[1]||0,e/2,r/2),a=Math.min(n[2]||0,e/2,r/2),s=Math.min(n[3]||0,e/2,r/2)),t.moveTo(i,0),t.lineTo(e-o,0),t.arc(e-o,o,o,Math.PI*3/2,0,!1),t.lineTo(e,r-a),t.arc(e-a,r-a,a,0,Math.PI/2,!1),t.lineTo(s,r),t.arc(s,r-s,s,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}}});var Ae=re(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.getComponentValidator=lt.getBooleanValidator=lt.getNumberArrayValidator=lt.getFunctionValidator=lt.getStringOrGradientValidator=lt.getStringValidator=lt.getNumberOrAutoValidator=lt.getNumberOrArrayOfNumbersValidator=lt.getNumberValidator=lt.alphaComponent=lt.RGBComponent=void 0;var xr=Te(),ft=dt();function Sr(t){return ft.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||ft.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function mx(t){return t>255?255:t<0?0:Math.round(t)}lt.RGBComponent=mx;function vx(t){return t>1?1:t<1e-4?1e-4:t}lt.alphaComponent=vx;function Cx(){if(xr.Konva.isUnminified)return function(t,e){return ft.Util._isNumber(t)||ft.Util.warn(Sr(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}lt.getNumberValidator=Cx;function yx(t){if(xr.Konva.isUnminified)return function(e,r){let n=ft.Util._isNumber(e),i=ft.Util._isArray(e)&&e.length==t;return!n&&!i&&ft.Util.warn(Sr(e)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+t+")"),e}}lt.getNumberOrArrayOfNumbersValidator=yx;function _x(){if(xr.Konva.isUnminified)return function(t,e){var r=ft.Util._isNumber(t),n=t==="auto";return r||n||ft.Util.warn(Sr(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}lt.getNumberOrAutoValidator=_x;function wx(){if(xr.Konva.isUnminified)return function(t,e){return ft.Util._isString(t)||ft.Util.warn(Sr(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}lt.getStringValidator=wx;function bx(){if(xr.Konva.isUnminified)return function(t,e){let r=ft.Util._isString(t),n=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return r||n||ft.Util.warn(Sr(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}lt.getStringOrGradientValidator=bx;function Dx(){if(xr.Konva.isUnminified)return function(t,e){return ft.Util._isFunction(t)||ft.Util.warn(Sr(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}lt.getFunctionValidator=Dx;function xx(){if(xr.Konva.isUnminified)return function(t,e){let r=Int8Array?Object.getPrototypeOf(Int8Array):null;return r&&t instanceof r||(ft.Util._isArray(t)?t.forEach(function(n){ft.Util._isNumber(n)||ft.Util.warn('"'+e+'" attribute has non numeric element '+n+". Make sure that all elements are numbers.")}):ft.Util.warn(Sr(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}lt.getNumberArrayValidator=xx;function Sx(){if(xr.Konva.isUnminified)return function(t,e){var r=t===!0||t===!1;return r||ft.Util.warn(Sr(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}lt.getBooleanValidator=Sx;function Ex(t){if(xr.Konva.isUnminified)return function(e,r){return e==null||ft.Util.isObject(e)||ft.Util.warn(Sr(e)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+t),e}}lt.getComponentValidator=Ex});var Se=re(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.Factory=void 0;var ln=dt(),Ix=Ae(),ea="get",ta="set";Vn.Factory={addGetterSetter(t,e,r,n,i){Vn.Factory.addGetter(t,e,r),Vn.Factory.addSetter(t,e,n,i),Vn.Factory.addOverloadedGetterSetter(t,e)},addGetter(t,e,r){var n=ea+ln.Util._capitalize(e);t.prototype[n]=t.prototype[n]||function(){var i=this.attrs[e];return i===void 0?r:i}},addSetter(t,e,r,n){var i=ta+ln.Util._capitalize(e);t.prototype[i]||Vn.Factory.overWriteSetter(t,e,r,n)},overWriteSetter(t,e,r,n){var i=ta+ln.Util._capitalize(e);t.prototype[i]=function(o){return r&&o!==void 0&&o!==null&&(o=r.call(this,o,e)),this._setAttr(e,o),n&&n.call(this),this}},addComponentsGetterSetter(t,e,r,n,i){var o=r.length,s=ln.Util._capitalize,a=ea+s(e),l=ta+s(e),c,u;t.prototype[a]=function(){var f={};for(c=0;c<o;c++)u=r[c],f[u]=this.getAttr(e+s(u));return f};var d=(0,Ix.getComponentValidator)(r);t.prototype[l]=function(f){var h=this.attrs[e],g;n&&(f=n.call(this,f)),d&&d.call(this,f,e);for(g in f)f.hasOwnProperty(g)&&this._setAttr(e+s(g),f[g]);return f||r.forEach(v=>{this._setAttr(e+s(v),void 0)}),this._fireChangeEvent(e,h,f),i&&i.call(this),this},Vn.Factory.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var r=ln.Util._capitalize(e),n=ta+r,i=ea+r;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,r,n){ln.Util.error("Adding deprecated "+e);var i=ea+ln.Util._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){ln.Util.error(o);var s=this.attrs[e];return s===void 0?r:s},Vn.Factory.addSetter(t,e,n,function(){ln.Util.error(o)}),Vn.Factory.addOverloadedGetterSetter(t,e)},backCompat(t,e){ln.Util.each(e,function(r,n){var i=t.prototype[n],o=ea+ln.Util._capitalize(r),s=ta+ln.Util._capitalize(r);function a(){i.apply(this,arguments),ln.Util.error('"'+r+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[r]=a,t.prototype[o]=a,t.prototype[s]=a})},afterSetFilter(){this._filterUpToDate=!1}}});var F1=re(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.HitContext=ti.SceneContext=ti.Context=void 0;var c4=dt(),Mx=Te();function Tx(t){var e=[],r=t.length,n=c4.Util,i,o;for(i=0;i<r;i++)o=t[i],n._isNumber(o)?o=Math.round(o*1e3)/1e3:n._isString(o)||(o=o+""),e.push(o);return e}var a4=",",Ax="(",Ox=")",Nx="([",Rx="])",Px=";",Fx="()",kx="=",l4=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Lx=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],Vx=100,ko=class{constructor(e){this.canvas=e,Mx.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,r){var n=this.traceArr,i=n.length,o="",s,a,l,c;for(s=0;s<i;s++)a=n[s],l=a.method,l?(c=a.args,o+=l,e?o+=Fx:c4.Util._isArray(c[0])?o+=Nx+c.join(a4)+Rx:(r&&(c=c.map(u=>typeof u=="number"?Math.floor(u):u)),o+=Ax+c.join(a4)+Ox)):(o+=a.property,e||(o+=kx+a.val)),o+=Px;return o}clearTrace(){this.traceArr=[]}_trace(e){var r=this.traceArr,n;r.push(e),n=r.length,n>=Vx&&r.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var r=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,r.getWidth()/r.pixelRatio,r.getHeight()/r.pixelRatio)}_applyLineCap(e){let r=e.attrs.lineCap;r&&this.setAttr("lineCap",r)}_applyOpacity(e){var r=e.getAbsoluteOpacity();r!==1&&this.setAttr("globalAlpha",r)}_applyLineJoin(e){let r=e.attrs.lineJoin;r&&this.setAttr("lineJoin",r)}setAttr(e,r){this._context[e]=r}arc(e,r,n,i,o,s){this._context.arc(e,r,n,i,o,s)}arcTo(e,r,n,i,o){this._context.arcTo(e,r,n,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,r,n,i,o,s){this._context.bezierCurveTo(e,r,n,i,o,s)}clearRect(e,r,n,i){this._context.clearRect(e,r,n,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,r){var n=arguments;if(n.length===2)return this._context.createImageData(e,r);if(n.length===1)return this._context.createImageData(e)}createLinearGradient(e,r,n,i){return this._context.createLinearGradient(e,r,n,i)}createPattern(e,r){return this._context.createPattern(e,r)}createRadialGradient(e,r,n,i,o,s){return this._context.createRadialGradient(e,r,n,i,o,s)}drawImage(e,r,n,i,o,s,a,l,c){var u=arguments,d=this._context;u.length===3?d.drawImage(e,r,n):u.length===5?d.drawImage(e,r,n,i,o):u.length===9&&d.drawImage(e,r,n,i,o,s,a,l,c)}ellipse(e,r,n,i,o,s,a,l){this._context.ellipse(e,r,n,i,o,s,a,l)}isPointInPath(e,r,n,i){return n?this._context.isPointInPath(n,e,r,i):this._context.isPointInPath(e,r,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,r,n,i){this._context.fillRect(e,r,n,i)}strokeRect(e,r,n,i){this._context.strokeRect(e,r,n,i)}fillText(e,r,n,i){i?this._context.fillText(e,r,n,i):this._context.fillText(e,r,n)}measureText(e){return this._context.measureText(e)}getImageData(e,r,n,i){return this._context.getImageData(e,r,n,i)}lineTo(e,r){this._context.lineTo(e,r)}moveTo(e,r){this._context.moveTo(e,r)}rect(e,r,n,i){this._context.rect(e,r,n,i)}roundRect(e,r,n,i,o){this._context.roundRect(e,r,n,i,o)}putImageData(e,r,n){this._context.putImageData(e,r,n)}quadraticCurveTo(e,r,n,i){this._context.quadraticCurveTo(e,r,n,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,r){this._context.scale(e,r)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,r,n,i,o,s){this._context.setTransform(e,r,n,i,o,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,r,n,i){this._context.strokeText(e,r,n,i)}transform(e,r,n,i,o,s){this._context.transform(e,r,n,i,o,s)}translate(e,r){this._context.translate(e,r)}_enableTrace(){var e=this,r=l4.length,n=this.setAttr,i,o,s=function(a){var l=e[a],c;e[a]=function(){return o=Tx(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:o}),c}};for(i=0;i<r;i++)s(l4[i]);e.setAttr=function(){n.apply(e,arguments);var a=arguments[0],l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){let r=e.attrs.globalCompositeOperation;var n=!r||r==="source-over";n||this.setAttr("globalCompositeOperation",r)}};ti.Context=ko;Lx.forEach(function(t){Object.defineProperty(ko.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});var R1=class extends ko{constructor(e,{willReadFrequently:r=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:r})}_fillColor(e){var r=e.fill();this.setAttr("fillStyle",r),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var r=e._getLinearGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fillRadialGradient(e){let r=e._getRadialGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fill(e){let r=e.fill(),n=e.getFillPriority();if(r&&n==="color"){this._fillColor(e);return}let i=e.getFillPatternImage();if(i&&n==="pattern"){this._fillPattern(e);return}let o=e.getFillLinearGradientColorStops();if(o&&n==="linear-gradient"){this._fillLinearGradient(e);return}let s=e.getFillRadialGradientColorStops();if(s&&n==="radial-gradient"){this._fillRadialGradient(e);return}r?this._fillColor(e):i?this._fillPattern(e):o?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){let r=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(r.x,r.y,n.x,n.y);if(i){for(var s=0;s<i.length;s+=2)o.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",o)}}_stroke(e){var r=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),r&&e.dashEnabled()&&(this.setLineDash(r),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var o=e.getStrokeLinearGradientColorStops();o?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var r,n,i,o=(r=e.getShadowRGBA())!==null&&r!==void 0?r:"black",s=(n=e.getShadowBlur())!==null&&n!==void 0?n:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),u=l.x*c,d=l.y*c;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",s*Math.min(Math.abs(u),Math.abs(d))),this.setAttr("shadowOffsetX",a.x*u),this.setAttr("shadowOffsetY",a.y*d)}};ti.SceneContext=R1;var P1=class extends ko{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){let o=e.getStrokeScaleEnabled();if(!o){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e);var n=e.hitStrokeWidth(),i=n==="auto"?e.strokeWidth():n;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),o||this.restore()}}};ti.HitContext=P1});var na=re(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.HitCanvas=ni.SceneCanvas=ni.Canvas=void 0;var bc=dt(),u4=F1(),d4=Te(),jx=Se(),Ux=Ae(),wc;function Bx(){if(wc)return wc;var t=bc.Util.createCanvasElement(),e=t.getContext("2d");return wc=function(){var r=d4.Konva._global.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}(),bc.Util.releaseCanvas(t),wc}var Lo=class{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var r=e||{},n=r.pixelRatio||d4.Konva.pixelRatio||Bx();this.pixelRatio=n,this._canvas=bc.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var r=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/r,this.getHeight()/r)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var r=this.pixelRatio,n=this.getContext()._context;n.scale(r,r)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var r=this.pixelRatio,n=this.getContext()._context;n.scale(r,r)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,r){this.setWidth(e||0),this.setHeight(r||0)}toDataURL(e,r){try{return this._canvas.toDataURL(e,r)}catch{try{return this._canvas.toDataURL()}catch(i){return bc.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ni.Canvas=Lo;jx.Factory.addGetterSetter(Lo,"pixelRatio",void 0,(0,Ux.getNumberValidator)());var k1=class extends Lo{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new u4.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};ni.SceneCanvas=k1;var L1=class extends Lo{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new u4.HitContext(this),this.setSize(e.width,e.height)}};ni.HitCanvas=L1});var Dc=re(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.DD=void 0;var ra=Te(),Hx=dt();jt.DD={get isDragging(){var t=!1;return jt.DD._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){var t;return jt.DD._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){let e=[];jt.DD._dragElements.forEach((r,n)=>{let{node:i}=r,o=i.getStage();o.setPointersPositions(t),r.pointerId===void 0&&(r.pointerId=Hx.Util._getFirstPointerId(t));let s=o._changedPointerPositions.find(c=>c.id===r.pointerId);if(s){if(r.dragStatus!=="dragging"){var a=i.dragDistance(),l=Math.max(Math.abs(s.x-r.startPointerPos.x),Math.abs(s.y-r.startPointerPos.y));if(l<a||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,r),e.push(i)}}),e.forEach(r=>{r.fire("dragmove",{type:"dragmove",target:r,evt:t},!0)})},_endDragBefore(t){let e=[];jt.DD._dragElements.forEach(r=>{let{node:n}=r,i=n.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(a=>a.id===r.pointerId))return;(r.dragStatus==="dragging"||r.dragStatus==="stopped")&&(jt.DD.justDragged=!0,ra.Konva._mouseListenClick=!1,ra.Konva._touchListenClick=!1,ra.Konva._pointerListenClick=!1,r.dragStatus="stopped");let s=r.node.getLayer()||r.node instanceof ra.Konva.Stage&&r.node;s&&e.indexOf(s)===-1&&e.push(s)}),e.forEach(r=>{r.draw()})},_endDragAfter(t){jt.DD._dragElements.forEach((e,r)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&jt.DD._dragElements.delete(r)})}};ra.Konva.isBrowser&&(window.addEventListener("mouseup",jt.DD._endDragBefore,!0),window.addEventListener("touchend",jt.DD._endDragBefore,!0),window.addEventListener("mousemove",jt.DD._drag),window.addEventListener("touchmove",jt.DD._drag),window.addEventListener("mouseup",jt.DD._endDragAfter,!1),window.addEventListener("touchend",jt.DD._endDragAfter,!1))});var ht=re(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.Node=void 0;var ke=dt(),oa=Se(),ia=na(),Li=Te(),wn=Dc(),_t=Ae(),Sc="absoluteOpacity",xc="allEventListeners",Er="absoluteTransform",f4="absoluteScale",Vi="canvas",$x="Change",Gx="children",zx="konva",V1="listening",h4="mouseenter",p4="mouseleave",g4="set",m4="Shape",Ec=" ",v4="stage",ri="transform",qx="Stage",j1="visible",Wx=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Ec),Yx=1,he=class t{constructor(e){this._id=Yx++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===ri||e===Er)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,r){var n=this._cache.get(e),i=e===ri||e===Er,o=n===void 0||i&&n.dirty===!0;return o&&(n=r.call(this),this._cache.set(e,n)),n}_calculate(e,r,n){if(!this._attachedDepsListeners.get(e)){let i=r.map(o=>o+"Change.konva").join(Ec);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(Vi)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Er&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Vi)){let{scene:e,filter:r,hit:n}=this._cache.get(Vi);ke.Util.releaseCanvas(e,r,n),this._cache.delete(Vi)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var r=e||{},n={};(r.x===void 0||r.y===void 0||r.width===void 0||r.height===void 0)&&(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var i=Math.ceil(r.width||n.width),o=Math.ceil(r.height||n.height),s=r.pixelRatio,a=r.x===void 0?Math.floor(n.x):r.x,l=r.y===void 0?Math.floor(n.y):r.y,c=r.offset||0,u=r.drawBorder||!1,d=r.hitCanvasPixelRatio||1;if(!i||!o){ke.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}let f=Math.abs(Math.round(n.x)-a)>.5?1:0,h=Math.abs(Math.round(n.y)-l)>.5?1:0;i+=c*2+f,o+=c*2+h,a-=c,l-=c;var g=new ia.SceneCanvas({pixelRatio:s,width:i,height:o}),v=new ia.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),b=new ia.HitCanvas({pixelRatio:d,width:i,height:o}),x=g.getContext(),T=b.getContext();return b.isCache=!0,g.isCache=!0,this._cache.delete(Vi),this._filterUpToDate=!1,r.imageSmoothingEnabled===!1&&(g.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1),x.save(),T.save(),x.translate(-a,-l),T.translate(-a,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Sc),this._clearSelfAndDescendantCache(f4),this.drawScene(g,this),this.drawHit(b,this),this._isUnderCache=!1,x.restore(),T.restore(),u&&(x.save(),x.beginPath(),x.rect(0,0,i,o),x.closePath(),x.setAttr("strokeStyle","red"),x.setAttr("lineWidth",5),x.stroke(),x.restore()),this._cache.set(Vi,{scene:g,filter:v,hit:b,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Vi)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,r){var n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=1/0,o=1/0,s=-1/0,a=-1/0,l=this.getAbsoluteTransform(r);return n.forEach(function(c){var u=l.point(c);i===void 0&&(i=s=u.x,o=a=u.y),i=Math.min(i,u.x),o=Math.min(o,u.y),s=Math.max(s,u.x),a=Math.max(a,u.y)}),{x:i,y:o,width:s-i,height:a-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);let r=this._getCanvasCache();e.translate(r.x,r.y);var n=this._getCachedSceneCanvas(),i=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/i,n.height/i),e.restore()}_drawCachedHitCanvas(e){var r=this._getCanvasCache(),n=r.hit;e.save(),e.translate(r.x,r.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),r=this._getCanvasCache(),n=r.scene,i=r.filter,o=i.getContext(),s,a,l,c;if(e){if(!this._filterUpToDate){var u=n.pixelRatio;i.setSize(n.width/n.pixelRatio,n.height/n.pixelRatio);try{for(s=e.length,o.clear(),o.drawImage(n._canvas,0,0,n.getWidth()/u,n.getHeight()/u),a=o.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<s;l++){if(c=e[l],typeof c!="function"){ke.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,a),o.putImageData(a,0,0)}}catch(d){ke.Util.error("Unable to apply filter. "+d.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return n}on(e,r){if(this._cache&&this._cache.delete(xc),arguments.length===3)return this._delegate.apply(this,arguments);var n=e.split(Ec),i=n.length,o,s,a,l,c;for(o=0;o<i;o++)s=n[o],a=s.split("."),l=a[0],c=a[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:c,handler:r});return this}off(e,r){var n=(e||"").split(Ec),i=n.length,o,s,a,l,c,u;if(this._cache&&this._cache.delete(xc),!e)for(s in this.eventListeners)this._off(s);for(o=0;o<i;o++)if(a=n[o],l=a.split("."),c=l[0],u=l[1],c)this.eventListeners[c]&&this._off(c,u,r);else for(s in this.eventListeners)this._off(s,u,r);return this}dispatchEvent(e){var r={target:this,type:e.type,evt:e};return this.fire(e.type,r),this}addEventListener(e,r){return this.on(e,function(n){r.call(this,n.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,r,n){var i=this;this.on(e,function(o){for(var s=o.target.findAncestors(r,!0,i),a=0;a<s.length;a++)o=ke.Util.cloneObject(o),o.currentTarget=s[a],n.call(s[a],o)})}remove(){return this.isDragging()&&this.stopDrag(),wn.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Er),this._clearSelfAndDescendantCache(Sc),this._clearSelfAndDescendantCache(f4),this._clearSelfAndDescendantCache(v4),this._clearSelfAndDescendantCache(j1),this._clearSelfAndDescendantCache(V1)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var r="get"+ke.Util._capitalize(e);return ke.Util._isFunction(this[r])?this[r]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),r=[];e;)r.push(e),e=e.getParent();return r}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var r,n;if(!e)return this;for(r in e)r!==Gx&&(n=g4+ke.Util._capitalize(r),ke.Util._isFunction(this[n])?this[n](e[r]):this._setAttr(r,e[r]))}),this}isListening(){return this._getCache(V1,this._isListening)}_isListening(e){if(!this.listening())return!1;let n=this.getParent();return n&&n!==e&&this!==e?n._isListening(e):!0}isVisible(){return this._getCache(j1,this._isVisible)}_isVisible(e){if(!this.visible())return!1;let n=this.getParent();return n&&n!==e&&this!==e?n._isVisible(e):!0}shouldDrawHit(e,r=!1){if(e)return this._isVisible(e)&&this._isListening(e);var n=this.getLayer(),i=!1;wn.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===n)&&(i=!0)});var o=!r&&!Li.Konva.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),r=this,n=0,i,o,s,a;function l(u){for(i=[],o=u.length,s=0;s<o;s++)a=u[s],n++,a.nodeType!==m4&&(i=i.concat(a.getChildren().slice())),a._id===r._id&&(s=o);i.length>0&&i[0].getDepth()<=e&&l(i)}let c=this.getStage();return r.nodeType!==qx&&c&&l(c.getChildren()),n}getDepth(){for(var e=0,r=this.parent;r;)e++,r=r.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(ri),this._clearSelfAndDescendantCache(Er)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){let e=this.getStage();if(!e)return null;var r=e.getPointerPosition();if(!r)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(r)}getAbsolutePosition(e){let r=!1,n=this.parent;for(;n;){if(n.isCached()){r=!0;break}n=n.parent}r&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),o=new ke.Transform,s=this.offset();return o.m=i.slice(),o.translate(s.x,s.y),o.getTranslation()}setAbsolutePosition(e){let s=this._clearTransform(),{x:r,y:n}=s,i=Xu(s,["x","y"]);this.attrs.x=r,this.attrs.y=n,this._clearCache(ri);var o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(ri),this._clearSelfAndDescendantCache(Er),this}_setTransform(e){var r;for(r in e)this.attrs[r]=e[r]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var r=e.x,n=e.y,i=this.x(),o=this.y();return r!==void 0&&(i+=r),n!==void 0&&(o+=n),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(e,r){var n=[],i=this.getParent(),o,s;if(!(r&&r._id===this._id)){for(n.unshift(this);i&&(!r||i._id!==r._id);)n.unshift(i),i=i.parent;for(o=n.length,s=0;s<o;s++)e(n[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return ke.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ke.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ke.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ke.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return ke.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&ke.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var r=this.index;return this.parent.children.splice(r,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Sc,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),r=this.getParent();return r&&!r._isUnderCache&&(e*=r.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e=this.getAttrs(),r,n,i,o,s;let a={attrs:{},className:this.getClassName()};for(r in e)n=e[r],s=ke.Util.isObject(n)&&!ke.Util._isPlainObject(n)&&!ke.Util._isArray(n),!s&&(i=typeof this[r]=="function"&&this[r],delete e[r],o=i?i.call(this):null,e[r]=n,o!==n&&(a.attrs[r]=n));return ke.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,r,n){var i=[];r&&this._isMatch(e)&&i.push(this);for(var o=this.parent;o;){if(o===n)return i;o._isMatch(e)&&i.push(o),o=o.parent}return i}isAncestorOf(e){return!1}findAncestor(e,r,n){return this.findAncestors(e,r,n)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var r=e.replace(/ /g,"").split(","),n=r.length,i,o;for(i=0;i<n;i++)if(o=r[i],ke.Util.isValidSelector(o)||(ke.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ke.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ke.Util.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(v4,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():null}fire(e,r={},n){return r.target=r.target||this,n?this._fireAndBubble(e,r):this._fire(e,r),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Er,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var r;if(e)return r=new ke.Transform,this._eachAncestorReverse(function(i){var o=i.transformsEnabled();o==="all"?r.multiply(i.getTransform()):o==="position"&&r.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),r;r=this._cache.get(Er)||new ke.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(r):r.reset();var n=this.transformsEnabled();if(n==="all")r.multiply(this.getTransform());else if(n==="position"){let i=this.attrs.x||0,o=this.attrs.y||0,s=this.attrs.offsetX||0,a=this.attrs.offsetY||0;r.translate(i-s,o-a)}return r.dirty=!1,r}getAbsoluteScale(e){for(var r=this;r;)r._isUnderCache&&(e=r),r=r.getParent();let i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(ri,this._getTransform)}_getTransform(){var e,r,n=this._cache.get(ri)||new ke.Transform;n.reset();var i=this.x(),o=this.y(),s=Li.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(r=this.attrs.scaleY)!==null&&r!==void 0?r:1,c=this.attrs.skewX||0,u=this.attrs.skewY||0,d=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return(i!==0||o!==0)&&n.translate(i,o),s!==0&&n.rotate(s),(c!==0||u!==0)&&n.skew(c,u),(a!==1||l!==1)&&n.scale(a,l),(d!==0||f!==0)&&n.translate(-1*d,-1*f),n.dirty=!1,n}clone(e){var r=ke.Util.cloneObject(this.attrs),n,i,o,s,a;for(n in e)r[n]=e[n];var l=new this.constructor(r);for(n in this.eventListeners)for(i=this.eventListeners[n],o=i.length,s=0;s<o;s++)a=i[s],a.name.indexOf(zx)<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(a));return l}_toKonvaCanvas(e){e=e||{};var r=this.getClientRect(),n=this.getStage(),i=e.x!==void 0?e.x:Math.floor(r.x),o=e.y!==void 0?e.y:Math.floor(r.y),s=e.pixelRatio||1,a=new ia.SceneCanvas({width:e.width||Math.ceil(r.width)||(n?n.width():0),height:e.height||Math.ceil(r.height)||(n?n.height():0),pixelRatio:s}),l=a.getContext();let c=new ia.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(o),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||o)&&l.translate(-1*i,-1*o),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var r=e.mimeType||null,n=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(r,n);return e.callback&&e.callback(i),i}toImage(e){return new Promise((r,n)=>{try{let i=e?.callback;i&&delete e.callback,ke.Util._urlToImage(this.toDataURL(e),function(o){r(o),i?.(o)})}catch(i){n(i)}})}toBlob(e){return new Promise((r,n)=>{try{let i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(o=>{r(o),i?.(o)},e?.mimeType,e?.quality)}catch(i){n(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Li.Konva.dragDistance}_off(e,r,n){var i=this.eventListeners[e],o,s,a;for(o=0;o<i.length;o++)if(s=i[o].name,a=i[o].handler,(s!=="konva"||r==="konva")&&(!r||s===r)&&(!n||n===a)){if(i.splice(o,1),i.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,r,n){this._fire(e+$x,{oldVal:r,newVal:n})}addName(e){if(!this.hasName(e)){var r=this.name(),n=r?r+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;let r=this.name();if(!r)return!1;var n=(r||"").split(/\s/g);return n.indexOf(e)!==-1}removeName(e){var r=(this.name()||"").split(/\s/g),n=r.indexOf(e);return n!==-1&&(r.splice(n,1),this.name(r.join(" "))),this}setAttr(e,r){var n=this[g4+ke.Util._capitalize(e)];return ke.Util._isFunction(n)?n.call(this,r):this._setAttr(e,r),this}_requestDraw(){if(Li.Konva.autoDrawEnabled){let e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,r){var n=this.attrs[e];n===r&&!ke.Util.isObject(r)||(r==null?delete this.attrs[e]:this.attrs[e]=r,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,r),this._requestDraw())}_setComponentAttr(e,r,n){var i;n!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][r]=n,this._fireChangeEvent(e,i,n))}_fireAndBubble(e,r,n){r&&this.nodeType===m4&&(r.target=this);var i=(e===h4||e===p4)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||this.nodeType==="Stage"&&!n);if(!i){this._fire(e,r);var o=(e===h4||e===p4)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(r&&!r.cancelBubble||!r)&&this.parent&&this.parent.isListening()&&!o&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,r,n):this._fireAndBubble.call(this.parent,e,r))}}_getProtoListeners(e){var r,n,i;let o=(r=this._cache.get(xc))!==null&&r!==void 0?r:{},s=o?.[e];if(s===void 0){s=[];let a=Object.getPrototypeOf(this);for(;a;){let l=(i=(n=a.eventListeners)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:[];s.push(...l),a=Object.getPrototypeOf(a)}o[e]=s,this._cache.set(xc,o)}return s}_fire(e,r){r=r||{},r.currentTarget=this,r.type=e;let n=this._getProtoListeners(e);if(n)for(var i=0;i<n.length;i++)n[i].handler.call(this,r);let o=this.eventListeners[e];if(o)for(var i=0;i<o.length;i++)o[i].handler.call(this,r)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var r=e?e.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition();if(n){var o=n._getPointerById(r)||n._changedPointerPositions[0]||i;wn.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:r})}}startDrag(e,r=!0){wn.DD._dragElements.has(this._id)||this._createDragElement(e);let n=wn.DD._dragElements.get(this._id);n.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},r)}_setDragPosition(e,r){let n=this.getStage()._getPointerById(r.pointerId);if(n){var i={x:n.x-r.offset.x,y:n.y-r.offset.y},o=this.dragBoundFunc();if(o!==void 0){let s=o.call(this,i,e);s?i=s:ke.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){let r=wn.DD._dragElements.get(this._id);r&&(r.dragStatus="stopped"),wn.DD._endDragBefore(e),wn.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){let e=wn.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var r=e.evt.button!==void 0,n=!r||Li.Konva.dragButtons.indexOf(e.evt.button)>=0;if(n&&!this.isDragging()){var i=!1;wn.DD._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(i=!0)}),i||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;let r=wn.DD._dragElements.get(this._id),n=r&&r.dragStatus==="dragging",i=r&&r.dragStatus==="ready";n?this.stopDrag():i&&wn.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){let r=this.getStage();if(!r)return!1;let n={x:-e.x,y:-e.y,width:r.width()+2*e.x,height:r.height()+2*e.y};return ke.Util.haveIntersection(n,this.getClientRect())}static create(e,r){return ke.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,r)}static _createNode(e,r){var n=t.prototype.getClassName.call(e),i=e.children,o,s,a;r&&(e.attrs.container=r),Li.Konva[n]||(ke.Util.warn('Can not find a node with class name "'+n+'". Fallback to "Shape".'),n="Shape");let l=Li.Konva[n];if(o=new l(e.attrs),i)for(s=i.length,a=0;a<s;a++)o.add(t._createNode(i[a]));return o}};Ic.Node=he;he.prototype.nodeType="Node";he.prototype._attrsAffectingSize=[];he.prototype.eventListeners={};he.prototype.on.call(he.prototype,Wx,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(ri),this._clearSelfAndDescendantCache(Er)});he.prototype.on.call(he.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(j1)});he.prototype.on.call(he.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(V1)});he.prototype.on.call(he.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Sc)});var nt=oa.Factory.addGetterSetter;nt(he,"zIndex");nt(he,"absolutePosition");nt(he,"position");nt(he,"x",0,(0,_t.getNumberValidator)());nt(he,"y",0,(0,_t.getNumberValidator)());nt(he,"globalCompositeOperation","source-over",(0,_t.getStringValidator)());nt(he,"opacity",1,(0,_t.getNumberValidator)());nt(he,"name","",(0,_t.getStringValidator)());nt(he,"id","",(0,_t.getStringValidator)());nt(he,"rotation",0,(0,_t.getNumberValidator)());oa.Factory.addComponentsGetterSetter(he,"scale",["x","y"]);nt(he,"scaleX",1,(0,_t.getNumberValidator)());nt(he,"scaleY",1,(0,_t.getNumberValidator)());oa.Factory.addComponentsGetterSetter(he,"skew",["x","y"]);nt(he,"skewX",0,(0,_t.getNumberValidator)());nt(he,"skewY",0,(0,_t.getNumberValidator)());oa.Factory.addComponentsGetterSetter(he,"offset",["x","y"]);nt(he,"offsetX",0,(0,_t.getNumberValidator)());nt(he,"offsetY",0,(0,_t.getNumberValidator)());nt(he,"dragDistance",null,(0,_t.getNumberValidator)());nt(he,"width",0,(0,_t.getNumberValidator)());nt(he,"height",0,(0,_t.getNumberValidator)());nt(he,"listening",!0,(0,_t.getBooleanValidator)());nt(he,"preventDefault",!0,(0,_t.getBooleanValidator)());nt(he,"filters",null,function(t){return this._filterUpToDate=!1,t});nt(he,"visible",!0,(0,_t.getBooleanValidator)());nt(he,"transformsEnabled","all",(0,_t.getStringValidator)());nt(he,"size");nt(he,"dragBoundFunc");nt(he,"draggable",!1,(0,_t.getBooleanValidator)());oa.Factory.backCompat(he,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})});var sa=re(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.Container=void 0;var Vo=Se(),U1=ht(),Mc=Ae(),Ir=class extends U1.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];let r=this.children||[];var n=[];return r.forEach(function(i){e(i)&&n.push(i)}),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var r=0;r<e.length;r++)this.add(e[r]);return this}let n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var r=this._generalFind(e,!0);return r.length>0?r[0]:void 0}_generalFind(e,r){var n=[];return this._descendants(i=>{let o=i._isMatch(e);return o&&n.push(i),!!(o&&r)}),n}_descendants(e){let r=!1,n=this.getChildren();for(let i of n){if(r=e(i),r)return!0;if(i.hasChildren()&&(r=i._descendants(e),r))return!0}return!1}toObject(){var e=U1.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(r=>{e.children.push(r.toObject())}),e}isAncestorOf(e){for(var r=e.getParent();r;){if(r._id===this._id)return!0;r=r.getParent()}return!1}clone(e){var r=U1.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(n){r.add(n.clone())}),r}getAllIntersections(e){var r=[];return this.find("Shape").forEach(n=>{n.isVisible()&&n.intersects(e)&&r.push(n)}),r}_clearSelfAndDescendantCache(e){var r;super._clearSelfAndDescendantCache(e),!this.isCached()&&((r=this.children)===null||r===void 0||r.forEach(function(n){n._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(r,n){r.index=n}),this._requestDraw()}drawScene(e,r,n){var i=this.getLayer(),o=e||i&&i.getCanvas(),s=o&&o.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=o&&o.isCache;if(!this.isVisible()&&!c)return this;if(l){s.save();var u=this.getAbsoluteTransform(r).getMatrix();s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",o,r,n);return this}drawHit(e,r){if(!this.shouldDrawHit(r))return this;var n=this.getLayer(),i=e||n&&n.hitCanvas,o=i&&i.getContext(),s=this._getCanvasCache(),a=s&&s.hit;if(a){o.save();var l=this.getAbsoluteTransform(r).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,r);return this}_drawChildren(e,r,n,i){var o,s=r&&r.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),u=a&&l||c;let d=n===this;if(u){s.save();var f=this.getAbsoluteTransform(n),h=f.getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),s.beginPath();let x;if(c)x=c.call(this,s,this);else{var g=this.clipX(),v=this.clipY();s.rect(g,v,a,l)}s.clip.apply(s,x),h=f.copy().invert().getMatrix(),s.transform(h[0],h[1],h[2],h[3],h[4],h[5])}var b=!d&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";b&&(s.save(),s._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(x){x[e](r,n,i)}),b&&s.restore(),u&&s.restore()}getClientRect(e={}){var r,n=e.skipTransform,i=e.relativeTo,o,s,a,l,c={x:1/0,y:1/0,width:0,height:0},u=this;(r=this.children)===null||r===void 0||r.forEach(function(v){if(v.visible()){var b=v.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});b.width===0&&b.height===0||(o===void 0?(o=b.x,s=b.y,a=b.x+b.width,l=b.y+b.height):(o=Math.min(o,b.x),s=Math.min(s,b.y),a=Math.max(a,b.x+b.width),l=Math.max(l,b.y+b.height)))}});for(var d=this.find("Shape"),f=!1,h=0;h<d.length;h++){var g=d[h];if(g._isVisible(this)){f=!0;break}}return f&&o!==void 0?c={x:o,y:s,width:a-o,height:l-s}:c={x:0,y:0,width:0,height:0},n?c:this._transformedRect(c,i)}};Tc.Container=Ir;Vo.Factory.addComponentsGetterSetter(Ir,"clip",["x","y","width","height"]);Vo.Factory.addGetterSetter(Ir,"clipX",void 0,(0,Mc.getNumberValidator)());Vo.Factory.addGetterSetter(Ir,"clipY",void 0,(0,Mc.getNumberValidator)());Vo.Factory.addGetterSetter(Ir,"clipWidth",void 0,(0,Mc.getNumberValidator)());Vo.Factory.addGetterSetter(Ir,"clipHeight",void 0,(0,Mc.getNumberValidator)());Vo.Factory.addGetterSetter(Ir,"clipFunc")});var H1=re(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.releaseCapture=bn.setPointerCapture=bn.hasPointerCapture=bn.createEvent=bn.getCapturedShape=void 0;var Kx=Te(),aa=new Map,C4=Kx.Konva._global.PointerEvent!==void 0;function Zx(t){return aa.get(t)}bn.getCapturedShape=Zx;function B1(t){return{evt:t,pointerId:t.pointerId}}bn.createEvent=B1;function Xx(t,e){return aa.get(t)===e}bn.hasPointerCapture=Xx;function Qx(t,e){y4(t),e.getStage()&&(aa.set(t,e),C4&&e._fire("gotpointercapture",B1(new PointerEvent("gotpointercapture"))))}bn.setPointerCapture=Qx;function y4(t,e){let r=aa.get(t);if(!r)return;let n=r.getStage();n&&n.content,aa.delete(t),C4&&r._fire("lostpointercapture",B1(new PointerEvent("lostpointercapture")))}bn.releaseCapture=y4});var R4=re(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.Stage=Tr.stages=void 0;var ir=dt(),Jx=Se(),_4=sa(),Yt=Te(),$1=na(),jo=Dc(),eS=Te(),Mr=H1(),tS="Stage",nS="string",w4="px",rS="mouseout",D4="mouseleave",x4="mouseover",S4="mouseenter",E4="mousemove",I4="mousedown",M4="mouseup",la="pointermove",ca="pointerdown",Bo="pointerup",ua="pointercancel",iS="lostpointercapture",Ac="pointerout",Oc="pointerleave",Nc="pointerover",Rc="pointerenter",z1="contextmenu",T4="touchstart",A4="touchend",O4="touchmove",N4="touchcancel",q1="wheel",oS=5,sS=[[S4,"_pointerenter"],[I4,"_pointerdown"],[E4,"_pointermove"],[M4,"_pointerup"],[D4,"_pointerleave"],[T4,"_pointerdown"],[O4,"_pointermove"],[A4,"_pointerup"],[N4,"_pointercancel"],[x4,"_pointerover"],[q1,"_wheel"],[z1,"_contextmenu"],[ca,"_pointerdown"],[la,"_pointermove"],[Bo,"_pointerup"],[ua,"_pointercancel"],[iS,"_lostpointercapture"]],G1={mouse:{[Ac]:rS,[Oc]:D4,[Nc]:x4,[Rc]:S4,[la]:E4,[ca]:I4,[Bo]:M4,[ua]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Ac]:"touchout",[Oc]:"touchleave",[Nc]:"touchover",[Rc]:"touchenter",[la]:O4,[ca]:T4,[Bo]:A4,[ua]:N4,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Ac]:Ac,[Oc]:Oc,[Nc]:Nc,[Rc]:Rc,[la]:la,[ca]:ca,[Bo]:Bo,[ua]:ua,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},da=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",Uo=t=>{let e=da(t);if(e==="pointer")return Yt.Konva.pointerEventsEnabled&&G1.pointer;if(e==="touch")return G1.touch;if(e==="mouse")return G1.mouse};function b4(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&ir.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}var aS="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";Tr.stages=[];var Ho=class extends _4.Container{constructor(e){super(b4(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Tr.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{b4(this.attrs)}),this._checkVisibility()}_validateAdd(e){let r=e.getType()==="Layer",n=e.getType()==="FastLayer";r||n||ir.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;let e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===nS){if(e.charAt(0)==="."){var r=e.slice(1);e=document.getElementsByClassName(r)[0]}else{var n;e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n)}if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e=this.children,r=e.length,n;for(n=0;n<r;n++)e[n].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),_4.Container.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&ir.Util._isInDocument(e)&&this.container().removeChild(e);var r=Tr.stages.indexOf(this);return r>-1&&Tr.stages.splice(r,1),ir.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){let e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(ir.Util.warn(aS),null)}_getPointerById(e){return this._pointerPositions.find(r=>r.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var r=new $1.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=r.getContext()._context,i=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),i.forEach(function(o){if(o.isVisible()){var s=o._toKonvaCanvas(e);n.drawImage(s._canvas,e.x,e.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}}),r}getIntersection(e){if(!e)return null;var r=this.children,n=r.length,i=n-1,o;for(o=i;o>=0;o--){let s=r[o].getIntersection(e);if(s)return s}return null}_resizeDOM(){var e=this.width(),r=this.height();this.content&&(this.content.style.width=e+w4,this.content.style.height=r+w4),this.bufferCanvas.setSize(e,r),this.bufferHitCanvas.setSize(e,r),this.children.forEach(n=>{n.setSize({width:e,height:r}),n.draw()})}add(e,...r){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}super.add(e);var i=this.children.length;return i>oS&&ir.Util.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Yt.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return Mr.hasPointerCapture(e,this)}setPointerCapture(e){Mr.setPointerCapture(e,this)}releaseCapture(e){Mr.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){Yt.Konva.isBrowser&&sS.forEach(([e,r])=>{this.content.addEventListener(e,n=>{this[r](n)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);let r=Uo(e.type);r&&this._fire(r.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);let r=Uo(e.type);r&&this._fire(r.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let r=this[e+"targetShape"];return r&&!r.getStage()&&(r=null),r}_pointerleave(e){let r=Uo(e.type),n=da(e.type);if(r){this.setPointersPositions(e);var i=this._getTargetShape(n),o=!jo.DD.isDragging||Yt.Konva.hitOnDragEnabled;i&&o?(i._fireAndBubble(r.pointerout,{evt:e}),i._fireAndBubble(r.pointerleave,{evt:e}),this._fire(r.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):o&&(this._fire(r.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(r.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(e){let r=Uo(e.type),n=da(e.type);if(r){this.setPointersPositions(e);var i=!1;this._changedPointerPositions.forEach(o=>{var s=this.getIntersection(o);if(jo.DD.justDragged=!1,Yt.Konva["_"+n+"ListenClick"]=!0,!s||!s.isListening())return;Yt.Konva.capturePointerEventsEnabled&&s.setPointerCapture(o.id),this[n+"ClickStartShape"]=s,s._fireAndBubble(r.pointerdown,{evt:e,pointerId:o.id}),i=!0;let a=e.type.indexOf("touch")>=0;s.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(r.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){let r=Uo(e.type),n=da(e.type);if(!r)return;jo.DD.isDragging&&jo.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);var i=!jo.DD.isDragging||Yt.Konva.hitOnDragEnabled;if(!i)return;var o={};let s=!1;var a=this._getTargetShape(n);this._changedPointerPositions.forEach(l=>{let c=Mr.getCapturedShape(l.id)||this.getIntersection(l),u=l.id,d={evt:e,pointerId:u};var f=a!==c;if(f&&a&&(a._fireAndBubble(r.pointerout,M({},d),c),a._fireAndBubble(r.pointerleave,M({},d),c)),c){if(o[c._id])return;o[c._id]=!0}c&&c.isListening()?(s=!0,f&&(c._fireAndBubble(r.pointerover,M({},d),a),c._fireAndBubble(r.pointerenter,M({},d),a),this[n+"targetShape"]=c),c._fireAndBubble(r.pointermove,M({},d))):a&&(this._fire(r.pointerover,{evt:e,target:this,currentTarget:this,pointerId:u}),this[n+"targetShape"]=null)}),s||this._fire(r.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){let r=Uo(e.type),n=da(e.type);if(!r)return;this.setPointersPositions(e);let i=this[n+"ClickStartShape"],o=this[n+"ClickEndShape"];var s={};let a=!1;this._changedPointerPositions.forEach(l=>{let c=Mr.getCapturedShape(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),s[c._id])return;s[c._id]=!0}let u=l.id,d={evt:e,pointerId:u},f=!1;Yt.Konva["_"+n+"InDblClickWindow"]?(f=!0,clearTimeout(this[n+"DblTimeout"])):jo.DD.justDragged||(Yt.Konva["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout(function(){Yt.Konva["_"+n+"InDblClickWindow"]=!1},Yt.Konva.dblClickWindow),c&&c.isListening()?(a=!0,this[n+"ClickEndShape"]=c,c._fireAndBubble(r.pointerup,M({},d)),Yt.Konva["_"+n+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(r.pointerclick,M({},d)),f&&o&&o===c&&c._fireAndBubble(r.pointerdblclick,M({},d)))):(this[n+"ClickEndShape"]=null,Yt.Konva["_"+n+"ListenClick"]&&this._fire(r.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:u}),f&&this._fire(r.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:u}))}),a||this._fire(r.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Yt.Konva["_"+n+"ListenClick"]=!1,e.cancelable&&n!=="touch"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var r=this.getIntersection(this.getPointerPosition());r&&r.isListening()?r._fireAndBubble(z1,{evt:e}):this._fire(z1,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var r=this.getIntersection(this.getPointerPosition());r&&r.isListening()?r._fireAndBubble(q1,{evt:e}):this._fire(q1,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);let r=Mr.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());r&&r._fireAndBubble(Bo,Mr.createEvent(e)),Mr.releaseCapture(e.pointerId)}_lostpointercapture(e){Mr.releaseCapture(e.pointerId)}setPointersPositions(e){var r=this._getContentPosition(),n=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-r.left)/r.scaleX,y:(o.clientY-r.top)/r.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-r.left)/r.scaleX,y:(o.clientY-r.top)/r.scaleY})})):(n=(e.clientX-r.left)/r.scaleX,i=(e.clientY-r.top)/r.scaleY,this.pointerPos={x:n,y:i},this._pointerPositions=[{x:n,y:i,id:ir.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:i,id:ir.Util._getFirstPointerId(e)}])}_setPointerPosition(e){ir.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new $1.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new $1.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!Yt.Konva.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return ir.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Tr.Stage=Ho;Ho.prototype.nodeType=tS;(0,eS._registerNode)(Ho);Jx.Factory.addGetterSetter(Ho,"container")});var At=re(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.Shape=Ar.shapes=void 0;var lS=Te(),or=dt(),ee=Se(),P4=ht(),It=Ae(),cS=Te(),W1=H1(),F4="hasShadow",k4="shadowRGBA",L4="patternImage",V4="linearGradient",j4="radialGradient",Pc;function Y1(){return Pc||(Pc=or.Util.createCanvasElement().getContext("2d"),Pc)}Ar.shapes={};function uS(t){let e=this.attrs.fillRule;e?t.fill(e):t.fill()}function dS(t){t.stroke()}function fS(t){t.fill()}function hS(t){t.stroke()}function pS(){this._clearCache(F4)}function gS(){this._clearCache(k4)}function mS(){this._clearCache(L4)}function vS(){this._clearCache(V4)}function CS(){this._clearCache(j4)}var G=class extends P4.Node{constructor(e){super(e);let r;for(;r=or.Util.getRandomColor(),!(r&&!(r in Ar.shapes)););this.colorKey=r,Ar.shapes[r]=this}getContext(){return or.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return or.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(F4,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(L4,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=Y1();let r=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(r&&r.setTransform){let n=new or.Transform;n.translate(this.fillPatternX(),this.fillPatternY()),n.rotate(lS.Konva.getAngle(this.fillPatternRotation())),n.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),n.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());let i=n.getMatrix(),o=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);r.setTransform(o)}return r}}_getLinearGradient(){return this._getCache(V4,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var r=Y1(),n=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),o=r.createLinearGradient(n.x,n.y,i.x,i.y),s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}_getRadialGradient(){return this._getCache(j4,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var r=Y1(),n=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),o=r.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}getShadowRGBA(){return this._getCache(k4,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=or.Util.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){let e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var r=this.getStage();if(!r)return!1;let n=r.bufferHitCanvas;return n.getContext().clear(),this.drawHit(n,void 0,!0),n.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return P4.Node.prototype.destroy.call(this),delete Ar.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var r;if(!((r=this.attrs.perfectDrawEnabled)!==null&&r!==void 0?r:!0))return!1;let i=e||this.hasFill(),o=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(i&&o&&s)return!0;let a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&o&&a&&l)}setStrokeHitEnabled(e){or.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let r=e.skipTransform,n=e.relativeTo,i=this.getSelfRect(),s=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=i.width+s,l=i.height+s,c=!e.skipShadow&&this.hasShadow(),u=c?this.shadowOffsetX():0,d=c?this.shadowOffsetY():0,f=a+Math.abs(u),h=l+Math.abs(d),g=c&&this.shadowBlur()||0,v=f+g*2,b=h+g*2,x={width:v,height:b,x:-(s/2+g)+Math.min(u,0)+i.x,y:-(s/2+g)+Math.min(d,0)+i.y};return r?x:this._transformedRect(x,n)}drawScene(e,r,n){var i=this.getLayer(),o=e||i.getCanvas(),s=o.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),u,d,f=o.isCache,h=r===this;if(!this.isVisible()&&!h)return this;if(a){s.save();var g=this.getAbsoluteTransform(r).getMatrix();return s.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()&&!f){u=this.getStage();let x=n||u.bufferCanvas;d=x.getContext(),d.clear(),d.save(),d._applyLineJoin(this);var v=this.getAbsoluteTransform(r).getMatrix();d.transform(v[0],v[1],v[2],v[3],v[4],v[5]),l.call(this,d,this),d.restore();var b=x.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(x._canvas,0,0,x.width/b,x.height/b)}else{if(s._applyLineJoin(this),!h){var v=this.getAbsoluteTransform(r).getMatrix();s.transform(v[0],v[1],v[2],v[3],v[4],v[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}c&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(e,r,n=!1){if(!this.shouldDrawHit(r,n))return this;var i=this.getLayer(),o=e||i.hitCanvas,s=o&&o.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||or.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){s.save();var u=this.getAbsoluteTransform(r).getMatrix();return s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!a)return this;if(s.save(),s._applyLineJoin(this),!(this===r)){var f=this.getAbsoluteTransform(r).getMatrix();s.transform(f[0],f[1],f[2],f[3],f[4],f[5])}return a.call(this,s,this),s.restore(),this}drawHitFromCache(e=0){var r=this._getCanvasCache(),n=this._getCachedSceneCanvas(),i=r.hit,o=i.getContext(),s=i.getWidth(),a=i.getHeight(),l,c,u,d,f,h;o.clear(),o.drawImage(n._canvas,0,0,s,a);try{for(l=o.getImageData(0,0,s,a),c=l.data,u=c.length,d=or.Util._hexToRgb(this.colorKey),f=0;f<u;f+=4)h=c[f+3],h>e?(c[f]=d.r,c[f+1]=d.g,c[f+2]=d.b,c[f+3]=255):c[f+3]=0;o.putImageData(l,0,0)}catch(g){or.Util.error("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}hasPointerCapture(e){return W1.hasPointerCapture(e,this)}setPointerCapture(e){W1.setPointerCapture(e,this)}releaseCapture(e){W1.releaseCapture(e,this)}};Ar.Shape=G;G.prototype._fillFunc=uS;G.prototype._strokeFunc=dS;G.prototype._fillFuncHit=fS;G.prototype._strokeFuncHit=hS;G.prototype._centroid=!1;G.prototype.nodeType="Shape";(0,cS._registerNode)(G);G.prototype.eventListeners={};G.prototype.on.call(G.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",pS);G.prototype.on.call(G.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",gS);G.prototype.on.call(G.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",mS);G.prototype.on.call(G.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",vS);G.prototype.on.call(G.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",CS);ee.Factory.addGetterSetter(G,"stroke",void 0,(0,It.getStringOrGradientValidator)());ee.Factory.addGetterSetter(G,"strokeWidth",2,(0,It.getNumberValidator)());ee.Factory.addGetterSetter(G,"fillAfterStrokeEnabled",!1);ee.Factory.addGetterSetter(G,"hitStrokeWidth","auto",(0,It.getNumberOrAutoValidator)());ee.Factory.addGetterSetter(G,"strokeHitEnabled",!0,(0,It.getBooleanValidator)());ee.Factory.addGetterSetter(G,"perfectDrawEnabled",!0,(0,It.getBooleanValidator)());ee.Factory.addGetterSetter(G,"shadowForStrokeEnabled",!0,(0,It.getBooleanValidator)());ee.Factory.addGetterSetter(G,"lineJoin");ee.Factory.addGetterSetter(G,"lineCap");ee.Factory.addGetterSetter(G,"sceneFunc");ee.Factory.addGetterSetter(G,"hitFunc");ee.Factory.addGetterSetter(G,"dash");ee.Factory.addGetterSetter(G,"dashOffset",0,(0,It.getNumberValidator)());ee.Factory.addGetterSetter(G,"shadowColor",void 0,(0,It.getStringValidator)());ee.Factory.addGetterSetter(G,"shadowBlur",0,(0,It.getNumberValidator)());ee.Factory.addGetterSetter(G,"shadowOpacity",1,(0,It.getNumberValidator)());ee.Factory.addComponentsGetterSetter(G,"shadowOffset",["x","y"]);ee.Factory.addGetterSetter(G,"shadowOffsetX",0,(0,It.getNumberValidator)());ee.Factory.addGetterSetter(G,"shadowOffsetY",0,(0,It.getNumberValidator)());ee.Factory.addGetterSetter(G,"fillPatternImage");ee.Factory.addGetterSetter(G,"fill",void 0,(0,It.getStringOrGradientValidator)());ee.Factory.addGetterSetter(G,"fillPatternX",0,(0,It.getNumberValidator)());ee.Factory.addGetterSetter(G,"fillPatternY",0,(0,It.getNumberValidator)());ee.Factory.addGetterSetter(G,"fillLinearGradientColorStops");ee.Factory.addGetterSetter(G,"strokeLinearGradientColorStops");ee.Factory.addGetterSetter(G,"fillRadialGradientStartRadius",0);ee.Factory.addGetterSetter(G,"fillRadialGradientEndRadius",0);ee.Factory.addGetterSetter(G,"fillRadialGradientColorStops");ee.Factory.addGetterSetter(G,"fillPatternRepeat","repeat");ee.Factory.addGetterSetter(G,"fillEnabled",!0);ee.Factory.addGetterSetter(G,"strokeEnabled",!0);ee.Factory.addGetterSetter(G,"shadowEnabled",!0);ee.Factory.addGetterSetter(G,"dashEnabled",!0);ee.Factory.addGetterSetter(G,"strokeScaleEnabled",!0);ee.Factory.addGetterSetter(G,"fillPriority","color");ee.Factory.addComponentsGetterSetter(G,"fillPatternOffset",["x","y"]);ee.Factory.addGetterSetter(G,"fillPatternOffsetX",0,(0,It.getNumberValidator)());ee.Factory.addGetterSetter(G,"fillPatternOffsetY",0,(0,It.getNumberValidator)());ee.Factory.addComponentsGetterSetter(G,"fillPatternScale",["x","y"]);ee.Factory.addGetterSetter(G,"fillPatternScaleX",1,(0,It.getNumberValidator)());ee.Factory.addGetterSetter(G,"fillPatternScaleY",1,(0,It.getNumberValidator)());ee.Factory.addComponentsGetterSetter(G,"fillLinearGradientStartPoint",["x","y"]);ee.Factory.addComponentsGetterSetter(G,"strokeLinearGradientStartPoint",["x","y"]);ee.Factory.addGetterSetter(G,"fillLinearGradientStartPointX",0);ee.Factory.addGetterSetter(G,"strokeLinearGradientStartPointX",0);ee.Factory.addGetterSetter(G,"fillLinearGradientStartPointY",0);ee.Factory.addGetterSetter(G,"strokeLinearGradientStartPointY",0);ee.Factory.addComponentsGetterSetter(G,"fillLinearGradientEndPoint",["x","y"]);ee.Factory.addComponentsGetterSetter(G,"strokeLinearGradientEndPoint",["x","y"]);ee.Factory.addGetterSetter(G,"fillLinearGradientEndPointX",0);ee.Factory.addGetterSetter(G,"strokeLinearGradientEndPointX",0);ee.Factory.addGetterSetter(G,"fillLinearGradientEndPointY",0);ee.Factory.addGetterSetter(G,"strokeLinearGradientEndPointY",0);ee.Factory.addComponentsGetterSetter(G,"fillRadialGradientStartPoint",["x","y"]);ee.Factory.addGetterSetter(G,"fillRadialGradientStartPointX",0);ee.Factory.addGetterSetter(G,"fillRadialGradientStartPointY",0);ee.Factory.addComponentsGetterSetter(G,"fillRadialGradientEndPoint",["x","y"]);ee.Factory.addGetterSetter(G,"fillRadialGradientEndPointX",0);ee.Factory.addGetterSetter(G,"fillRadialGradientEndPointY",0);ee.Factory.addGetterSetter(G,"fillPatternRotation",0);ee.Factory.addGetterSetter(G,"fillRule",void 0,(0,It.getStringValidator)());ee.Factory.backCompat(G,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})});var X1=re(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.Layer=void 0;var Or=dt(),K1=sa(),$o=ht(),Z1=Se(),U4=na(),yS=Ae(),_S=At(),wS=Te(),bS="#",DS="beforeDraw",xS="draw",B4=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],SS=B4.length,ii=class extends K1.Container{constructor(e){super(e),this.canvas=new U4.SceneCanvas,this.hitCanvas=new U4.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var r=this.getStage();return r&&r.content&&(r.content.removeChild(this.getNativeCanvasElement()),e<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[e+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){$o.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=$o.Node.prototype.moveUp.call(this);if(!e)return!1;var r=this.getStage();return!r||!r.content?!1:(r.content.removeChild(this.getNativeCanvasElement()),this.index<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[this.index+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if($o.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if($o.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return $o.Node.prototype.remove.call(this),e&&e.parentNode&&Or.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:r}){return this.canvas.setSize(e,r),this.hitCanvas.setSize(e,r),this._setSmoothEnabled(),this}_validateAdd(e){var r=e.getType();r!=="Group"&&r!=="Shape"&&Or.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),$o.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Or.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Or.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Or.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var r=1,n=!1;;){for(let i=0;i<SS;i++){let o=B4[i],s=this._getIntersection({x:e.x+o.x*r,y:e.y+o.y*r}),a=s.shape;if(a)return a;if(n=!!s.antialiased,!s.antialiased)break}if(n)r+=1;else return null}}_getIntersection(e){let r=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*r),Math.round(e.y*r),1,1).data,i=n[3];if(i===255){let o=Or.Util._rgbToHex(n[0],n[1],n[2]),s=_S.shapes[bS+o];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,r){var n=this.getLayer(),i=e||n&&n.getCanvas();return this._fire(DS,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),K1.Container.prototype.drawScene.call(this,i,r),this._fire(xS,{node:this}),this}drawHit(e,r){var n=this.getLayer(),i=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),K1.Container.prototype.drawHit.call(this,i,r),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Or.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Or.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,r=!!this.hitCanvas._canvas.parentNode;r?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return Or.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Fc.Layer=ii;ii.prototype.nodeType="Layer";(0,wS._registerNode)(ii);Z1.Factory.addGetterSetter(ii,"imageSmoothingEnabled",!0);Z1.Factory.addGetterSetter(ii,"clearBeforeDraw",!0);Z1.Factory.addGetterSetter(ii,"hitGraphEnabled",!0,(0,yS.getBooleanValidator)())});var H4=re(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.FastLayer=void 0;var ES=dt(),IS=X1(),MS=Te(),fa=class extends IS.Layer{constructor(e){super(e),this.listening(!1),ES.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};kc.FastLayer=fa;fa.prototype.nodeType="FastLayer";(0,MS._registerNode)(fa)});var Vc=re(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.Group=void 0;var TS=dt(),AS=sa(),OS=Te(),ha=class extends AS.Container{_validateAdd(e){var r=e.getType();r!=="Group"&&r!=="Shape"&&TS.Util.throw("You may only add groups and shapes to groups.")}};Lc.Group=ha;ha.prototype.nodeType="Group";(0,OS._registerNode)(ha)});var Uc=re(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.Animation=void 0;var Q1=Te(),$4=dt(),J1=function(){return Q1.glob.performance&&Q1.glob.performance.now?function(){return Q1.glob.performance.now()}:function(){return new Date().getTime()}}(),Go=class t{constructor(e,r){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:J1(),frameRate:0},this.func=e,this.setLayers(r)}setLayers(e){let r=[];return e&&(r=Array.isArray(e)?e:[e]),this.layers=r,this}getLayers(){return this.layers}addLayer(e){let r=this.layers,n=r.length;for(let i=0;i<n;i++)if(r[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){let r=t.animations,n=r.length;for(let i=0;i<n;i++)if(r[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=J1(),t._addAnimation(this),this}stop(){return t._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){let r=e.id,n=this.animations,i=n.length;for(let o=0;o<i;o++)if(n[o].id===r){this.animations.splice(o,1);break}}static _runFrames(){let e={},r=this.animations;for(let n=0;n<r.length;n++){let i=r[n],o=i.layers,s=i.func;i._updateFrameObject(J1());let a=o.length,l;if(s?l=s.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){let u=o[c];u._id!==void 0&&(e[u._id]=u)}}for(let n in e)e.hasOwnProperty(n)&&e[n].batchDraw()}static _animationLoop(){let e=t;e.animations.length?(e._runFrames(),$4.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,$4.Util.requestAnimFrame(this._animationLoop))}};jc.Animation=Go;Go.animations=[];Go.animIdCounter=0;Go.animRunning=!1});var W4=re(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.Easings=sr.Tween=void 0;var Nr=dt(),NS=Uc(),RS=ht(),PS=Te(),FS={node:1,duration:1,easing:1,onFinish:1,yoyo:1},kS=1,G4=2,z4=3,LS=0,q4=["fill","stroke","shadowColor"],ep=class{constructor(e,r,n,i,o,s,a){this.prop=e,this.propFunc=r,this.begin=i,this._pos=i,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=o-this.begin,this.pause()}fire(e){var r=this[e];r&&r()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=G4,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=z4,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;this.state===G4?this.setTime(e):this.state===z4&&this.setTime(this.duration-e)}pause(){this.state=kS,this.fire("onPause")}getTimer(){return new Date().getTime()}},zo=class t{constructor(e){var r=this,n=e.node,i=n._id,o,s=e.easing||sr.Easings.Linear,a=!!e.yoyo,l;typeof e.duration>"u"?o=.3:e.duration===0?o=.001:o=e.duration,this.node=n,this._id=LS++;var c=n.getLayer()||(n instanceof PS.Konva.Stage?n.getLayers():null);c||Nr.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new NS.Animation(function(){r.tween.onEnterFrame()},c),this.tween=new ep(l,function(u){r._tweenFunc(u)},s,0,1,o*1e3,a),this._addListeners(),t.attrs[i]||(t.attrs[i]={}),t.attrs[i][this._id]||(t.attrs[i][this._id]={}),t.tweens[i]||(t.tweens[i]={});for(l in e)FS[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,r){var n=this.node,i=n._id,o,s,a,l,c,u,d,f;if(a=t.tweens[i][e],a&&delete t.attrs[i][a][e],o=n.getAttr(e),Nr.Util._isArray(r))if(s=[],c=Math.max(r.length,o.length),e==="points"&&r.length!==o.length&&(r.length>o.length?(d=o,o=Nr.Util._prepareArrayForTween(o,r,n.closed())):(u=r,r=Nr.Util._prepareArrayForTween(r,o,n.closed()))),e.indexOf("fill")===0)for(l=0;l<c;l++)if(l%2===0)s.push(r[l]-o[l]);else{var h=Nr.Util.colorToRGBA(o[l]);f=Nr.Util.colorToRGBA(r[l]),o[l]=h,s.push({r:f.r-h.r,g:f.g-h.g,b:f.b-h.b,a:f.a-h.a})}else for(l=0;l<c;l++)s.push(r[l]-o[l]);else q4.indexOf(e)!==-1?(o=Nr.Util.colorToRGBA(o),f=Nr.Util.colorToRGBA(r),s={r:f.r-o.r,g:f.g-o.g,b:f.b-o.b,a:f.a-o.a}):s=r-o;t.attrs[i][this._id][e]={start:o,diff:s,end:r,trueEnd:u,trueStart:d},t.tweens[i][e]=this._id}_tweenFunc(e){var r=this.node,n=t.attrs[r._id][this._id],i,o,s,a,l,c,u,d;for(i in n){if(o=n[i],s=o.start,a=o.diff,d=o.end,Nr.Util._isArray(s))if(l=[],u=Math.max(s.length,d.length),i.indexOf("fill")===0)for(c=0;c<u;c++)c%2===0?l.push((s[c]||0)+a[c]*e):l.push("rgba("+Math.round(s[c].r+a[c].r*e)+","+Math.round(s[c].g+a[c].g*e)+","+Math.round(s[c].b+a[c].b*e)+","+(s[c].a+a[c].a*e)+")");else for(c=0;c<u;c++)l.push((s[c]||0)+a[c]*e);else q4.indexOf(i)!==-1?l="rgba("+Math.round(s.r+a.r*e)+","+Math.round(s.g+a.g*e)+","+Math.round(s.b+a.b*e)+","+(s.a+a.a*e)+")":l=s+a*e;r.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,r=t.attrs[e._id][this._id];r.points&&r.points.trueEnd&&e.setAttr("points",r.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,r=t.attrs[e._id][this._id];r.points&&r.points.trueStart&&e.points(r.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e=this.node._id,r=this._id,n=t.tweens[e],i;this.pause();for(i in n)delete t.tweens[e][i];delete t.attrs[e][r]}};sr.Tween=zo;zo.attrs={};zo.tweens={};RS.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var r=new zo(t);r.play()};sr.Easings={BackEaseIn(t,e,r,n){var i=1.70158;return r*(t/=n)*t*((i+1)*t-i)+e},BackEaseOut(t,e,r,n){var i=1.70158;return r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut(t,e,r,n){var i=1.70158;return(t/=n/2)<1?r/2*(t*t*(((i*=1.525)+1)*t-i))+e:r/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,r,n,i,o){var s=0;return t===0?e:(t/=n)===1?e+r:(o||(o=n*.3),!i||i<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o))+e)},ElasticEaseOut(t,e,r,n,i,o){var s=0;return t===0?e:(t/=n)===1?e+r:(o||(o=n*.3),!i||i<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),i*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/o)+r+e)},ElasticEaseInOut(t,e,r,n,i,o){var s=0;return t===0?e:(t/=n/2)===2?e+r:(o||(o=n*(.3*1.5)),!i||i<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o)*.5+r+e)},BounceEaseOut(t,e,r,n){return(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,r,n){return r-sr.Easings.BounceEaseOut(n-t,0,r,n)+e},BounceEaseInOut(t,e,r,n){return t<n/2?sr.Easings.BounceEaseIn(t*2,0,r,n)*.5+e:sr.Easings.BounceEaseOut(t*2-n,0,r,n)*.5+r*.5+e},EaseIn(t,e,r,n){return r*(t/=n)*t+e},EaseOut(t,e,r,n){return-r*(t/=n)*(t-2)+e},EaseInOut(t,e,r,n){return(t/=n/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,r,n){return r*(t/=n)*t*t*t*t+e},StrongEaseOut(t,e,r,n){return r*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,r,n){return r*t/n+e}}});var X4=re(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.Konva=void 0;var VS=Te(),tp=dt(),jS=ht(),US=sa(),Y4=R4(),BS=X1(),HS=H4(),$S=Vc(),GS=Dc(),K4=At(),zS=Uc(),Z4=W4(),qS=F1(),WS=na();qo.Konva=tp.Util._assign(VS.Konva,{Util:tp.Util,Transform:tp.Transform,Node:jS.Node,Container:US.Container,Stage:Y4.Stage,stages:Y4.stages,Layer:BS.Layer,FastLayer:HS.FastLayer,Group:$S.Group,DD:GS.DD,Shape:K4.Shape,shapes:K4.shapes,Animation:zS.Animation,Tween:Z4.Tween,Easings:Z4.Easings,Context:qS.Context,Canvas:WS.Canvas});qo.default=qo.Konva});var J4=re($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.Arc=void 0;var Bc=Se(),YS=At(),Q4=Te(),Hc=Ae(),KS=Te(),jn=class extends YS.Shape{_sceneFunc(e){var r=Q4.Konva.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,r,n),e.arc(0,0,this.innerRadius(),r,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){let e=this.innerRadius(),r=this.outerRadius(),n=this.clockwise(),i=Q4.Konva.getAngle(n?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),s=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=o*(o>0?e:r),u=s*(s>0?r:e),d=a*(a>0?e:r),f=l*(l>0?r:e);return{x:c,y:n?-1*f:d,width:u-c,height:f-d}}};$c.Arc=jn;jn.prototype._centroid=!0;jn.prototype.className="Arc";jn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,KS._registerNode)(jn);Bc.Factory.addGetterSetter(jn,"innerRadius",0,(0,Hc.getNumberValidator)());Bc.Factory.addGetterSetter(jn,"outerRadius",0,(0,Hc.getNumberValidator)());Bc.Factory.addGetterSetter(jn,"angle",0,(0,Hc.getNumberValidator)());Bc.Factory.addGetterSetter(jn,"clockwise",!1,(0,Hc.getBooleanValidator)())});var rp=re(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.Line=void 0;var Gc=Se(),ZS=At(),t5=Ae(),XS=Te();function np(t,e,r,n,i,o,s){var a=Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2)),l=Math.sqrt(Math.pow(i-r,2)+Math.pow(o-n,2)),c=s*a/(a+l),u=s*l/(a+l),d=r-c*(i-t),f=n-c*(o-e),h=r+u*(i-t),g=n+u*(o-e);return[d,f,h,g]}function e5(t,e){var r=t.length,n=[],i,o;for(i=2;i<r-2;i+=2)o=np(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),!isNaN(o[0])&&(n.push(o[0]),n.push(o[1]),n.push(t[i]),n.push(t[i+1]),n.push(o[2]),n.push(o[3]));return n}var ar=class extends ZS.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var r=this.points(),n=r.length,i=this.tension(),o=this.closed(),s=this.bezier(),a,l,c;if(n){if(e.beginPath(),e.moveTo(r[0],r[1]),i!==0&&n>4){for(a=this.getTensionPoints(),l=a.length,c=o?0:4,o||e.quadraticCurveTo(a[0],a[1],a[2],a[3]);c<l-2;)e.bezierCurveTo(a[c++],a[c++],a[c++],a[c++],a[c++],a[c++]);o||e.quadraticCurveTo(a[l-2],a[l-1],r[n-2],r[n-1])}else if(s)for(c=2;c<n;)e.bezierCurveTo(r[c++],r[c++],r[c++],r[c++],r[c++],r[c++]);else for(c=2;c<n;c+=2)e.lineTo(r[c],r[c+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():e5(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),r=e.length,n=this.tension(),i=np(e[r-2],e[r-1],e[0],e[1],e[2],e[3],n),o=np(e[r-4],e[r-3],e[r-2],e[r-1],e[0],e[1],n),s=e5(e,n),a=[i[2],i[3]].concat(s).concat([o[0],o[1],e[r-2],e[r-1],o[2],o[3],i[0],i[1],e[0],e[1]]);return a}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var r=e[0],n=e[0],i=e[1],o=e[1],s,a,l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],r=Math.min(r,s),n=Math.max(n,s),i=Math.min(i,a),o=Math.max(o,a);return{x:r,y:i,width:n-r,height:o-i}}};zc.Line=ar;ar.prototype.className="Line";ar.prototype._attrsAffectingSize=["points","bezier","tension"];(0,XS._registerNode)(ar);Gc.Factory.addGetterSetter(ar,"closed",!1);Gc.Factory.addGetterSetter(ar,"bezier",!1);Gc.Factory.addGetterSetter(ar,"tension",0,(0,t5.getNumberValidator)());Gc.Factory.addGetterSetter(ar,"points",[],(0,t5.getNumberArrayValidator)())});var n5=re(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.t2length=Ut.getQuadraticArcLength=Ut.getCubicArcLength=Ut.binomialCoefficients=Ut.cValues=Ut.tValues=void 0;Ut.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]];Ut.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]];Ut.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];var QS=(t,e,r)=>{let n,i,o;n=r/2,i=0;for(let a=0;a<20;a++)o=n*Ut.tValues[20][a]+n,i+=Ut.cValues[20][a]*eE(t,e,o);return n*i};Ut.getCubicArcLength=QS;var JS=(t,e,r)=>{r===void 0&&(r=1);let n=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],o=2*t[1]-2*t[0],s=2*e[1]-2*e[0],a=4*(n*n+i*i),l=4*(n*o+i*s),c=o*o+s*s;if(a===0)return r*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));let u=l/(2*a),d=c/a,f=r+u,h=d-u*u,g=f*f+h>0?Math.sqrt(f*f+h):0,v=u*u+h>0?Math.sqrt(u*u+h):0,b=u+Math.sqrt(u*u+h)!==0?h*Math.log(Math.abs((f+g)/(u+v))):0;return Math.sqrt(a)/2*(f*g-u*v+b)};Ut.getQuadraticArcLength=JS;function eE(t,e,r){let n=ip(1,r,t),i=ip(1,r,e),o=n*n+i*i;return Math.sqrt(o)}var ip=(t,e,r)=>{let n=r.length-1,i,o;if(n===0)return 0;if(t===0){o=0;for(let s=0;s<=n;s++)o+=Ut.binomialCoefficients[n][s]*Math.pow(1-e,n-s)*Math.pow(e,s)*r[s];return o}else{i=new Array(n);for(let s=0;s<n;s++)i[s]=n*(r[s+1]-r[s]);return ip(t-1,e,i)}},tE=(t,e,r)=>{let n=1,i=t/e,o=(t-r(i))/e,s=0;for(;n>.001;){let a=r(i+o),l=Math.abs(t-a)/e;if(l<n)n=l,i+=o;else{let c=r(i-o),u=Math.abs(t-c)/e;u<n?(n=u,i-=o):o/=2}if(s++,s>500)break}return i};Ut.t2length=tE});var Wc=re(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.Path=void 0;var nE=Se(),rE=At(),iE=Te(),Wo=n5(),ji=class t extends rE.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=t.parsePathData(this.data()),this.pathLength=t.getPathLength(this.dataArray)}_sceneFunc(e){var r=this.dataArray;e.beginPath();for(var n=!1,i=0;i<r.length;i++){var o=r[i].command,s=r[i].points;switch(o){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":var a=s[0],l=s[1],c=s[2],u=s[3],d=s[4],f=s[5],h=s[6],g=s[7],v=c>u?c:u,b=c>u?1:c/u,x=c>u?u/c:1;e.translate(a,l),e.rotate(h),e.scale(b,x),e.arc(0,0,v,d,d+f,1-g),e.scale(1/b,1/x),e.rotate(-h),e.translate(-a,-l);break;case"z":n=!0,e.closePath();break}}!n&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(c){if(c.command==="A"){var u=c.points[4],d=c.points[5],f=c.points[4]+d,h=Math.PI/180;if(Math.abs(u-f)<h&&(h=Math.abs(u-f)),d<0)for(let g=u-h;g>f;g-=h){let v=t.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],g,0);e.push(v.x,v.y)}else for(let g=u+h;g<f;g+=h){let v=t.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],g,0);e.push(v.x,v.y)}}else if(c.command==="C")for(let g=0;g<=1;g+=.01){let v=t.getPointOnCubicBezier(g,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(v.x,v.y)}else e=e.concat(c.points)});for(var r=e[0],n=e[0],i=e[1],o=e[1],s,a,l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],isNaN(s)||(r=Math.min(r,s),n=Math.max(n,s)),isNaN(a)||(i=Math.min(i,a),o=Math.max(o,a));return{x:r,y:i,width:n-r,height:o-i}}getLength(){return this.pathLength}getPointAtLength(e){return t.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,r,n,i){return Math.sqrt((n-e)*(n-e)+(i-r)*(i-r))}static getPathLength(e){let r=0;for(var n=0;n<e.length;++n)r+=e[n].pathLength;return r}static getPointAtLengthOfDataArray(e,r){var n,i=0,o=r.length;if(!o)return null;for(;i<o&&e>r[i].pathLength;)e-=r[i].pathLength,++i;if(i===o)return n=r[i-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=r[i].points.slice(0,2),{x:n[0],y:n[1]};var s=r[i],a=s.points;switch(s.command){case"L":return t.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return t.getPointOnCubicBezier((0,Wo.t2length)(e,t.getPathLength(r),v=>(0,Wo.getCubicArcLength)([s.start.x,a[0],a[2],a[4]],[s.start.y,a[1],a[3],a[5]],v)),s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return t.getPointOnQuadraticBezier((0,Wo.t2length)(e,t.getPathLength(r),v=>(0,Wo.getQuadraticArcLength)([s.start.x,a[0],a[2]],[s.start.y,a[1],a[3]],v)),s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":var l=a[0],c=a[1],u=a[2],d=a[3],f=a[4],h=a[5],g=a[6];return f+=h*e/s.pathLength,t.getPointOnEllipticalArc(l,c,u,d,f,g)}return null}static getPointOnLine(e,r,n,i,o,s,a){s===void 0&&(s=r),a===void 0&&(a=n);var l=(o-n)/(i-r+1e-8),c=Math.sqrt(e*e/(1+l*l));i<r&&(c*=-1);var u=l*c,d;if(i===r)d={x:s,y:a+u};else if((a-n)/(s-r+1e-8)===l)d={x:s+c,y:a+u};else{var f,h,g=this.getLineLength(r,n,i,o),v=(s-r)*(i-r)+(a-n)*(o-n);v=v/(g*g),f=r+v*(i-r),h=n+v*(o-n);var b=this.getLineLength(s,a,f,h),x=Math.sqrt(e*e-b*b);c=Math.sqrt(x*x/(1+l*l)),i<r&&(c*=-1),u=l*c,d={x:f+c,y:h+u}}return d}static getPointOnCubicBezier(e,r,n,i,o,s,a,l,c){function u(b){return b*b*b}function d(b){return 3*b*b*(1-b)}function f(b){return 3*b*(1-b)*(1-b)}function h(b){return(1-b)*(1-b)*(1-b)}var g=l*u(e)+s*d(e)+i*f(e)+r*h(e),v=c*u(e)+a*d(e)+o*f(e)+n*h(e);return{x:g,y:v}}static getPointOnQuadraticBezier(e,r,n,i,o,s,a){function l(h){return h*h}function c(h){return 2*h*(1-h)}function u(h){return(1-h)*(1-h)}var d=s*l(e)+i*c(e)+r*u(e),f=a*l(e)+o*c(e)+n*u(e);return{x:d,y:f}}static getPointOnEllipticalArc(e,r,n,i,o,s){var a=Math.cos(s),l=Math.sin(s),c={x:n*Math.cos(o),y:i*Math.sin(o)};return{x:e+(c.x*a-c.y*l),y:r+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];var r=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];r=r.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)r=r.replace(new RegExp(n[i],"g"),"|"+n[i]);var o=r.split("|"),s=[],a=[],l=0,c=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,d;for(i=1;i<o.length;i++){var f=o[i],h=f.charAt(0);for(f=f.slice(1),a.length=0;d=u.exec(f);)a.push(d[0]);for(var g=[],v=0,b=a.length;v<b;v++){if(a[v]==="00"){g.push(0,0);continue}var x=parseFloat(a[v]);isNaN(x)?g.push(0):g.push(x)}for(;g.length>0&&!isNaN(g[0]);){var T="",I=[],P=l,H=c,E,U,F,Y,K,X,De,Ee,Ge,pt;switch(h){case"l":l+=g.shift(),c+=g.shift(),T="L",I.push(l,c);break;case"L":l=g.shift(),c=g.shift(),I.push(l,c);break;case"m":var Xe=g.shift(),gt=g.shift();if(l+=Xe,c+=gt,T="M",s.length>2&&s[s.length-1].command==="z"){for(var mt=s.length-2;mt>=0;mt--)if(s[mt].command==="M"){l=s[mt].points[0]+Xe,c=s[mt].points[1]+gt;break}}I.push(l,c),h="l";break;case"M":l=g.shift(),c=g.shift(),T="M",I.push(l,c),h="L";break;case"h":l+=g.shift(),T="L",I.push(l,c);break;case"H":l=g.shift(),T="L",I.push(l,c);break;case"v":c+=g.shift(),T="L",I.push(l,c);break;case"V":c=g.shift(),T="L",I.push(l,c);break;case"C":I.push(g.shift(),g.shift(),g.shift(),g.shift()),l=g.shift(),c=g.shift(),I.push(l,c);break;case"c":I.push(l+g.shift(),c+g.shift(),l+g.shift(),c+g.shift()),l+=g.shift(),c+=g.shift(),T="C",I.push(l,c);break;case"S":U=l,F=c,E=s[s.length-1],E.command==="C"&&(U=l+(l-E.points[2]),F=c+(c-E.points[3])),I.push(U,F,g.shift(),g.shift()),l=g.shift(),c=g.shift(),T="C",I.push(l,c);break;case"s":U=l,F=c,E=s[s.length-1],E.command==="C"&&(U=l+(l-E.points[2]),F=c+(c-E.points[3])),I.push(U,F,l+g.shift(),c+g.shift()),l+=g.shift(),c+=g.shift(),T="C",I.push(l,c);break;case"Q":I.push(g.shift(),g.shift()),l=g.shift(),c=g.shift(),I.push(l,c);break;case"q":I.push(l+g.shift(),c+g.shift()),l+=g.shift(),c+=g.shift(),T="Q",I.push(l,c);break;case"T":U=l,F=c,E=s[s.length-1],E.command==="Q"&&(U=l+(l-E.points[0]),F=c+(c-E.points[1])),l=g.shift(),c=g.shift(),T="Q",I.push(U,F,l,c);break;case"t":U=l,F=c,E=s[s.length-1],E.command==="Q"&&(U=l+(l-E.points[0]),F=c+(c-E.points[1])),l+=g.shift(),c+=g.shift(),T="Q",I.push(U,F,l,c);break;case"A":Y=g.shift(),K=g.shift(),X=g.shift(),De=g.shift(),Ee=g.shift(),Ge=l,pt=c,l=g.shift(),c=g.shift(),T="A",I=this.convertEndpointToCenterParameterization(Ge,pt,l,c,De,Ee,Y,K,X);break;case"a":Y=g.shift(),K=g.shift(),X=g.shift(),De=g.shift(),Ee=g.shift(),Ge=l,pt=c,l+=g.shift(),c+=g.shift(),T="A",I=this.convertEndpointToCenterParameterization(Ge,pt,l,c,De,Ee,Y,K,X);break}s.push({command:T||h,points:I,start:{x:P,y:H},pathLength:this.calcLength(P,H,T||h,I)})}(h==="z"||h==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,r,n,i){var o,s,a,l,c=t;switch(n){case"L":return c.getLineLength(e,r,i[0],i[1]);case"C":return(0,Wo.getCubicArcLength)([e,i[0],i[2],i[4]],[r,i[1],i[3],i[5]],1);case"Q":return(0,Wo.getQuadraticArcLength)([e,i[0],i[2]],[r,i[1],i[3]],1);case"A":o=0;var u=i[4],d=i[5],f=i[4]+d,h=Math.PI/180;if(Math.abs(u-f)<h&&(h=Math.abs(u-f)),s=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),d<0)for(l=u-h;l>f;l-=h)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(l=u+h;l<f;l+=h)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),o}return 0}static convertEndpointToCenterParameterization(e,r,n,i,o,s,a,l,c){var u=c*(Math.PI/180),d=Math.cos(u)*(e-n)/2+Math.sin(u)*(r-i)/2,f=-1*Math.sin(u)*(e-n)/2+Math.cos(u)*(r-i)/2,h=d*d/(a*a)+f*f/(l*l);h>1&&(a*=Math.sqrt(h),l*=Math.sqrt(h));var g=Math.sqrt((a*a*(l*l)-a*a*(f*f)-l*l*(d*d))/(a*a*(f*f)+l*l*(d*d)));o===s&&(g*=-1),isNaN(g)&&(g=0);var v=g*a*f/l,b=g*-l*d/a,x=(e+n)/2+Math.cos(u)*v-Math.sin(u)*b,T=(r+i)/2+Math.sin(u)*v+Math.cos(u)*b,I=function(K){return Math.sqrt(K[0]*K[0]+K[1]*K[1])},P=function(K,X){return(K[0]*X[0]+K[1]*X[1])/(I(K)*I(X))},H=function(K,X){return(K[0]*X[1]<K[1]*X[0]?-1:1)*Math.acos(P(K,X))},E=H([1,0],[(d-v)/a,(f-b)/l]),U=[(d-v)/a,(f-b)/l],F=[(-1*d-v)/a,(-1*f-b)/l],Y=H(U,F);return P(U,F)<=-1&&(Y=Math.PI),P(U,F)>=1&&(Y=0),s===0&&Y>0&&(Y=Y-2*Math.PI),s===1&&Y<0&&(Y=Y+2*Math.PI),[x,T,a,l,E,Y,u,s]}};qc.Path=ji;ji.prototype.className="Path";ji.prototype._attrsAffectingSize=["data"];(0,iE._registerNode)(ji);nE.Factory.addGetterSetter(ji,"data")});var o5=re(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.Arrow=void 0;var Yc=Se(),oE=rp(),i5=Ae(),sE=Te(),r5=Wc(),Rr=class extends oE.Line{_sceneFunc(e){super._sceneFunc(e);var r=Math.PI*2,n=this.points(),i=n,o=this.tension()!==0&&n.length>4;o&&(i=this.getTensionPoints());var s=this.pointerLength(),a=n.length,l,c;if(o){let f=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],n[a-2],n[a-1]],h=r5.Path.calcLength(i[i.length-4],i[i.length-3],"C",f),g=r5.Path.getPointOnQuadraticBezier(Math.min(1,1-s/h),f[0],f[1],f[2],f[3],f[4],f[5]);l=n[a-2]-g.x,c=n[a-1]-g.y}else l=n[a-2]-n[a-4],c=n[a-1]-n[a-3];var u=(Math.atan2(c,l)+r)%r,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[a-2],n[a-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-s,d/2),e.lineTo(-s,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),o?(l=(i[0]+i[2])/2-n[0],c=(i[1]+i[3])/2-n[1]):(l=n[2]-n[0],c=n[3]-n[1]),e.rotate((Math.atan2(-c,-l)+r)%r),e.moveTo(0,0),e.lineTo(-s,d/2),e.lineTo(-s,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var r=this.dashEnabled();r&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),r&&(this.attrs.dashEnabled=!0)}getSelfRect(){let e=super.getSelfRect(),r=this.pointerWidth()/2;return{x:e.x-r,y:e.y-r,width:e.width+r*2,height:e.height+r*2}}};Kc.Arrow=Rr;Rr.prototype.className="Arrow";(0,sE._registerNode)(Rr);Yc.Factory.addGetterSetter(Rr,"pointerLength",10,(0,i5.getNumberValidator)());Yc.Factory.addGetterSetter(Rr,"pointerWidth",10,(0,i5.getNumberValidator)());Yc.Factory.addGetterSetter(Rr,"pointerAtBeginning",!1);Yc.Factory.addGetterSetter(Rr,"pointerAtEnding",!0)});var s5=re(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.Circle=void 0;var aE=Se(),lE=At(),cE=Ae(),uE=Te(),oi=class extends lE.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Zc.Circle=oi;oi.prototype._centroid=!0;oi.prototype.className="Circle";oi.prototype._attrsAffectingSize=["radius"];(0,uE._registerNode)(oi);aE.Factory.addGetterSetter(oi,"radius",0,(0,cE.getNumberValidator)())});var l5=re(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.Ellipse=void 0;var op=Se(),dE=At(),a5=Ae(),fE=Te(),lr=class extends dE.Shape{_sceneFunc(e){var r=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),r!==n&&e.scale(1,n/r),e.arc(0,0,r,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}};Xc.Ellipse=lr;lr.prototype.className="Ellipse";lr.prototype._centroid=!0;lr.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,fE._registerNode)(lr);op.Factory.addComponentsGetterSetter(lr,"radius",["x","y"]);op.Factory.addGetterSetter(lr,"radiusX",0,(0,a5.getNumberValidator)());op.Factory.addGetterSetter(lr,"radiusY",0,(0,a5.getNumberValidator)())});var c5=re(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.Image=void 0;var sp=dt(),Ui=Se(),hE=At(),pE=Te(),pa=Ae(),Dn=class t extends hE.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){let e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){let r=this.getWidth(),n=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image,s;if(o){let a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?s=[o,this.cropX(),this.cropY(),a,l,0,0,r,n]:s=[o,0,0,r,n]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?sp.Util.drawRoundedRectPath(e,r,n,i):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){var r=this.width(),n=this.height(),i=this.cornerRadius();e.beginPath(),i?sp.Util.drawRoundedRectPath(e,r,n,i):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,r;return(e=this.attrs.width)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.width}getHeight(){var e,r;return(e=this.attrs.height)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.height}static fromURL(e,r,n=null){var i=sp.Util.createImageElement();i.onload=function(){var o=new t({image:i});r(o)},i.onerror=n,i.crossOrigin="Anonymous",i.src=e}};Qc.Image=Dn;Dn.prototype.className="Image";(0,pE._registerNode)(Dn);Ui.Factory.addGetterSetter(Dn,"cornerRadius",0,(0,pa.getNumberOrArrayOfNumbersValidator)(4));Ui.Factory.addGetterSetter(Dn,"image");Ui.Factory.addComponentsGetterSetter(Dn,"crop",["x","y","width","height"]);Ui.Factory.addGetterSetter(Dn,"cropX",0,(0,pa.getNumberValidator)());Ui.Factory.addGetterSetter(Dn,"cropY",0,(0,pa.getNumberValidator)());Ui.Factory.addGetterSetter(Dn,"cropWidth",0,(0,pa.getNumberValidator)());Ui.Factory.addGetterSetter(Dn,"cropHeight",0,(0,pa.getNumberValidator)())});var f5=re(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.Tag=Yo.Label=void 0;var Jc=Se(),gE=At(),mE=Vc(),dp=Ae(),u5=Te(),d5=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],vE="Change.konva",CE="none",ap="up",lp="right",cp="down",up="left",yE=d5.length,ga=class extends mE.Group{constructor(e){super(e),this.on("add.konva",function(r){this._addListeners(r.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var r=this,n,i=function(){r._sync()};for(n=0;n<yE;n++)e.on(d5[n]+vE,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),r=this.getTag(),n,i,o,s,a,l,c;if(e&&r){switch(n=e.width(),i=e.height(),o=r.pointerDirection(),s=r.pointerWidth(),c=r.pointerHeight(),a=0,l=0,o){case ap:a=n/2,l=-1*c;break;case lp:a=n+s,l=i/2;break;case cp:a=n/2,l=i+c;break;case up:a=-1*s,l=i/2;break}r.setAttrs({x:-1*a,y:-1*l,width:n,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}};Yo.Label=ga;ga.prototype.className="Label";(0,u5._registerNode)(ga);var Pr=class extends gE.Shape{_sceneFunc(e){var r=this.width(),n=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),s=this.pointerHeight(),a=this.cornerRadius();let l=0,c=0,u=0,d=0;typeof a=="number"?l=c=u=d=Math.min(a,r/2,n/2):(l=Math.min(a[0]||0,r/2,n/2),c=Math.min(a[1]||0,r/2,n/2),d=Math.min(a[2]||0,r/2,n/2),u=Math.min(a[3]||0,r/2,n/2)),e.beginPath(),e.moveTo(l,0),i===ap&&(e.lineTo((r-o)/2,0),e.lineTo(r/2,-1*s),e.lineTo((r+o)/2,0)),e.lineTo(r-c,0),e.arc(r-c,c,c,Math.PI*3/2,0,!1),i===lp&&(e.lineTo(r,(n-s)/2),e.lineTo(r+o,n/2),e.lineTo(r,(n+s)/2)),e.lineTo(r,n-d),e.arc(r-d,n-d,d,0,Math.PI/2,!1),i===cp&&(e.lineTo((r+o)/2,n),e.lineTo(r/2,n+s),e.lineTo((r-o)/2,n)),e.lineTo(u,n),e.arc(u,n-u,u,Math.PI/2,Math.PI,!1),i===up&&(e.lineTo(0,(n+s)/2),e.lineTo(-1*o,n/2),e.lineTo(0,(n-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,r=0,n=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),s=this.width(),a=this.height();return o===ap?(r-=i,a+=i):o===cp?a+=i:o===up?(e-=n*1.5,s+=n):o===lp&&(s+=n*1.5),{x:e,y:r,width:s,height:a}}};Yo.Tag=Pr;Pr.prototype.className="Tag";(0,u5._registerNode)(Pr);Jc.Factory.addGetterSetter(Pr,"pointerDirection",CE);Jc.Factory.addGetterSetter(Pr,"pointerWidth",0,(0,dp.getNumberValidator)());Jc.Factory.addGetterSetter(Pr,"pointerHeight",0,(0,dp.getNumberValidator)());Jc.Factory.addGetterSetter(Pr,"cornerRadius",0,(0,dp.getNumberOrArrayOfNumbersValidator)(4))});var fp=re(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.Rect=void 0;var _E=Se(),wE=At(),bE=Te(),DE=dt(),xE=Ae(),Ko=class extends wE.Shape{_sceneFunc(e){var r=this.cornerRadius(),n=this.width(),i=this.height();e.beginPath(),r?DE.Util.drawRoundedRectPath(e,n,i,r):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}};eu.Rect=Ko;Ko.prototype.className="Rect";(0,bE._registerNode)(Ko);_E.Factory.addGetterSetter(Ko,"cornerRadius",0,(0,xE.getNumberOrArrayOfNumbersValidator)(4))});var g5=re(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.RegularPolygon=void 0;var h5=Se(),SE=At(),p5=Ae(),EE=Te(),Fr=class extends SE.Shape{_sceneFunc(e){let r=this._getPoints();e.beginPath(),e.moveTo(r[0].x,r[0].y);for(var n=1;n<r.length;n++)e.lineTo(r[n].x,r[n].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){let e=this.attrs.sides,r=this.attrs.radius||0,n=[];for(var i=0;i<e;i++)n.push({x:r*Math.sin(i*2*Math.PI/e),y:-1*r*Math.cos(i*2*Math.PI/e)});return n}getSelfRect(){let e=this._getPoints();var r=e[0].x,n=e[0].y,i=e[0].x,o=e[0].y;return e.forEach(s=>{r=Math.min(r,s.x),n=Math.max(n,s.x),i=Math.min(i,s.y),o=Math.max(o,s.y)}),{x:r,y:i,width:n-r,height:o-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};tu.RegularPolygon=Fr;Fr.prototype.className="RegularPolygon";Fr.prototype._centroid=!0;Fr.prototype._attrsAffectingSize=["radius"];(0,EE._registerNode)(Fr);h5.Factory.addGetterSetter(Fr,"radius",0,(0,p5.getNumberValidator)());h5.Factory.addGetterSetter(Fr,"sides",0,(0,p5.getNumberValidator)())});var y5=re(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.Ring=void 0;var v5=Se(),IE=At(),C5=Ae(),ME=Te(),m5=Math.PI*2,kr=class extends IE.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,m5,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),m5,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};nu.Ring=kr;kr.prototype.className="Ring";kr.prototype._centroid=!0;kr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,ME._registerNode)(kr);v5.Factory.addGetterSetter(kr,"innerRadius",0,(0,C5.getNumberValidator)());v5.Factory.addGetterSetter(kr,"outerRadius",0,(0,C5.getNumberValidator)())});var w5=re(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.Sprite=void 0;var Bi=Se(),TE=At(),AE=Uc(),_5=Ae(),OE=Te(),xn=class extends TE.Shape{constructor(e){super(e),this._updated=!0,this.anim=new AE.Animation(()=>{var r=this._updated;return this._updated=!1,r}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var r=this.animation(),n=this.frameIndex(),i=n*4,o=this.animations()[r],s=this.frameOffsets(),a=o[i+0],l=o[i+1],c=o[i+2],u=o[i+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,u),e.closePath(),e.fillStrokeShape(this)),d)if(s){var f=s[r],h=n*2;e.drawImage(d,a,l,c,u,f[h+0],f[h+1],c,u)}else e.drawImage(d,a,l,c,u,0,0,c,u)}_hitFunc(e){var r=this.animation(),n=this.frameIndex(),i=n*4,o=this.animations()[r],s=this.frameOffsets(),a=o[i+2],l=o[i+3];if(e.beginPath(),s){var c=s[r],u=n*2;e.rect(c[u+0],c[u+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),r=this.animation(),n=this.animations(),i=n[r],o=i.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}};ru.Sprite=xn;xn.prototype.className="Sprite";(0,OE._registerNode)(xn);Bi.Factory.addGetterSetter(xn,"animation");Bi.Factory.addGetterSetter(xn,"animations");Bi.Factory.addGetterSetter(xn,"frameOffsets");Bi.Factory.addGetterSetter(xn,"image");Bi.Factory.addGetterSetter(xn,"frameIndex",0,(0,_5.getNumberValidator)());Bi.Factory.addGetterSetter(xn,"frameRate",17,(0,_5.getNumberValidator)());Bi.Factory.backCompat(xn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})});var b5=re(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.Star=void 0;var hp=Se(),NE=At(),pp=Ae(),RE=Te(),cr=class extends NE.Shape{_sceneFunc(e){var r=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var o=1;o<i*2;o++){var s=o%2===0?n:r,a=s*Math.sin(o*Math.PI/i),l=-1*s*Math.cos(o*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};iu.Star=cr;cr.prototype.className="Star";cr.prototype._centroid=!0;cr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,RE._registerNode)(cr);hp.Factory.addGetterSetter(cr,"numPoints",5,(0,pp.getNumberValidator)());hp.Factory.addGetterSetter(cr,"innerRadius",0,(0,pp.getNumberValidator)());hp.Factory.addGetterSetter(cr,"outerRadius",0,(0,pp.getNumberValidator)())});var Cp=re(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.Text=Xo.stringToArray=void 0;var vp=dt(),Gt=Se(),PE=At(),si=Ae(),FE=Te();function I5(t){return Array.from(t)}Xo.stringToArray=I5;var Zo="auto",kE="center",M5="inherit",ma="justify",LE="Change.konva",VE="2d",D5="-",T5="left",jE="text",UE="Text",BE="top",HE="bottom",x5="middle",A5="normal",$E="px ",ou=" ",GE="right",S5="rtl",zE="word",qE="char",E5="none",gp="\u2026",O5=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],WE=O5.length;function YE(t){return t.split(",").map(e=>{e=e.trim();let r=e.indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return r&&!n&&(e=`"${e}"`),e}).join(", ")}var su;function mp(){return su||(su=vp.Util.createCanvasElement().getContext(VE),su)}function KE(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function ZE(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function XE(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}var ct=class extends PE.Shape{constructor(e){super(XE(e)),this._partialTextX=0,this._partialTextY=0;for(var r=0;r<WE;r++)this.on(O5[r]+LE,this._setTextData);this._setTextData()}_sceneFunc(e){var r=this.textArr,n=r.length;if(this.text()){var i=this.padding(),o=this.fontSize(),s=this.lineHeight()*o,a=this.verticalAlign(),l=this.direction(),c=0,u=this.align(),d=this.getWidth(),f=this.letterSpacing(),h=this.fill(),g=this.textDecoration(),v=g.indexOf("underline")!==-1,b=g.indexOf("line-through")!==-1,x;l=l===M5?e.direction:l;var T=0,T=s/2,I=0,P=0;for(l===S5&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",x5),e.setAttr("textAlign",T5),a===x5?c=(this.getHeight()-n*s-i*2)/2:a===HE&&(c=this.getHeight()-n*s-i*2),e.translate(i,c+i),x=0;x<n;x++){var I=0,P=0,H=r[x],E=H.text,U=H.width,F=H.lastInParagraph,Y,K,X;if(e.save(),u===GE?I+=d-U-i*2:u===kE&&(I+=(d-U-i*2)/2),v){e.save(),e.beginPath(),e.moveTo(I,T+P+Math.round(o/2)),Y=E.split(" ").length-1,K=Y===0,X=u===ma&&!F?d-i*2:U,e.lineTo(I+Math.round(X),T+P+Math.round(o/2)),e.lineWidth=o/15;let gt=this._getLinearGradient();e.strokeStyle=gt||h,e.stroke(),e.restore()}if(b){e.save(),e.beginPath(),e.moveTo(I,T+P),Y=E.split(" ").length-1,K=Y===0,X=u===ma&&F&&!K?d-i*2:U,e.lineTo(I+Math.round(X),T+P),e.lineWidth=o/15;let gt=this._getLinearGradient();e.strokeStyle=gt||h,e.stroke(),e.restore()}if(l!==S5&&(f!==0||u===ma)){Y=E.split(" ").length-1;for(var De=I5(E),Ee=0;Ee<De.length;Ee++){var Ge=De[Ee];Ge===" "&&!F&&u===ma&&(I+=(d-i*2-U)/Y),this._partialTextX=I,this._partialTextY=T+P,this._partialText=Ge,e.fillStrokeShape(this),I+=this.measureSize(Ge).width+f}}else f!==0&&e.setAttr("letterSpacing",`${f}px`),this._partialTextX=I,this._partialTextY=T+P,this._partialText=E,e.fillStrokeShape(this);e.restore(),n>1&&(T+=s)}}}_hitFunc(e){var r=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}setText(e){var r=vp.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(jE,r),this}getWidth(){var e=this.attrs.width===Zo||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===Zo||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return vp.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var r=mp(),n=this.fontSize(),i;return r.save(),r.font=this._getContextFont(),i=r.measureText(e),r.restore(),{width:i.width,height:n}}_getContextFont(){return this.fontStyle()+ou+this.fontVariant()+ou+(this.fontSize()+$E)+YE(this.fontFamily())}_addTextLine(e){this.align()===ma&&(e=e.trim());var n=this._getTextWidth(e);return this.textArr.push({text:e,width:n,lastInParagraph:!1})}_getTextWidth(e){var r=this.letterSpacing(),n=e.length;return mp().measureText(e).width+(n?r*(n-1):0)}_setTextData(){var e=this.text().split(`
`),r=+this.fontSize(),n=0,i=this.lineHeight()*r,o=this.attrs.width,s=this.attrs.height,a=o!==Zo&&o!==void 0,l=s!==Zo&&s!==void 0,c=this.padding(),u=o-c*2,d=s-c*2,f=0,h=this.wrap(),g=h!==E5,v=h!==qE&&g,b=this.ellipsis();this.textArr=[],mp().font=this._getContextFont();for(var x=b?this._getTextWidth(gp):0,T=0,I=e.length;T<I;++T){var P=e[T],H=this._getTextWidth(P);if(a&&H>u)for(;P.length>0;){for(var E=0,U=P.length,F="",Y=0;E<U;){var K=E+U>>>1,X=P.slice(0,K+1),De=this._getTextWidth(X)+x;De<=u?(E=K+1,F=X,Y=De):U=K}if(F){if(v){var Ee,Ge=P[F.length],pt=Ge===ou||Ge===D5;pt&&Y<=u?Ee=F.length:Ee=Math.max(F.lastIndexOf(ou),F.lastIndexOf(D5))+1,Ee>0&&(E=Ee,F=F.slice(0,E),Y=this._getTextWidth(F))}F=F.trimRight(),this._addTextLine(F),n=Math.max(n,Y),f+=i;var Xe=this._shouldHandleEllipsis(f);if(Xe){this._tryToAddEllipsisToLastLine();break}if(P=P.slice(E),P=P.trimLeft(),P.length>0&&(H=this._getTextWidth(P),H<=u)){this._addTextLine(P),f+=i,n=Math.max(n,H);break}}else break}else this._addTextLine(P),f+=i,n=Math.max(n,H),this._shouldHandleEllipsis(f)&&T<I-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&f+i>d)break}this.textHeight=r,this.textWidth=n}_shouldHandleEllipsis(e){var r=+this.fontSize(),n=this.lineHeight()*r,i=this.attrs.height,o=i!==Zo&&i!==void 0,s=this.padding(),a=i-s*2,l=this.wrap(),c=l!==E5;return!c||o&&e+n>a}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,r=e!==Zo&&e!==void 0,n=this.padding(),i=e-n*2,o=this.ellipsis(),s=this.textArr[this.textArr.length-1];if(!(!s||!o)){if(r){var a=this._getTextWidth(s.text+gp)<i;a||(s.text=s.text.slice(0,s.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+gp)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){let e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,r=this.hasShadow();return e&&r?!0:super._useBufferCanvas()}};Xo.Text=ct;ct.prototype._fillFunc=KE;ct.prototype._strokeFunc=ZE;ct.prototype.className=UE;ct.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,FE._registerNode)(ct);Gt.Factory.overWriteSetter(ct,"width",(0,si.getNumberOrAutoValidator)());Gt.Factory.overWriteSetter(ct,"height",(0,si.getNumberOrAutoValidator)());Gt.Factory.addGetterSetter(ct,"direction",M5);Gt.Factory.addGetterSetter(ct,"fontFamily","Arial");Gt.Factory.addGetterSetter(ct,"fontSize",12,(0,si.getNumberValidator)());Gt.Factory.addGetterSetter(ct,"fontStyle",A5);Gt.Factory.addGetterSetter(ct,"fontVariant",A5);Gt.Factory.addGetterSetter(ct,"padding",0,(0,si.getNumberValidator)());Gt.Factory.addGetterSetter(ct,"align",T5);Gt.Factory.addGetterSetter(ct,"verticalAlign",BE);Gt.Factory.addGetterSetter(ct,"lineHeight",1,(0,si.getNumberValidator)());Gt.Factory.addGetterSetter(ct,"wrap",zE);Gt.Factory.addGetterSetter(ct,"ellipsis",!1,(0,si.getBooleanValidator)());Gt.Factory.addGetterSetter(ct,"letterSpacing",0,(0,si.getNumberValidator)());Gt.Factory.addGetterSetter(ct,"text","",(0,si.getStringValidator)());Gt.Factory.addGetterSetter(ct,"textDecoration","")});var k5=re(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.TextPath=void 0;var yp=dt(),Un=Se(),QE=At(),va=Wc(),_p=Cp(),N5=Ae(),JE=Te(),eI="",R5="normal";function P5(t){t.fillText(this.partialText,0,0)}function F5(t){t.strokeText(this.partialText,0,0)}var wt=class extends QE.Shape{constructor(e){super(e),this.dummyCanvas=yp.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return va.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;let r=this.pathLength;return e-1>r?null:va.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=va.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var r=this.textDecoration(),n=this.fill(),i=this.fontSize(),o=this.glyphInfo;r==="underline"&&e.beginPath();for(var s=0;s<o.length;s++){e.save();var a=o[s].p0;e.translate(a.x,a.y),e.rotate(o[s].rotation),this.partialText=o[s].text,e.fillStrokeShape(this),r==="underline"&&(s===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}r==="underline"&&(e.strokeStyle=n,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var r=this.glyphInfo;if(r.length>=1){var n=r[0].p0;e.moveTo(n.x,n.y)}for(var i=0;i<r.length;i++){var o=r[i].p1;e.lineTo(o.x,o.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return yp.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return _p.Text.prototype.setText.call(this,e)}_getContextFont(){return _p.Text.prototype._getContextFont.call(this)}_getTextSize(e){var r=this.dummyCanvas,n=r.getContext("2d");n.save(),n.font=this._getContextFont();var i=n.measureText(e);return n.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){let{width:e,height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;let n=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0),a=0;i==="center"&&(a=Math.max(0,this.pathLength/2-s/2)),i==="right"&&(a=Math.max(0,this.pathLength-s));let l=(0,_p.stringToArray)(this.text()),c=a;for(var u=0;u<l.length;u++){let d=this._getPointAtLength(c);if(!d)return;let f=this._getTextSize(l[u]).width+n;if(l[u]===" "&&i==="justify"){let T=this.text().split(" ").length-1;f+=(this.pathLength-s)/T}let h=this._getPointAtLength(c+f);if(!h)return;let g=va.Path.getLineLength(d.x,d.y,h.x,h.y),v=0;if(o)try{v=o(l[u-1],l[u])*this.fontSize()}catch{v=0}d.x+=v,h.x+=v,this.textWidth+=v;let b=va.Path.getPointOnLine(v+g/2,d.x,d.y,h.x,h.y),x=Math.atan2(h.y-d.y,h.x-d.x);this.glyphInfo.push({transposeX:b.x,transposeY:b.y,text:l[u],rotation:x,p0:d,p1:h}),c+=f}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(u){e.push(u.p0.x),e.push(u.p0.y),e.push(u.p1.x),e.push(u.p1.y)});for(var r=e[0]||0,n=e[0]||0,i=e[1]||0,o=e[1]||0,s,a,l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],r=Math.min(r,s),n=Math.max(n,s),i=Math.min(i,a),o=Math.max(o,a);var c=this.fontSize();return{x:r-c/2,y:i-c/2,width:n-r+c,height:o-i+c}}destroy(){return yp.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};au.TextPath=wt;wt.prototype._fillFunc=P5;wt.prototype._strokeFunc=F5;wt.prototype._fillFuncHit=P5;wt.prototype._strokeFuncHit=F5;wt.prototype.className="TextPath";wt.prototype._attrsAffectingSize=["text","fontSize","data"];(0,JE._registerNode)(wt);Un.Factory.addGetterSetter(wt,"data");Un.Factory.addGetterSetter(wt,"fontFamily","Arial");Un.Factory.addGetterSetter(wt,"fontSize",12,(0,N5.getNumberValidator)());Un.Factory.addGetterSetter(wt,"fontStyle",R5);Un.Factory.addGetterSetter(wt,"align","left");Un.Factory.addGetterSetter(wt,"letterSpacing",0,(0,N5.getNumberValidator)());Un.Factory.addGetterSetter(wt,"textBaseline","middle");Un.Factory.addGetterSetter(wt,"fontVariant",R5);Un.Factory.addGetterSetter(wt,"text",eI);Un.Factory.addGetterSetter(wt,"textDecoration",null);Un.Factory.addGetterSetter(wt,"kerningFunc",null)});var $5=re(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.Transformer=void 0;var et=dt(),We=Se(),L5=ht(),tI=At(),nI=fp(),V5=Vc(),Bn=Te(),ai=Ae(),rI=Te(),B5="tr-konva",iI=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${B5}`).join(" "),j5="nodesRect",oI=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],sI={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},aI="ontouchstart"in Bn.Konva._global;function lI(t,e,r){if(t==="rotater")return r;e+=et.Util.degToRad(sI[t]||0);var n=(et.Util.radToDeg(e)%360+360)%360;return et.Util._inRange(n,315+22.5,360)||et.Util._inRange(n,0,22.5)?"ns-resize":et.Util._inRange(n,45-22.5,45+22.5)?"nesw-resize":et.Util._inRange(n,90-22.5,90+22.5)?"ew-resize":et.Util._inRange(n,135-22.5,135+22.5)?"nwse-resize":et.Util._inRange(n,180-22.5,180+22.5)?"ns-resize":et.Util._inRange(n,225-22.5,225+22.5)?"nesw-resize":et.Util._inRange(n,270-22.5,270+22.5)?"ew-resize":et.Util._inRange(n,315-22.5,315+22.5)?"nwse-resize":(et.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var lu=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],U5=1e8;function cI(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function H5(t,e,r){let n=r.x+(t.x-r.x)*Math.cos(e)-(t.y-r.y)*Math.sin(e),i=r.y+(t.x-r.x)*Math.sin(e)+(t.y-r.y)*Math.cos(e);return J(M({},t),{rotation:t.rotation+e,x:n,y:i})}function uI(t,e){let r=cI(t);return H5(t,e,r)}function dI(t,e,r){let n=e;for(let i=0;i<t.length;i++){let o=Bn.Konva.getAngle(t[i]),s=Math.abs(o-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<r&&(n=o)}return n}var Le=class extends V5.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(iI,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return et.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return B5+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();let r=e.filter(i=>i.isAncestorOf(this)?(et.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=e=r,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{let o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(s,o),i.on(oI.map(a=>a+`.${this._getEventNamespace()}`).join(" "),o),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(i)}),this._resetTransformCache();var n=!!this.findOne(".top-left");return n&&this.update(),this}_proxyDrag(e){let r;e.on(`dragstart.${this._getEventNamespace()}`,n=>{r=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(n,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,n=>{if(!r)return;let i=e.getAbsolutePosition(),o=i.x-r.x,s=i.y-r.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;let l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+o,y:l.y+s}),a.startDrag(n)}),r=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(j5),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(j5,this.__getNodeRect)}__getNodeShape(e,r=this.rotation(),n){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(n),s=e.getAbsolutePosition(n),a=i.x*o.x-e.offsetX()*o.x,l=i.y*o.y-e.offsetY()*o.y;let c=(Bn.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),u={x:s.x+a*Math.cos(c)+l*Math.sin(-c),y:s.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*o.x,height:i.height*o.y,rotation:c};return H5(u,-Bn.Konva.getAngle(r),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-U5,y:-U5,width:0,height:0,rotation:0};let r=[];this.nodes().map(c=>{let u=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var d=[{x:u.x,y:u.y},{x:u.x+u.width,y:u.y},{x:u.x+u.width,y:u.y+u.height},{x:u.x,y:u.y+u.height}],f=c.getAbsoluteTransform();d.forEach(function(h){var g=f.point(h);r.push(g)})});let n=new et.Transform;n.rotate(-Bn.Konva.getAngle(this.rotation()));var i=1/0,o=1/0,s=-1/0,a=-1/0;r.forEach(function(c){var u=n.point(c);i===void 0&&(i=s=u.x,o=a=u.y),i=Math.min(i,u.x),o=Math.min(o,u.y),s=Math.max(s,u.x),a=Math.max(a,u.y)}),n.invert();let l=n.point({x:i,y:o});return{x:l.x,y:l.y,width:s-i,height:a-o,rotation:Bn.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),lu.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){var r=new nI.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:aI?10:"auto"}),n=this;r.on("mousedown touchstart",function(i){n._handleMouseDown(i)}),r.on("dragstart",i=>{r.stopDrag(),i.cancelBubble=!0}),r.on("dragend",i=>{i.cancelBubble=!0}),r.on("mouseenter",()=>{var i=Bn.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),s=lI(e,i,o);r.getStage().content&&(r.getStage().content.style.cursor=s),this._cursorChange=!0}),r.on("mouseout",()=>{r.getStage().content&&(r.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(r)}_createBack(){var e=new tI.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(r,n){var i=n.getParent(),o=i.padding();r.beginPath(),r.rect(-o,-o,n.width()+o*2,n.height()+o*2),r.moveTo(n.width()/2,-o),i.rotateEnabled()&&i.rotateLineVisible()&&r.lineTo(n.width()/2,-i.rotateAnchorOffset()*et.Util._sign(n.height())-o),r.fillStrokeShape(n)},hitFunc:(r,n)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();r.beginPath(),r.rect(-i,-i,n.width()+i*2,n.height()+i*2),r.fillStrokeShape(n)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",r=>{r.cancelBubble=!0}),e.on("dragmove",r=>{r.cancelBubble=!0}),e.on("dragend",r=>{r.cancelBubble=!0}),this.on("dragmove",r=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var r=this._getNodeRect(),n=r.width,i=r.height,o=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(n/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var s=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-s.x,y:a.y-s.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){var r,n,i,o=this.findOne("."+this._movingAnchorName),s=o.getStage();s.setPointersPositions(e);let a=s.getPointerPosition(),l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},c=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),o.setAbsolutePosition(l);let u=o.getAbsolutePosition();if(!(c.x===u.x&&c.y===u.y)){if(this._movingAnchorName==="rotater"){var d=this._getNodeRect();r=o.x()-d.width/2,n=-o.y()+d.height/2;let Ee=Math.atan2(-n,r)+Math.PI/2;d.height<0&&(Ee-=Math.PI);var f=Bn.Konva.getAngle(this.rotation());let Ge=f+Ee,pt=Bn.Konva.getAngle(this.rotationSnapTolerance()),gt=dI(this.rotationSnaps(),Ge,pt)-d.rotation,mt=uI(d,gt);this._fitNodesInto(mt,e);return}var h=this.shiftBehavior(),g;h==="inverted"?g=this.keepRatio()&&!e.shiftKey:h==="none"?g=this.keepRatio():g=this.keepRatio()||e.shiftKey;var I=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(g){var v=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(v.x-o.x(),2)+Math.pow(v.y-o.y(),2));var b=this.findOne(".top-left").x()>v.x?-1:1,x=this.findOne(".top-left").y()>v.y?-1:1;r=i*this.cos*b,n=i*this.sin*x,this.findOne(".top-left").x(v.x-r),this.findOne(".top-left").y(v.y-n)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(g){var v=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-v.x,2)+Math.pow(v.y-o.y(),2));var b=this.findOne(".top-right").x()<v.x?-1:1,x=this.findOne(".top-right").y()>v.y?-1:1;r=i*this.cos*b,n=i*this.sin*x,this.findOne(".top-right").x(v.x+r),this.findOne(".top-right").y(v.y-n)}var T=o.position();this.findOne(".top-left").y(T.y),this.findOne(".bottom-right").x(T.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(g){var v=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(v.x-o.x(),2)+Math.pow(o.y()-v.y,2));var b=v.x<o.x()?-1:1,x=o.y()<v.y?-1:1;r=i*this.cos*b,n=i*this.sin*x,o.x(v.x-r),o.y(v.y+n)}T=o.position(),this.findOne(".top-left").x(T.x),this.findOne(".bottom-right").y(T.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(g){var v=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-v.x,2)+Math.pow(o.y()-v.y,2));var b=this.findOne(".bottom-right").x()<v.x?-1:1,x=this.findOne(".bottom-right").y()<v.y?-1:1;r=i*this.cos*b,n=i*this.sin*x,this.findOne(".bottom-right").x(v.x+r),this.findOne(".bottom-right").y(v.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var I=this.centeredScaling()||e.altKey;if(I){var P=this.findOne(".top-left"),H=this.findOne(".bottom-right"),E=P.x(),U=P.y(),F=this.getWidth()-H.x(),Y=this.getHeight()-H.y();H.move({x:-E,y:-U}),P.move({x:F,y:Y})}var K=this.findOne(".top-left").getAbsolutePosition();r=K.x,n=K.y;var X=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),De=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:r,y:n,width:X,height:De,rotation:Bn.Konva.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var r=this.getNode();this._fire("transformend",{evt:e,target:r}),r&&this._nodes.forEach(n=>{n._fire("transformend",{evt:e,target:n})}),this._movingAnchorName=null}}_fitNodesInto(e,r){var n=this._getNodeRect();let i=1;if(et.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(et.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}var o=new et.Transform;if(o.rotate(Bn.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){let f=o.point({x:-this.padding()*2,y:0});e.x+=f.x,e.y+=f.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){let f=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){let f=o.point({x:0,y:-this.padding()*2});e.x+=f.x,e.y+=f.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){let f=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){let f=this.boundBoxFunc()(n,e);f?e=f:et.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}let s=1e7,a=new et.Transform;a.translate(n.x,n.y),a.rotate(n.rotation),a.scale(n.width/s,n.height/s);let l=new et.Transform,c=e.width/s,u=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(u))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,u));let d=l.multiply(a.invert());this._nodes.forEach(f=>{var h;let g=f.getParent().getAbsoluteTransform(),v=f.getTransform().copy();v.translate(f.offsetX(),f.offsetY());let b=new et.Transform;b.multiply(g.copy().invert()).multiply(d).multiply(g).multiply(v);let x=b.decompose();f.setAttrs(x),this._fire("transform",{evt:r,target:f}),f._fire("transform",{evt:r,target:f}),(h=f.getLayer())===null||h===void 0||h.batchDraw()}),this.rotation(et.Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,r){this.findOne(e).setAttrs(r)}update(){var e,r=this._getNodeRect();this.rotation(et.Util._getRotation(r.rotation));var n=r.width,i=r.height,o=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize();let c=this.find("._anchor");c.forEach(d=>{d.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+a,visible:s&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:s&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:i/2,offsetX:l/2-a,visible:s&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:i,offsetY:l/2-a,visible:s&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*et.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});let u=this.anchorStyleFunc();u&&c.forEach(d=>{u(d)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),V5.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return L5.Node.prototype.toObject.call(this)}clone(e){var r=L5.Node.prototype.clone.call(this,e);return r}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};cu.Transformer=Le;function fI(t){return t instanceof Array||et.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){lu.indexOf(e)===-1&&et.Util.warn("Unknown anchor name: "+e+". Available names are: "+lu.join(", "))}),t||[]}Le.prototype.className="Transformer";(0,rI._registerNode)(Le);We.Factory.addGetterSetter(Le,"enabledAnchors",lu,fI);We.Factory.addGetterSetter(Le,"flipEnabled",!0,(0,ai.getBooleanValidator)());We.Factory.addGetterSetter(Le,"resizeEnabled",!0);We.Factory.addGetterSetter(Le,"anchorSize",10,(0,ai.getNumberValidator)());We.Factory.addGetterSetter(Le,"rotateEnabled",!0);We.Factory.addGetterSetter(Le,"rotateLineVisible",!0);We.Factory.addGetterSetter(Le,"rotationSnaps",[]);We.Factory.addGetterSetter(Le,"rotateAnchorOffset",50,(0,ai.getNumberValidator)());We.Factory.addGetterSetter(Le,"rotateAnchorCursor","crosshair");We.Factory.addGetterSetter(Le,"rotationSnapTolerance",5,(0,ai.getNumberValidator)());We.Factory.addGetterSetter(Le,"borderEnabled",!0);We.Factory.addGetterSetter(Le,"anchorStroke","rgb(0, 161, 255)");We.Factory.addGetterSetter(Le,"anchorStrokeWidth",1,(0,ai.getNumberValidator)());We.Factory.addGetterSetter(Le,"anchorFill","white");We.Factory.addGetterSetter(Le,"anchorCornerRadius",0,(0,ai.getNumberValidator)());We.Factory.addGetterSetter(Le,"borderStroke","rgb(0, 161, 255)");We.Factory.addGetterSetter(Le,"borderStrokeWidth",1,(0,ai.getNumberValidator)());We.Factory.addGetterSetter(Le,"borderDash");We.Factory.addGetterSetter(Le,"keepRatio",!0);We.Factory.addGetterSetter(Le,"shiftBehavior","default");We.Factory.addGetterSetter(Le,"centeredScaling",!1);We.Factory.addGetterSetter(Le,"ignoreStroke",!1);We.Factory.addGetterSetter(Le,"padding",0,(0,ai.getNumberValidator)());We.Factory.addGetterSetter(Le,"node");We.Factory.addGetterSetter(Le,"nodes");We.Factory.addGetterSetter(Le,"boundBoxFunc");We.Factory.addGetterSetter(Le,"anchorDragBoundFunc");We.Factory.addGetterSetter(Le,"anchorStyleFunc");We.Factory.addGetterSetter(Le,"shouldOverdrawWholeArea",!1);We.Factory.addGetterSetter(Le,"useSingleNodeRotation",!0);We.Factory.backCompat(Le,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})});var z5=re(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.Wedge=void 0;var uu=Se(),hI=At(),pI=Te(),G5=Ae(),gI=Te(),Hn=class extends hI.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,pI.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};du.Wedge=Hn;Hn.prototype.className="Wedge";Hn.prototype._centroid=!0;Hn.prototype._attrsAffectingSize=["radius"];(0,gI._registerNode)(Hn);uu.Factory.addGetterSetter(Hn,"radius",0,(0,G5.getNumberValidator)());uu.Factory.addGetterSetter(Hn,"angle",0,(0,G5.getNumberValidator)());uu.Factory.addGetterSetter(Hn,"clockwise",!1);uu.Factory.backCompat(Hn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})});var Y5=re(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.Blur=void 0;var q5=Se(),mI=ht(),vI=Ae();function W5(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var CI=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],yI=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function _I(t,e){var r=t.data,n=t.width,i=t.height,o,s,a,l,c,u,d,f,h,g,v,b,x,T,I,P,H,E,U,F,Y,K,X,De,Ee=e+e+1,Ge=n-1,pt=i-1,Xe=e+1,gt=Xe*(Xe+1)/2,mt=new W5,$i=null,ze=mt,st=null,at=null,Sn=CI[e],$n=yI[e];for(a=1;a<Ee;a++)ze=ze.next=new W5,a===Xe&&($i=ze);for(ze.next=mt,d=u=0,s=0;s<i;s++){for(P=H=E=U=f=h=g=v=0,b=Xe*(F=r[u]),x=Xe*(Y=r[u+1]),T=Xe*(K=r[u+2]),I=Xe*(X=r[u+3]),f+=gt*F,h+=gt*Y,g+=gt*K,v+=gt*X,ze=mt,a=0;a<Xe;a++)ze.r=F,ze.g=Y,ze.b=K,ze.a=X,ze=ze.next;for(a=1;a<Xe;a++)l=u+((Ge<a?Ge:a)<<2),f+=(ze.r=F=r[l])*(De=Xe-a),h+=(ze.g=Y=r[l+1])*De,g+=(ze.b=K=r[l+2])*De,v+=(ze.a=X=r[l+3])*De,P+=F,H+=Y,E+=K,U+=X,ze=ze.next;for(st=mt,at=$i,o=0;o<n;o++)r[u+3]=X=v*Sn>>$n,X!==0?(X=255/X,r[u]=(f*Sn>>$n)*X,r[u+1]=(h*Sn>>$n)*X,r[u+2]=(g*Sn>>$n)*X):r[u]=r[u+1]=r[u+2]=0,f-=b,h-=x,g-=T,v-=I,b-=st.r,x-=st.g,T-=st.b,I-=st.a,l=d+((l=o+e+1)<Ge?l:Ge)<<2,P+=st.r=r[l],H+=st.g=r[l+1],E+=st.b=r[l+2],U+=st.a=r[l+3],f+=P,h+=H,g+=E,v+=U,st=st.next,b+=F=at.r,x+=Y=at.g,T+=K=at.b,I+=X=at.a,P-=F,H-=Y,E-=K,U-=X,at=at.next,u+=4;d+=n}for(o=0;o<n;o++){for(H=E=U=P=h=g=v=f=0,u=o<<2,b=Xe*(F=r[u]),x=Xe*(Y=r[u+1]),T=Xe*(K=r[u+2]),I=Xe*(X=r[u+3]),f+=gt*F,h+=gt*Y,g+=gt*K,v+=gt*X,ze=mt,a=0;a<Xe;a++)ze.r=F,ze.g=Y,ze.b=K,ze.a=X,ze=ze.next;for(c=n,a=1;a<=e;a++)u=c+o<<2,f+=(ze.r=F=r[u])*(De=Xe-a),h+=(ze.g=Y=r[u+1])*De,g+=(ze.b=K=r[u+2])*De,v+=(ze.a=X=r[u+3])*De,P+=F,H+=Y,E+=K,U+=X,ze=ze.next,a<pt&&(c+=n);for(u=o,st=mt,at=$i,s=0;s<i;s++)l=u<<2,r[l+3]=X=v*Sn>>$n,X>0?(X=255/X,r[l]=(f*Sn>>$n)*X,r[l+1]=(h*Sn>>$n)*X,r[l+2]=(g*Sn>>$n)*X):r[l]=r[l+1]=r[l+2]=0,f-=b,h-=x,g-=T,v-=I,b-=st.r,x-=st.g,T-=st.b,I-=st.a,l=o+((l=s+Xe)<pt?l:pt)*n<<2,f+=P+=st.r=r[l],h+=H+=st.g=r[l+1],g+=E+=st.b=r[l+2],v+=U+=st.a=r[l+3],st=st.next,b+=F=at.r,x+=Y=at.g,T+=K=at.b,I+=X=at.a,P-=F,H-=Y,E-=K,U-=X,at=at.next,u+=n}}var wI=function(e){var r=Math.round(this.blurRadius());r>0&&_I(e,r)};fu.Blur=wI;q5.Factory.addGetterSetter(mI.Node,"blurRadius",0,(0,vI.getNumberValidator)(),q5.Factory.afterSetFilter)});var Z5=re(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.Brighten=void 0;var K5=Se(),bI=ht(),DI=Ae(),xI=function(t){var e=this.brightness()*255,r=t.data,n=r.length,i;for(i=0;i<n;i+=4)r[i]+=e,r[i+1]+=e,r[i+2]+=e};hu.Brighten=xI;K5.Factory.addGetterSetter(bI.Node,"brightness",0,(0,DI.getNumberValidator)(),K5.Factory.afterSetFilter)});var Q5=re(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.Contrast=void 0;var X5=Se(),SI=ht(),EI=Ae(),II=function(t){var e=Math.pow((this.contrast()+100)/100,2),r=t.data,n=r.length,i=150,o=150,s=150,a;for(a=0;a<n;a+=4)i=r[a],o=r[a+1],s=r[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,s=s<0?0:s>255?255:s,r[a]=i,r[a+1]=o,r[a+2]=s};pu.Contrast=II;X5.Factory.addGetterSetter(SI.Node,"contrast",0,(0,EI.getNumberValidator)(),X5.Factory.afterSetFilter)});var e8=re(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.Emboss=void 0;var li=Se(),gu=ht(),MI=dt(),J5=Ae(),TI=function(t){var e=this.embossStrength()*10,r=this.embossWhiteLevel()*255,n=this.embossDirection(),i=this.embossBlend(),o=0,s=0,a=t.data,l=t.width,c=t.height,u=l*4,d=c;switch(n){case"top-left":o=-1,s=-1;break;case"top":o=-1,s=0;break;case"top-right":o=-1,s=1;break;case"right":o=0,s=1;break;case"bottom-right":o=1,s=1;break;case"bottom":o=1,s=0;break;case"bottom-left":o=1,s=-1;break;case"left":o=0,s=-1;break;default:MI.Util.error("Unknown emboss direction: "+n)}do{var f=(d-1)*u,h=o;d+h<1&&(h=0),d+h>c&&(h=0);var g=(d-1+h)*l*4,v=l;do{var b=f+(v-1)*4,x=s;v+x<1&&(x=0),v+x>l&&(x=0);var T=g+(v-1+x)*4,I=a[b]-a[T],P=a[b+1]-a[T+1],H=a[b+2]-a[T+2],E=I,U=E>0?E:-E,F=P>0?P:-P,Y=H>0?H:-H;if(F>U&&(E=P),Y>U&&(E=H),E*=e,i){var K=a[b]+E,X=a[b+1]+E,De=a[b+2]+E;a[b]=K>255?255:K<0?0:K,a[b+1]=X>255?255:X<0?0:X,a[b+2]=De>255?255:De<0?0:De}else{var Ee=r-E;Ee<0?Ee=0:Ee>255&&(Ee=255),a[b]=a[b+1]=a[b+2]=Ee}}while(--v)}while(--d)};mu.Emboss=TI;li.Factory.addGetterSetter(gu.Node,"embossStrength",.5,(0,J5.getNumberValidator)(),li.Factory.afterSetFilter);li.Factory.addGetterSetter(gu.Node,"embossWhiteLevel",.5,(0,J5.getNumberValidator)(),li.Factory.afterSetFilter);li.Factory.addGetterSetter(gu.Node,"embossDirection","top-left",null,li.Factory.afterSetFilter);li.Factory.addGetterSetter(gu.Node,"embossBlend",!1,null,li.Factory.afterSetFilter)});var n8=re(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.Enhance=void 0;var t8=Se(),AI=ht(),OI=Ae();function wp(t,e,r,n,i){var o=r-e,s=i-n,a;return o===0?n+s/2:s===0?n:(a=(t-e)/o,a=s*a+n,a)}var NI=function(t){var e=t.data,r=e.length,n=e[0],i=n,o,s=e[1],a=s,l,c=e[2],u=c,d,f,h=this.enhance();if(h!==0){for(f=0;f<r;f+=4)o=e[f+0],o<n?n=o:o>i&&(i=o),l=e[f+1],l<s?s=l:l>a&&(a=l),d=e[f+2],d<c?c=d:d>u&&(u=d);i===n&&(i=255,n=0),a===s&&(a=255,s=0),u===c&&(u=255,c=0);var g,v,b,x,T,I,P,H,E;for(h>0?(v=i+h*(255-i),b=n-h*(n-0),T=a+h*(255-a),I=s-h*(s-0),H=u+h*(255-u),E=c-h*(c-0)):(g=(i+n)*.5,v=i+h*(i-g),b=n+h*(n-g),x=(a+s)*.5,T=a+h*(a-x),I=s+h*(s-x),P=(u+c)*.5,H=u+h*(u-P),E=c+h*(c-P)),f=0;f<r;f+=4)e[f+0]=wp(e[f+0],n,i,b,v),e[f+1]=wp(e[f+1],s,a,I,T),e[f+2]=wp(e[f+2],c,u,E,H)}};vu.Enhance=NI;t8.Factory.addGetterSetter(AI.Node,"enhance",0,(0,OI.getNumberValidator)(),t8.Factory.afterSetFilter)});var r8=re(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.Grayscale=void 0;var RI=function(t){var e=t.data,r=e.length,n,i;for(n=0;n<r;n+=4)i=.34*e[n]+.5*e[n+1]+.16*e[n+2],e[n]=i,e[n+1]=i,e[n+2]=i};Cu.Grayscale=RI});var i8=re(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.HSL=void 0;var Qo=Se(),bp=ht(),Dp=Ae();Qo.Factory.addGetterSetter(bp.Node,"hue",0,(0,Dp.getNumberValidator)(),Qo.Factory.afterSetFilter);Qo.Factory.addGetterSetter(bp.Node,"saturation",0,(0,Dp.getNumberValidator)(),Qo.Factory.afterSetFilter);Qo.Factory.addGetterSetter(bp.Node,"luminance",0,(0,Dp.getNumberValidator)(),Qo.Factory.afterSetFilter);var PI=function(t){var e=t.data,r=e.length,n=1,i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=this.luminance()*127,a,l=n*i*Math.cos(o*Math.PI/180),c=n*i*Math.sin(o*Math.PI/180),u=.299*n+.701*l+.167*c,d=.587*n-.587*l+.33*c,f=.114*n-.114*l-.497*c,h=.299*n-.299*l-.328*c,g=.587*n+.413*l+.035*c,v=.114*n-.114*l+.293*c,b=.299*n-.3*l+1.25*c,x=.587*n-.586*l-1.05*c,T=.114*n+.886*l-.2*c,I,P,H,E;for(a=0;a<r;a+=4)I=e[a+0],P=e[a+1],H=e[a+2],E=e[a+3],e[a+0]=u*I+d*P+f*H+s,e[a+1]=h*I+g*P+v*H+s,e[a+2]=b*I+x*P+T*H+s,e[a+3]=E};yu.HSL=PI});var o8=re(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.HSV=void 0;var Jo=Se(),xp=ht(),Sp=Ae(),FI=function(t){var e=t.data,r=e.length,n=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s,a=n*i*Math.cos(o*Math.PI/180),l=n*i*Math.sin(o*Math.PI/180),c=.299*n+.701*a+.167*l,u=.587*n-.587*a+.33*l,d=.114*n-.114*a-.497*l,f=.299*n-.299*a-.328*l,h=.587*n+.413*a+.035*l,g=.114*n-.114*a+.293*l,v=.299*n-.3*a+1.25*l,b=.587*n-.586*a-1.05*l,x=.114*n+.886*a-.2*l,T,I,P,H;for(s=0;s<r;s+=4)T=e[s+0],I=e[s+1],P=e[s+2],H=e[s+3],e[s+0]=c*T+u*I+d*P,e[s+1]=f*T+h*I+g*P,e[s+2]=v*T+b*I+x*P,e[s+3]=H};_u.HSV=FI;Jo.Factory.addGetterSetter(xp.Node,"hue",0,(0,Sp.getNumberValidator)(),Jo.Factory.afterSetFilter);Jo.Factory.addGetterSetter(xp.Node,"saturation",0,(0,Sp.getNumberValidator)(),Jo.Factory.afterSetFilter);Jo.Factory.addGetterSetter(xp.Node,"value",0,(0,Sp.getNumberValidator)(),Jo.Factory.afterSetFilter)});var s8=re(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.Invert=void 0;var kI=function(t){var e=t.data,r=e.length,n;for(n=0;n<r;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2]};wu.Invert=kI});var u8=re(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.Kaleidoscope=void 0;var bu=Se(),l8=ht(),a8=dt(),c8=Ae(),LI=function(t,e,r){var n=t.data,i=e.data,o=t.width,s=t.height,a=r.polarCenterX||o/2,l=r.polarCenterY||s/2,c,u,d,f=0,h=0,g=0,v=0,b,x=Math.sqrt(a*a+l*l);u=o-a,d=s-l,b=Math.sqrt(u*u+d*d),x=b>x?b:x;var T=s,I=o,P,H,E=360/I*Math.PI/180,U,F;for(H=0;H<I;H+=1)for(U=Math.sin(H*E),F=Math.cos(H*E),P=0;P<T;P+=1)u=Math.floor(a+x*P/T*F),d=Math.floor(l+x*P/T*U),c=(d*o+u)*4,f=n[c+0],h=n[c+1],g=n[c+2],v=n[c+3],c=(H+P*o)*4,i[c+0]=f,i[c+1]=h,i[c+2]=g,i[c+3]=v},VI=function(t,e,r){var n=t.data,i=e.data,o=t.width,s=t.height,a=r.polarCenterX||o/2,l=r.polarCenterY||s/2,c,u,d,f,h,g=0,v=0,b=0,x=0,T,I=Math.sqrt(a*a+l*l);u=o-a,d=s-l,T=Math.sqrt(u*u+d*d),I=T>I?T:I;var P=s,H=o,E,U,F=r.polarRotation||0,Y,K;for(u=0;u<o;u+=1)for(d=0;d<s;d+=1)f=u-a,h=d-l,E=Math.sqrt(f*f+h*h)*P/I,U=(Math.atan2(h,f)*180/Math.PI+360+F)%360,U=U*H/360,Y=Math.floor(U),K=Math.floor(E),c=(K*o+Y)*4,g=n[c+0],v=n[c+1],b=n[c+2],x=n[c+3],c=(d*o+u)*4,i[c+0]=g,i[c+1]=v,i[c+2]=b,i[c+3]=x},jI=function(t){var e=t.width,r=t.height,n,i,o,s,a,l,c,u,d,f,h=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),v=Math.floor(e*(g%360)/360);if(!(h<1)){var b=a8.Util.createCanvasElement();b.width=e,b.height=r;var x=b.getContext("2d").getImageData(0,0,e,r);a8.Util.releaseCanvas(b),LI(t,x,{polarCenterX:e/2,polarCenterY:r/2});for(var T=e/Math.pow(2,h);T<=8;)T=T*2,h-=1;T=Math.ceil(T);var I=T,P=0,H=I,E=1;for(v+T>e&&(P=I,H=0,E=-1),i=0;i<r;i+=1)for(n=P;n!==H;n+=E)o=Math.round(n+v)%e,d=(e*i+o)*4,a=x.data[d+0],l=x.data[d+1],c=x.data[d+2],u=x.data[d+3],f=(e*i+n)*4,x.data[f+0]=a,x.data[f+1]=l,x.data[f+2]=c,x.data[f+3]=u;for(i=0;i<r;i+=1)for(I=Math.floor(T),s=0;s<h;s+=1){for(n=0;n<I+1;n+=1)d=(e*i+n)*4,a=x.data[d+0],l=x.data[d+1],c=x.data[d+2],u=x.data[d+3],f=(e*i+I*2-n-1)*4,x.data[f+0]=a,x.data[f+1]=l,x.data[f+2]=c,x.data[f+3]=u;I*=2}VI(x,t,{polarRotation:0})}};Du.Kaleidoscope=jI;bu.Factory.addGetterSetter(l8.Node,"kaleidoscopePower",2,(0,c8.getNumberValidator)(),bu.Factory.afterSetFilter);bu.Factory.addGetterSetter(l8.Node,"kaleidoscopeAngle",0,(0,c8.getNumberValidator)(),bu.Factory.afterSetFilter)});var f8=re(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.Mask=void 0;var d8=Se(),UI=ht(),BI=Ae();function xu(t,e,r){var n=(r*t.width+e)*4,i=[];return i.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),i}function Ca(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function HI(t){for(var e=[0,0,0],r=0;r<t.length;r++)e[0]+=t[r][0],e[1]+=t[r][1],e[2]+=t[r][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function $I(t,e){var r=xu(t,0,0),n=xu(t,t.width-1,0),i=xu(t,0,t.height-1),o=xu(t,t.width-1,t.height-1),s=e||10;if(Ca(r,n)<s&&Ca(n,o)<s&&Ca(o,i)<s&&Ca(i,r)<s){for(var a=HI([n,r,o,i]),l=[],c=0;c<t.width*t.height;c++){var u=Ca(a,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=u<s?0:255}return l}}function GI(t,e){for(var r=0;r<t.width*t.height;r++)t.data[4*r+3]=e[r]}function zI(t,e,r){for(var n=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),s=[],a=0;a<r;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=a+d-o,g=l+f-o;if(h>=0&&h<r&&g>=0&&g<e){var v=h*e+g,b=n[d*i+f];u+=t[v]*b}}s[c]=u===255*8?255:0}return s}function qI(t,e,r){for(var n=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),s=[],a=0;a<r;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=a+d-o,g=l+f-o;if(h>=0&&h<r&&g>=0&&g<e){var v=h*e+g,b=n[d*i+f];u+=t[v]*b}}s[c]=u>=255*4?255:0}return s}function WI(t,e,r){for(var n=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),s=[],a=0;a<r;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=a+d-o,g=l+f-o;if(h>=0&&h<r&&g>=0&&g<e){var v=h*e+g,b=n[d*i+f];u+=t[v]*b}}s[c]=u}return s}var YI=function(t){var e=this.threshold(),r=$I(t,e);return r&&(r=zI(r,t.width,t.height),r=qI(r,t.width,t.height),r=WI(r,t.width,t.height),GI(t,r)),t};Su.Mask=YI;d8.Factory.addGetterSetter(UI.Node,"threshold",0,(0,BI.getNumberValidator)(),d8.Factory.afterSetFilter)});var p8=re(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.Noise=void 0;var h8=Se(),KI=ht(),ZI=Ae(),XI=function(t){var e=this.noise()*255,r=t.data,n=r.length,i=e/2,o;for(o=0;o<n;o+=4)r[o+0]+=i-2*i*Math.random(),r[o+1]+=i-2*i*Math.random(),r[o+2]+=i-2*i*Math.random()};Eu.Noise=XI;h8.Factory.addGetterSetter(KI.Node,"noise",.2,(0,ZI.getNumberValidator)(),h8.Factory.afterSetFilter)});var m8=re(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.Pixelate=void 0;var g8=Se(),QI=dt(),JI=ht(),eM=Ae(),tM=function(t){var e=Math.ceil(this.pixelSize()),r=t.width,n=t.height,i,o,s,a,l,c,u,d=Math.ceil(r/e),f=Math.ceil(n/e),h,g,v,b,x,T,I,P=t.data;if(e<=0){QI.Util.error("pixelSize value can not be <= 0");return}for(x=0;x<d;x+=1)for(T=0;T<f;T+=1){for(a=0,l=0,c=0,u=0,h=x*e,g=h+e,v=T*e,b=v+e,I=0,i=h;i<g;i+=1)if(!(i>=r))for(o=v;o<b;o+=1)o>=n||(s=(r*o+i)*4,a+=P[s+0],l+=P[s+1],c+=P[s+2],u+=P[s+3],I+=1);for(a=a/I,l=l/I,c=c/I,u=u/I,i=h;i<g;i+=1)if(!(i>=r))for(o=v;o<b;o+=1)o>=n||(s=(r*o+i)*4,P[s+0]=a,P[s+1]=l,P[s+2]=c,P[s+3]=u)}};Iu.Pixelate=tM;g8.Factory.addGetterSetter(JI.Node,"pixelSize",8,(0,eM.getNumberValidator)(),g8.Factory.afterSetFilter)});var C8=re(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.Posterize=void 0;var v8=Se(),nM=ht(),rM=Ae(),iM=function(t){var e=Math.round(this.levels()*254)+1,r=t.data,n=r.length,i=255/e,o;for(o=0;o<n;o+=1)r[o]=Math.floor(r[o]/i)*i};Mu.Posterize=iM;v8.Factory.addGetterSetter(nM.Node,"levels",.5,(0,rM.getNumberValidator)(),v8.Factory.afterSetFilter)});var y8=re(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.RGB=void 0;var Tu=Se(),Ep=ht(),oM=Ae(),sM=function(t){var e=t.data,r=e.length,n=this.red(),i=this.green(),o=this.blue(),s,a;for(s=0;s<r;s+=4)a=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255,e[s]=a*n,e[s+1]=a*i,e[s+2]=a*o,e[s+3]=e[s+3]};Au.RGB=sM;Tu.Factory.addGetterSetter(Ep.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Tu.Factory.addGetterSetter(Ep.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Tu.Factory.addGetterSetter(Ep.Node,"blue",0,oM.RGBComponent,Tu.Factory.afterSetFilter)});var _8=re(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.RGBA=void 0;var ya=Se(),Ou=ht(),aM=Ae(),lM=function(t){var e=t.data,r=e.length,n=this.red(),i=this.green(),o=this.blue(),s=this.alpha(),a,l;for(a=0;a<r;a+=4)l=1-s,e[a]=n*s+e[a]*l,e[a+1]=i*s+e[a+1]*l,e[a+2]=o*s+e[a+2]*l};Nu.RGBA=lM;ya.Factory.addGetterSetter(Ou.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ya.Factory.addGetterSetter(Ou.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ya.Factory.addGetterSetter(Ou.Node,"blue",0,aM.RGBComponent,ya.Factory.afterSetFilter);ya.Factory.addGetterSetter(Ou.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t})});var w8=re(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.Sepia=void 0;var cM=function(t){var e=t.data,r=e.length,n,i,o,s;for(n=0;n<r;n+=4)i=e[n+0],o=e[n+1],s=e[n+2],e[n+0]=Math.min(255,i*.393+o*.769+s*.189),e[n+1]=Math.min(255,i*.349+o*.686+s*.168),e[n+2]=Math.min(255,i*.272+o*.534+s*.131)};Ru.Sepia=cM});var b8=re(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.Solarize=void 0;var uM=function(t){var e=t.data,r=t.width,n=t.height,i=r*4,o=n;do{var s=(o-1)*i,a=r;do{var l=s+(a-1)*4,c=e[l],u=e[l+1],d=e[l+2];c>127&&(c=255-c),u>127&&(u=255-u),d>127&&(d=255-d),e[l]=c,e[l+1]=u,e[l+2]=d}while(--a)}while(--o)};Pu.Solarize=uM});var x8=re(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.Threshold=void 0;var D8=Se(),dM=ht(),fM=Ae(),hM=function(t){var e=this.threshold()*255,r=t.data,n=r.length,i;for(i=0;i<n;i+=1)r[i]=r[i]<e?0:255};Fu.Threshold=hM;D8.Factory.addGetterSetter(dM.Node,"threshold",.5,(0,fM.getNumberValidator)(),D8.Factory.afterSetFilter)});var I8=re(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.Konva=void 0;var S8=X4(),pM=J4(),gM=o5(),mM=s5(),vM=l5(),CM=c5(),E8=f5(),yM=rp(),_M=Wc(),wM=fp(),bM=g5(),DM=y5(),xM=w5(),SM=b5(),EM=Cp(),IM=k5(),MM=$5(),TM=z5(),AM=Y5(),OM=Z5(),NM=Q5(),RM=e8(),PM=n8(),FM=r8(),kM=i8(),LM=o8(),VM=s8(),jM=u8(),UM=f8(),BM=p8(),HM=m8(),$M=C8(),GM=y8(),zM=_8(),qM=w8(),WM=b8(),YM=x8();ku.Konva=S8.Konva.Util._assign(S8.Konva,{Arc:pM.Arc,Arrow:gM.Arrow,Circle:mM.Circle,Ellipse:vM.Ellipse,Image:CM.Image,Label:E8.Label,Tag:E8.Tag,Line:yM.Line,Path:_M.Path,Rect:wM.Rect,RegularPolygon:bM.RegularPolygon,Ring:DM.Ring,Sprite:xM.Sprite,Star:SM.Star,Text:EM.Text,TextPath:IM.TextPath,Transformer:MM.Transformer,Wedge:TM.Wedge,Filters:{Blur:AM.Blur,Brighten:OM.Brighten,Contrast:NM.Contrast,Emboss:RM.Emboss,Enhance:PM.Enhance,Grayscale:FM.Grayscale,HSL:kM.HSL,HSV:LM.HSV,Invert:VM.Invert,Kaleidoscope:jM.Kaleidoscope,Mask:UM.Mask,Noise:BM.Noise,Pixelate:HM.Pixelate,Posterize:$M.Posterize,RGB:GM.RGB,RGBA:zM.RGBA,Sepia:qM.Sepia,Solarize:WM.Solarize,Threshold:YM.Threshold}})});var Ip=re((M8,T8)=>{"use strict";Object.defineProperty(M8,"__esModule",{value:!0});var KM=I8();T8.exports=KM.Konva});var $8=re((H8,Fp)=>{"use strict";(function(t){if(typeof H8=="object"&&typeof Fp<"u")Fp.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.localforage=t()}})(function(){var t,e,r;return function n(i,o,s){function a(u,d){if(!o[u]){if(!i[u]){var f=typeof os=="function"&&os;if(!d&&f)return f(u,!0);if(l)return l(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var g=o[u]={exports:{}};i[u][0].call(g.exports,function(v){var b=i[u][1][v];return a(b||v)},g,g.exports,n,i,o,s)}return o[u].exports}for(var l=typeof os=="function"&&os,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(n,i,o){(function(s){"use strict";var a=s.MutationObserver||s.WebKitMutationObserver,l;if(a){var c=0,u=new a(v),d=s.document.createTextNode("");u.observe(d,{characterData:!0}),l=function(){d.data=c=++c%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=v,l=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?l=function(){var x=s.document.createElement("script");x.onreadystatechange=function(){v(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},s.document.documentElement.appendChild(x)}:l=function(){setTimeout(v,0)};var h,g=[];function v(){h=!0;for(var x,T,I=g.length;I;){for(T=g,g=[],x=-1;++x<I;)T[x]();I=g.length}h=!1}i.exports=b;function b(x){g.push(x)===1&&!h&&l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,o){"use strict";var s=n(1);function a(){}var l={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];i.exports=f;function f(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,E!==a&&b(this,E)}f.prototype.catch=function(E){return this.then(null,E)},f.prototype.then=function(E,U){if(typeof E!="function"&&this.state===u||typeof U!="function"&&this.state===c)return this;var F=new this.constructor(a);if(this.state!==d){var Y=this.state===u?E:U;g(F,Y,this.outcome)}else this.queue.push(new h(F,E,U));return F};function h(E,U,F){this.promise=E,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(E){l.resolve(this.promise,E)},h.prototype.otherCallFulfilled=function(E){g(this.promise,this.onFulfilled,E)},h.prototype.callRejected=function(E){l.reject(this.promise,E)},h.prototype.otherCallRejected=function(E){g(this.promise,this.onRejected,E)};function g(E,U,F){s(function(){var Y;try{Y=U(F)}catch(K){return l.reject(E,K)}Y===E?l.reject(E,new TypeError("Cannot resolve promise with itself")):l.resolve(E,Y)})}l.resolve=function(E,U){var F=x(v,U);if(F.status==="error")return l.reject(E,F.value);var Y=F.value;if(Y)b(E,Y);else{E.state=u,E.outcome=U;for(var K=-1,X=E.queue.length;++K<X;)E.queue[K].callFulfilled(U)}return E},l.reject=function(E,U){E.state=c,E.outcome=U;for(var F=-1,Y=E.queue.length;++F<Y;)E.queue[F].callRejected(U);return E};function v(E){var U=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof U=="function")return function(){U.apply(E,arguments)}}function b(E,U){var F=!1;function Y(Ee){F||(F=!0,l.reject(E,Ee))}function K(Ee){F||(F=!0,l.resolve(E,Ee))}function X(){U(K,Y)}var De=x(X);De.status==="error"&&Y(De.value)}function x(E,U){var F={};try{F.value=E(U),F.status="success"}catch(Y){F.status="error",F.value=Y}return F}f.resolve=T;function T(E){return E instanceof this?E:l.resolve(new this(a),E)}f.reject=I;function I(E){var U=new this(a);return l.reject(U,E)}f.all=P;function P(E){var U=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=E.length,Y=!1;if(!F)return this.resolve([]);for(var K=new Array(F),X=0,De=-1,Ee=new this(a);++De<F;)Ge(E[De],De);return Ee;function Ge(pt,Xe){U.resolve(pt).then(gt,function(mt){Y||(Y=!0,l.reject(Ee,mt))});function gt(mt){K[Xe]=mt,++X===F&&!Y&&(Y=!0,l.resolve(Ee,K))}}}f.race=H;function H(E){var U=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=E.length,Y=!1;if(!F)return this.resolve([]);for(var K=-1,X=new this(a);++K<F;)De(E[K]);return X;function De(Ee){U.resolve(Ee).then(function(Ge){Y||(Y=!0,l.resolve(X,Ge))},function(Ge){Y||(Y=!0,l.reject(X,Ge))})}}},{1:1}],3:[function(n,i,o){(function(s){"use strict";typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,o){"use strict";var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};function a(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=l();function u(){try{if(!c||!c.open)return!1;var p=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),C=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!p||C)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(p,C){p=p||[],C=C||{};try{return new Blob(p,C)}catch(_){if(_.name!=="TypeError")throw _;for(var m=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,D=new m,S=0;S<p.length;S+=1)D.append(p[S]);return D.getBlob(C.type)}}typeof Promise>"u"&&n(3);var f=Promise;function h(p,C){C&&p.then(function(m){C(null,m)},function(m){C(m)})}function g(p,C,m){typeof C=="function"&&p.then(C),typeof m=="function"&&p.catch(m)}function v(p){return typeof p!="string"&&(console.warn(p+" used as a key, but it is not a string."),p=String(p)),p}function b(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var x="local-forage-detect-blob-support",T=void 0,I={},P=Object.prototype.toString,H="readonly",E="readwrite";function U(p){for(var C=p.length,m=new ArrayBuffer(C),D=new Uint8Array(m),S=0;S<C;S++)D[S]=p.charCodeAt(S);return m}function F(p){return new f(function(C){var m=p.transaction(x,E),D=d([""]);m.objectStore(x).put(D,"key"),m.onabort=function(S){S.preventDefault(),S.stopPropagation(),C(!1)},m.oncomplete=function(){var S=navigator.userAgent.match(/Chrome\/(\d+)/),_=navigator.userAgent.match(/Edge\//);C(_||!S||parseInt(S[1],10)>=43)}}).catch(function(){return!1})}function Y(p){return typeof T=="boolean"?f.resolve(T):F(p).then(function(C){return T=C,T})}function K(p){var C=I[p.name],m={};m.promise=new f(function(D,S){m.resolve=D,m.reject=S}),C.deferredOperations.push(m),C.dbReady?C.dbReady=C.dbReady.then(function(){return m.promise}):C.dbReady=m.promise}function X(p){var C=I[p.name],m=C.deferredOperations.pop();if(m)return m.resolve(),m.promise}function De(p,C){var m=I[p.name],D=m.deferredOperations.pop();if(D)return D.reject(C),D.promise}function Ee(p,C){return new f(function(m,D){if(I[p.name]=I[p.name]||Sn(),p.db)if(C)K(p),p.db.close();else return m(p.db);var S=[p.name];C&&S.push(p.version);var _=c.open.apply(c,S);C&&(_.onupgradeneeded=function(N){var L=_.result;try{L.createObjectStore(p.storeName),N.oldVersion<=1&&L.createObjectStore(x)}catch(V){if(V.name==="ConstraintError")console.warn('The database "'+p.name+'" has been upgraded from version '+N.oldVersion+" to version "+N.newVersion+', but the storage "'+p.storeName+'" already exists.');else throw V}}),_.onerror=function(N){N.preventDefault(),D(_.error)},_.onsuccess=function(){var N=_.result;N.onversionchange=function(L){L.target.close()},m(N),X(p)}})}function Ge(p){return Ee(p,!1)}function pt(p){return Ee(p,!0)}function Xe(p,C){if(!p.db)return!0;var m=!p.db.objectStoreNames.contains(p.storeName),D=p.version<p.db.version,S=p.version>p.db.version;if(D&&(p.version!==C&&console.warn('The database "'+p.name+`" can't be downgraded from version `+p.db.version+" to version "+p.version+"."),p.version=p.db.version),S||m){if(m){var _=p.db.version+1;_>p.version&&(p.version=_)}return!0}return!1}function gt(p){return new f(function(C,m){var D=new FileReader;D.onerror=m,D.onloadend=function(S){var _=btoa(S.target.result||"");C({__local_forage_encoded_blob:!0,data:_,type:p.type})},D.readAsBinaryString(p)})}function mt(p){var C=U(atob(p.data));return d([C],{type:p.type})}function $i(p){return p&&p.__local_forage_encoded_blob}function ze(p){var C=this,m=C._initReady().then(function(){var D=I[C._dbInfo.name];if(D&&D.dbReady)return D.dbReady});return g(m,p,p),m}function st(p){K(p);for(var C=I[p.name],m=C.forages,D=0;D<m.length;D++){var S=m[D];S._dbInfo.db&&(S._dbInfo.db.close(),S._dbInfo.db=null)}return p.db=null,Ge(p).then(function(_){return p.db=_,Xe(p)?pt(p):_}).then(function(_){p.db=C.db=_;for(var N=0;N<m.length;N++)m[N]._dbInfo.db=_}).catch(function(_){throw De(p,_),_})}function at(p,C,m,D){D===void 0&&(D=1);try{var S=p.db.transaction(p.storeName,C);m(null,S)}catch(_){if(D>0&&(!p.db||_.name==="InvalidStateError"||_.name==="NotFoundError"))return f.resolve().then(function(){if(!p.db||_.name==="NotFoundError"&&!p.db.objectStoreNames.contains(p.storeName)&&p.version<=p.db.version)return p.db&&(p.version=p.db.version+1),pt(p)}).then(function(){return st(p).then(function(){at(p,C,m,D-1)})}).catch(m);m(_)}}function Sn(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function $n(p){var C=this,m={db:null};if(p)for(var D in p)m[D]=p[D];var S=I[m.name];S||(S=Sn(),I[m.name]=S),S.forages.push(C),C._initReady||(C._initReady=C.ready,C.ready=ze);var _=[];function N(){return f.resolve()}for(var L=0;L<S.forages.length;L++){var V=S.forages[L];V!==C&&_.push(V._initReady().catch(N))}var B=S.forages.slice(0);return f.all(_).then(function(){return m.db=S.db,Ge(m)}).then(function($){return m.db=$,Xe(m,C._defaultConfig.version)?pt(m):$}).then(function($){m.db=S.db=$,C._dbInfo=m;for(var ne=0;ne<B.length;ne++){var Ie=B[ne];Ie!==C&&(Ie._dbInfo.db=m.db,Ie._dbInfo.version=m.version)}})}function y6(p,C){var m=this;p=v(p);var D=new f(function(S,_){m.ready().then(function(){at(m._dbInfo,H,function(N,L){if(N)return _(N);try{var V=L.objectStore(m._dbInfo.storeName),B=V.get(p);B.onsuccess=function(){var $=B.result;$===void 0&&($=null),$i($)&&($=mt($)),S($)},B.onerror=function(){_(B.error)}}catch($){_($)}})}).catch(_)});return h(D,C),D}function _6(p,C){var m=this,D=new f(function(S,_){m.ready().then(function(){at(m._dbInfo,H,function(N,L){if(N)return _(N);try{var V=L.objectStore(m._dbInfo.storeName),B=V.openCursor(),$=1;B.onsuccess=function(){var ne=B.result;if(ne){var Ie=ne.value;$i(Ie)&&(Ie=mt(Ie));var Ye=p(Ie,ne.key,$++);Ye!==void 0?S(Ye):ne.continue()}else S()},B.onerror=function(){_(B.error)}}catch(ne){_(ne)}})}).catch(_)});return h(D,C),D}function w6(p,C,m){var D=this;p=v(p);var S=new f(function(_,N){var L;D.ready().then(function(){return L=D._dbInfo,P.call(C)==="[object Blob]"?Y(L.db).then(function(V){return V?C:gt(C)}):C}).then(function(V){at(D._dbInfo,E,function(B,$){if(B)return N(B);try{var ne=$.objectStore(D._dbInfo.storeName);V===null&&(V=void 0);var Ie=ne.put(V,p);$.oncomplete=function(){V===void 0&&(V=null),_(V)},$.onabort=$.onerror=function(){var Ye=Ie.error?Ie.error:Ie.transaction.error;N(Ye)}}catch(Ye){N(Ye)}})}).catch(N)});return h(S,m),S}function b6(p,C){var m=this;p=v(p);var D=new f(function(S,_){m.ready().then(function(){at(m._dbInfo,E,function(N,L){if(N)return _(N);try{var V=L.objectStore(m._dbInfo.storeName),B=V.delete(p);L.oncomplete=function(){S()},L.onerror=function(){_(B.error)},L.onabort=function(){var $=B.error?B.error:B.transaction.error;_($)}}catch($){_($)}})}).catch(_)});return h(D,C),D}function D6(p){var C=this,m=new f(function(D,S){C.ready().then(function(){at(C._dbInfo,E,function(_,N){if(_)return S(_);try{var L=N.objectStore(C._dbInfo.storeName),V=L.clear();N.oncomplete=function(){D()},N.onabort=N.onerror=function(){var B=V.error?V.error:V.transaction.error;S(B)}}catch(B){S(B)}})}).catch(S)});return h(m,p),m}function x6(p){var C=this,m=new f(function(D,S){C.ready().then(function(){at(C._dbInfo,H,function(_,N){if(_)return S(_);try{var L=N.objectStore(C._dbInfo.storeName),V=L.count();V.onsuccess=function(){D(V.result)},V.onerror=function(){S(V.error)}}catch(B){S(B)}})}).catch(S)});return h(m,p),m}function S6(p,C){var m=this,D=new f(function(S,_){if(p<0){S(null);return}m.ready().then(function(){at(m._dbInfo,H,function(N,L){if(N)return _(N);try{var V=L.objectStore(m._dbInfo.storeName),B=!1,$=V.openKeyCursor();$.onsuccess=function(){var ne=$.result;if(!ne){S(null);return}p===0||B?S(ne.key):(B=!0,ne.advance(p))},$.onerror=function(){_($.error)}}catch(ne){_(ne)}})}).catch(_)});return h(D,C),D}function E6(p){var C=this,m=new f(function(D,S){C.ready().then(function(){at(C._dbInfo,H,function(_,N){if(_)return S(_);try{var L=N.objectStore(C._dbInfo.storeName),V=L.openKeyCursor(),B=[];V.onsuccess=function(){var $=V.result;if(!$){D(B);return}B.push($.key),$.continue()},V.onerror=function(){S(V.error)}}catch($){S($)}})}).catch(S)});return h(m,p),m}function I6(p,C){C=b.apply(this,arguments);var m=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||m.name,p.storeName=p.storeName||m.storeName);var D=this,S;if(!p.name)S=f.reject("Invalid arguments");else{var _=p.name===m.name&&D._dbInfo.db,N=_?f.resolve(D._dbInfo.db):Ge(p).then(function(L){var V=I[p.name],B=V.forages;V.db=L;for(var $=0;$<B.length;$++)B[$]._dbInfo.db=L;return L});p.storeName?S=N.then(function(L){if(L.objectStoreNames.contains(p.storeName)){var V=L.version+1;K(p);var B=I[p.name],$=B.forages;L.close();for(var ne=0;ne<$.length;ne++){var Ie=$[ne];Ie._dbInfo.db=null,Ie._dbInfo.version=V}var Ye=new f(function(Ze,bt){var vt=c.open(p.name,V);vt.onerror=function(dn){var is=vt.result;is.close(),bt(dn)},vt.onupgradeneeded=function(){var dn=vt.result;dn.deleteObjectStore(p.storeName)},vt.onsuccess=function(){var dn=vt.result;dn.close(),Ze(dn)}});return Ye.then(function(Ze){B.db=Ze;for(var bt=0;bt<$.length;bt++){var vt=$[bt];vt._dbInfo.db=Ze,X(vt._dbInfo)}}).catch(function(Ze){throw(De(p,Ze)||f.resolve()).catch(function(){}),Ze})}}):S=N.then(function(L){K(p);var V=I[p.name],B=V.forages;L.close();for(var $=0;$<B.length;$++){var ne=B[$];ne._dbInfo.db=null}var Ie=new f(function(Ye,Ze){var bt=c.deleteDatabase(p.name);bt.onerror=function(){var vt=bt.result;vt&&vt.close(),Ze(bt.error)},bt.onblocked=function(){console.warn('dropInstance blocked for database "'+p.name+'" until all open connections are closed')},bt.onsuccess=function(){var vt=bt.result;vt&&vt.close(),Ye(vt)}});return Ie.then(function(Ye){V.db=Ye;for(var Ze=0;Ze<B.length;Ze++){var bt=B[Ze];X(bt._dbInfo)}}).catch(function(Ye){throw(De(p,Ye)||f.resolve()).catch(function(){}),Ye})})}return h(S,C),S}var M6={_driver:"asyncStorage",_initStorage:$n,_support:u(),iterate:_6,getItem:y6,setItem:w6,removeItem:b6,clear:D6,length:x6,key:S6,keys:E6,dropInstance:I6};function T6(){return typeof openDatabase=="function"}var Lr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A6="~~local_forage_type~",Lp=/^~~local_forage_type~([^~]+)~/,wa="__lfsc__:",Uu=wa.length,Bu="arbf",Hu="blob",Vp="si08",jp="ui08",Up="uic8",Bp="si16",Hp="si32",$p="ur16",Gp="ui32",zp="fl32",qp="fl64",Wp=Uu+Bu.length,Yp=Object.prototype.toString;function Kp(p){var C=p.length*.75,m=p.length,D,S=0,_,N,L,V;p[p.length-1]==="="&&(C--,p[p.length-2]==="="&&C--);var B=new ArrayBuffer(C),$=new Uint8Array(B);for(D=0;D<m;D+=4)_=Lr.indexOf(p[D]),N=Lr.indexOf(p[D+1]),L=Lr.indexOf(p[D+2]),V=Lr.indexOf(p[D+3]),$[S++]=_<<2|N>>4,$[S++]=(N&15)<<4|L>>2,$[S++]=(L&3)<<6|V&63;return B}function $u(p){var C=new Uint8Array(p),m="",D;for(D=0;D<C.length;D+=3)m+=Lr[C[D]>>2],m+=Lr[(C[D]&3)<<4|C[D+1]>>4],m+=Lr[(C[D+1]&15)<<2|C[D+2]>>6],m+=Lr[C[D+2]&63];return C.length%3===2?m=m.substring(0,m.length-1)+"=":C.length%3===1&&(m=m.substring(0,m.length-2)+"=="),m}function O6(p,C){var m="";if(p&&(m=Yp.call(p)),p&&(m==="[object ArrayBuffer]"||p.buffer&&Yp.call(p.buffer)==="[object ArrayBuffer]")){var D,S=wa;p instanceof ArrayBuffer?(D=p,S+=Bu):(D=p.buffer,m==="[object Int8Array]"?S+=Vp:m==="[object Uint8Array]"?S+=jp:m==="[object Uint8ClampedArray]"?S+=Up:m==="[object Int16Array]"?S+=Bp:m==="[object Uint16Array]"?S+=$p:m==="[object Int32Array]"?S+=Hp:m==="[object Uint32Array]"?S+=Gp:m==="[object Float32Array]"?S+=zp:m==="[object Float64Array]"?S+=qp:C(new Error("Failed to get type for BinaryArray"))),C(S+$u(D))}else if(m==="[object Blob]"){var _=new FileReader;_.onload=function(){var N=A6+p.type+"~"+$u(this.result);C(wa+Hu+N)},_.readAsArrayBuffer(p)}else try{C(JSON.stringify(p))}catch(N){console.error("Couldn't convert value into a JSON string: ",p),C(null,N)}}function N6(p){if(p.substring(0,Uu)!==wa)return JSON.parse(p);var C=p.substring(Wp),m=p.substring(Uu,Wp),D;if(m===Hu&&Lp.test(C)){var S=C.match(Lp);D=S[1],C=C.substring(S[0].length)}var _=Kp(C);switch(m){case Bu:return _;case Hu:return d([_],{type:D});case Vp:return new Int8Array(_);case jp:return new Uint8Array(_);case Up:return new Uint8ClampedArray(_);case Bp:return new Int16Array(_);case $p:return new Uint16Array(_);case Hp:return new Int32Array(_);case Gp:return new Uint32Array(_);case zp:return new Float32Array(_);case qp:return new Float64Array(_);default:throw new Error("Unkown type: "+m)}}var Gu={serialize:O6,deserialize:N6,stringToBuffer:Kp,bufferToString:$u};function Zp(p,C,m,D){p.executeSql("CREATE TABLE IF NOT EXISTS "+C.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],m,D)}function R6(p){var C=this,m={db:null};if(p)for(var D in p)m[D]=typeof p[D]!="string"?p[D].toString():p[D];var S=new f(function(_,N){try{m.db=openDatabase(m.name,String(m.version),m.description,m.size)}catch(L){return N(L)}m.db.transaction(function(L){Zp(L,m,function(){C._dbInfo=m,_()},function(V,B){N(B)})},N)});return m.serializer=Gu,S}function Vr(p,C,m,D,S,_){p.executeSql(m,D,S,function(N,L){L.code===L.SYNTAX_ERR?N.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[C.storeName],function(V,B){B.rows.length?_(V,L):Zp(V,C,function(){V.executeSql(m,D,S,_)},_)},_):_(N,L)},_)}function P6(p,C){var m=this;p=v(p);var D=new f(function(S,_){m.ready().then(function(){var N=m._dbInfo;N.db.transaction(function(L){Vr(L,N,"SELECT * FROM "+N.storeName+" WHERE key = ? LIMIT 1",[p],function(V,B){var $=B.rows.length?B.rows.item(0).value:null;$&&($=N.serializer.deserialize($)),S($)},function(V,B){_(B)})})}).catch(_)});return h(D,C),D}function F6(p,C){var m=this,D=new f(function(S,_){m.ready().then(function(){var N=m._dbInfo;N.db.transaction(function(L){Vr(L,N,"SELECT * FROM "+N.storeName,[],function(V,B){for(var $=B.rows,ne=$.length,Ie=0;Ie<ne;Ie++){var Ye=$.item(Ie),Ze=Ye.value;if(Ze&&(Ze=N.serializer.deserialize(Ze)),Ze=p(Ze,Ye.key,Ie+1),Ze!==void 0){S(Ze);return}}S()},function(V,B){_(B)})})}).catch(_)});return h(D,C),D}function Xp(p,C,m,D){var S=this;p=v(p);var _=new f(function(N,L){S.ready().then(function(){C===void 0&&(C=null);var V=C,B=S._dbInfo;B.serializer.serialize(C,function($,ne){ne?L(ne):B.db.transaction(function(Ie){Vr(Ie,B,"INSERT OR REPLACE INTO "+B.storeName+" (key, value) VALUES (?, ?)",[p,$],function(){N(V)},function(Ye,Ze){L(Ze)})},function(Ie){if(Ie.code===Ie.QUOTA_ERR){if(D>0){N(Xp.apply(S,[p,V,m,D-1]));return}L(Ie)}})})}).catch(L)});return h(_,m),_}function k6(p,C,m){return Xp.apply(this,[p,C,m,1])}function L6(p,C){var m=this;p=v(p);var D=new f(function(S,_){m.ready().then(function(){var N=m._dbInfo;N.db.transaction(function(L){Vr(L,N,"DELETE FROM "+N.storeName+" WHERE key = ?",[p],function(){S()},function(V,B){_(B)})})}).catch(_)});return h(D,C),D}function V6(p){var C=this,m=new f(function(D,S){C.ready().then(function(){var _=C._dbInfo;_.db.transaction(function(N){Vr(N,_,"DELETE FROM "+_.storeName,[],function(){D()},function(L,V){S(V)})})}).catch(S)});return h(m,p),m}function j6(p){var C=this,m=new f(function(D,S){C.ready().then(function(){var _=C._dbInfo;_.db.transaction(function(N){Vr(N,_,"SELECT COUNT(key) as c FROM "+_.storeName,[],function(L,V){var B=V.rows.item(0).c;D(B)},function(L,V){S(V)})})}).catch(S)});return h(m,p),m}function U6(p,C){var m=this,D=new f(function(S,_){m.ready().then(function(){var N=m._dbInfo;N.db.transaction(function(L){Vr(L,N,"SELECT key FROM "+N.storeName+" WHERE id = ? LIMIT 1",[p+1],function(V,B){var $=B.rows.length?B.rows.item(0).key:null;S($)},function(V,B){_(B)})})}).catch(_)});return h(D,C),D}function B6(p){var C=this,m=new f(function(D,S){C.ready().then(function(){var _=C._dbInfo;_.db.transaction(function(N){Vr(N,_,"SELECT key FROM "+_.storeName,[],function(L,V){for(var B=[],$=0;$<V.rows.length;$++)B.push(V.rows.item($).key);D(B)},function(L,V){S(V)})})}).catch(S)});return h(m,p),m}function H6(p){return new f(function(C,m){p.transaction(function(D){D.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(S,_){for(var N=[],L=0;L<_.rows.length;L++)N.push(_.rows.item(L).name);C({db:p,storeNames:N})},function(S,_){m(_)})},function(D){m(D)})})}function $6(p,C){C=b.apply(this,arguments);var m=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||m.name,p.storeName=p.storeName||m.storeName);var D=this,S;return p.name?S=new f(function(_){var N;p.name===m.name?N=D._dbInfo.db:N=openDatabase(p.name,"","",0),p.storeName?_({db:N,storeNames:[p.storeName]}):_(H6(N))}).then(function(_){return new f(function(N,L){_.db.transaction(function(V){function B(Ye){return new f(function(Ze,bt){V.executeSql("DROP TABLE IF EXISTS "+Ye,[],function(){Ze()},function(vt,dn){bt(dn)})})}for(var $=[],ne=0,Ie=_.storeNames.length;ne<Ie;ne++)$.push(B(_.storeNames[ne]));f.all($).then(function(){N()}).catch(function(Ye){L(Ye)})},function(V){L(V)})})}):S=f.reject("Invalid arguments"),h(S,C),S}var G6={_driver:"webSQLStorage",_initStorage:R6,_support:T6(),iterate:F6,getItem:P6,setItem:k6,removeItem:L6,clear:V6,length:j6,key:U6,keys:B6,dropInstance:$6};function z6(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qp(p,C){var m=p.name+"/";return p.storeName!==C.storeName&&(m+=p.storeName+"/"),m}function q6(){var p="_localforage_support_test";try{return localStorage.setItem(p,!0),localStorage.removeItem(p),!1}catch{return!0}}function W6(){return!q6()||localStorage.length>0}function Y6(p){var C=this,m={};if(p)for(var D in p)m[D]=p[D];return m.keyPrefix=Qp(p,C._defaultConfig),W6()?(C._dbInfo=m,m.serializer=Gu,f.resolve()):f.reject()}function K6(p){var C=this,m=C.ready().then(function(){for(var D=C._dbInfo.keyPrefix,S=localStorage.length-1;S>=0;S--){var _=localStorage.key(S);_.indexOf(D)===0&&localStorage.removeItem(_)}});return h(m,p),m}function Z6(p,C){var m=this;p=v(p);var D=m.ready().then(function(){var S=m._dbInfo,_=localStorage.getItem(S.keyPrefix+p);return _&&(_=S.serializer.deserialize(_)),_});return h(D,C),D}function X6(p,C){var m=this,D=m.ready().then(function(){for(var S=m._dbInfo,_=S.keyPrefix,N=_.length,L=localStorage.length,V=1,B=0;B<L;B++){var $=localStorage.key(B);if($.indexOf(_)===0){var ne=localStorage.getItem($);if(ne&&(ne=S.serializer.deserialize(ne)),ne=p(ne,$.substring(N),V++),ne!==void 0)return ne}}});return h(D,C),D}function Q6(p,C){var m=this,D=m.ready().then(function(){var S=m._dbInfo,_;try{_=localStorage.key(p)}catch{_=null}return _&&(_=_.substring(S.keyPrefix.length)),_});return h(D,C),D}function J6(p){var C=this,m=C.ready().then(function(){for(var D=C._dbInfo,S=localStorage.length,_=[],N=0;N<S;N++){var L=localStorage.key(N);L.indexOf(D.keyPrefix)===0&&_.push(L.substring(D.keyPrefix.length))}return _});return h(m,p),m}function e9(p){var C=this,m=C.keys().then(function(D){return D.length});return h(m,p),m}function t9(p,C){var m=this;p=v(p);var D=m.ready().then(function(){var S=m._dbInfo;localStorage.removeItem(S.keyPrefix+p)});return h(D,C),D}function n9(p,C,m){var D=this;p=v(p);var S=D.ready().then(function(){C===void 0&&(C=null);var _=C;return new f(function(N,L){var V=D._dbInfo;V.serializer.serialize(C,function(B,$){if($)L($);else try{localStorage.setItem(V.keyPrefix+p,B),N(_)}catch(ne){(ne.name==="QuotaExceededError"||ne.name==="NS_ERROR_DOM_QUOTA_REACHED")&&L(ne),L(ne)}})})});return h(S,m),S}function r9(p,C){if(C=b.apply(this,arguments),p=typeof p!="function"&&p||{},!p.name){var m=this.config();p.name=p.name||m.name,p.storeName=p.storeName||m.storeName}var D=this,S;return p.name?S=new f(function(_){p.storeName?_(Qp(p,D._defaultConfig)):_(p.name+"/")}).then(function(_){for(var N=localStorage.length-1;N>=0;N--){var L=localStorage.key(N);L.indexOf(_)===0&&localStorage.removeItem(L)}}):S=f.reject("Invalid arguments"),h(S,C),S}var i9={_driver:"localStorageWrapper",_initStorage:Y6,_support:z6(),iterate:X6,getItem:Z6,setItem:n9,removeItem:t9,clear:K6,length:e9,key:Q6,keys:J6,dropInstance:r9},o9=function(C,m){return C===m||typeof C=="number"&&typeof m=="number"&&isNaN(C)&&isNaN(m)},s9=function(C,m){for(var D=C.length,S=0;S<D;){if(o9(C[S],m))return!0;S++}return!1},Jp=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},rs={},e0={},Gi={INDEXEDDB:M6,WEBSQL:G6,LOCALSTORAGE:i9},a9=[Gi.INDEXEDDB._driver,Gi.WEBSQL._driver,Gi.LOCALSTORAGE._driver],ba=["dropInstance"],zu=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ba),l9={description:"",driver:a9.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function c9(p,C){p[C]=function(){var m=arguments;return p.ready().then(function(){return p[C].apply(p,m)})}}function qu(){for(var p=1;p<arguments.length;p++){var C=arguments[p];if(C)for(var m in C)C.hasOwnProperty(m)&&(Jp(C[m])?arguments[0][m]=C[m].slice():arguments[0][m]=C[m])}return arguments[0]}var u9=function(){function p(C){a(this,p);for(var m in Gi)if(Gi.hasOwnProperty(m)){var D=Gi[m],S=D._driver;this[m]=S,rs[S]||this.defineDriver(D)}this._defaultConfig=qu({},l9),this._config=qu({},this._defaultConfig,C),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return p.prototype.config=function(m){if((typeof m>"u"?"undefined":s(m))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var D in m){if(D==="storeName"&&(m[D]=m[D].replace(/\W/g,"_")),D==="version"&&typeof m[D]!="number")return new Error("Database version must be a number.");this._config[D]=m[D]}return"driver"in m&&m.driver?this.setDriver(this._config.driver):!0}else return typeof m=="string"?this._config[m]:this._config},p.prototype.defineDriver=function(m,D,S){var _=new f(function(N,L){try{var V=m._driver,B=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!m._driver){L(B);return}for(var $=zu.concat("_initStorage"),ne=0,Ie=$.length;ne<Ie;ne++){var Ye=$[ne],Ze=!s9(ba,Ye);if((Ze||m[Ye])&&typeof m[Ye]!="function"){L(B);return}}var bt=function(){for(var is=function(h9){return function(){var p9=new Error("Method "+h9+" is not implemented by the current driver"),t0=f.reject(p9);return h(t0,arguments[arguments.length-1]),t0}},Wu=0,f9=ba.length;Wu<f9;Wu++){var Yu=ba[Wu];m[Yu]||(m[Yu]=is(Yu))}};bt();var vt=function(is){rs[V]&&console.info("Redefining LocalForage driver: "+V),rs[V]=m,e0[V]=is,N()};"_support"in m?m._support&&typeof m._support=="function"?m._support().then(vt,L):vt(!!m._support):vt(!0)}catch(dn){L(dn)}});return g(_,D,S),_},p.prototype.driver=function(){return this._driver||null},p.prototype.getDriver=function(m,D,S){var _=rs[m]?f.resolve(rs[m]):f.reject(new Error("Driver not found."));return g(_,D,S),_},p.prototype.getSerializer=function(m){var D=f.resolve(Gu);return g(D,m),D},p.prototype.ready=function(m){var D=this,S=D._driverSet.then(function(){return D._ready===null&&(D._ready=D._initDriver()),D._ready});return g(S,m,m),S},p.prototype.setDriver=function(m,D,S){var _=this;Jp(m)||(m=[m]);var N=this._getSupportedDrivers(m);function L(){_._config.driver=_.driver()}function V(ne){return _._extend(ne),L(),_._ready=_._initStorage(_._config),_._ready}function B(ne){return function(){var Ie=0;function Ye(){for(;Ie<ne.length;){var Ze=ne[Ie];return Ie++,_._dbInfo=null,_._ready=null,_.getDriver(Ze).then(V).catch(Ye)}L();var bt=new Error("No available storage method found.");return _._driverSet=f.reject(bt),_._driverSet}return Ye()}}var $=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=$.then(function(){var ne=N[0];return _._dbInfo=null,_._ready=null,_.getDriver(ne).then(function(Ie){_._driver=Ie._driver,L(),_._wrapLibraryMethodsWithReady(),_._initDriver=B(N)})}).catch(function(){L();var ne=new Error("No available storage method found.");return _._driverSet=f.reject(ne),_._driverSet}),g(this._driverSet,D,S),this._driverSet},p.prototype.supports=function(m){return!!e0[m]},p.prototype._extend=function(m){qu(this,m)},p.prototype._getSupportedDrivers=function(m){for(var D=[],S=0,_=m.length;S<_;S++){var N=m[S];this.supports(N)&&D.push(N)}return D},p.prototype._wrapLibraryMethodsWithReady=function(){for(var m=0,D=zu.length;m<D;m++)c9(this,zu[m])},p.prototype.createInstance=function(m){return new p(m)},p}(),d9=new u9;i.exports=d9},{3:3}]},{},[4])(4)})});var i0=null;var Ju=1,o0=Symbol("SIGNAL");function Ue(t){let e=i0;return i0=t,e}var s0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function b9(t){if(!(nd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ju)){if(!t.producerMustRecompute(t)&&!ed(t)){t.dirty=!1,t.lastCleanEpoch=Ju;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ju}}function a0(t){return t&&(t.nextProducerIndex=0),Ue(t)}function l0(t,e){if(Ue(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(nd(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)td(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ed(t){xa(t);for(let e=0;e<t.producerNode.length;e++){let r=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==r.version||(b9(r),n!==r.version))return!0}return!1}function c0(t){if(xa(t),nd(t))for(let e=0;e<t.producerNode.length;e++)td(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function td(t,e){if(D9(t),xa(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)td(t.producerNode[n],t.producerIndexOfThis[n]);let r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];xa(i),i.producerIndexOfThis[n]=e}}function nd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function xa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function D9(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function x9(){throw new Error}var S9=x9;function u0(t){S9=t}function ge(t){return typeof t=="function"}function zi(t){let r=t(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Sa=zi(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function ci(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Ct=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let o of r)o.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(ge(n))try{n()}catch(o){e=o instanceof Sa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{d0(o)}catch(s){e=e??[],s instanceof Sa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Sa(e)}}add(e){var r;if(e&&e!==this)if(this.closed)d0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&ci(r,e)}remove(e){let{_finalizers:r}=this;r&&ci(r,e),e instanceof t&&e._removeParent(this)}};Ct.EMPTY=(()=>{let t=new Ct;return t.closed=!0,t})();var rd=Ct.EMPTY;function Ea(t){return t instanceof Ct||t&&"closed"in t&&ge(t.remove)&&ge(t.add)&&ge(t.unsubscribe)}function d0(t){ge(t)?t():t.unsubscribe()}var En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qi={setTimeout(t,e,...r){let{delegate:n}=qi;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=qi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ia(t){qi.setTimeout(()=>{let{onUnhandledError:e}=En;if(e)e(t);else throw t})}function ss(){}var f0=id("C",void 0,void 0);function h0(t){return id("E",void 0,t)}function p0(t){return id("N",t,void 0)}function id(t,e,r){return{kind:t,value:e,error:r}}var ui=null;function Wi(t){if(En.useDeprecatedSynchronousErrorHandling){let e=!ui;if(e&&(ui={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:n}=ui;if(ui=null,r)throw n}}else t()}function g0(t){En.useDeprecatedSynchronousErrorHandling&&ui&&(ui.errorThrown=!0,ui.error=t)}var di=class extends Ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ea(e)&&e.add(this)):this.destination=M9}static create(e,r,n){return new fr(e,r,n)}next(e){this.isStopped?sd(p0(e),this):this._next(e)}error(e){this.isStopped?sd(h0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sd(f0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},E9=Function.prototype.bind;function od(t,e){return E9.call(t,e)}var ad=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){Ma(n)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){Ma(n)}else Ma(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){Ma(r)}}},fr=class extends di{constructor(e,r,n){super();let i;if(ge(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&En.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&od(e.next,o),error:e.error&&od(e.error,o),complete:e.complete&&od(e.complete,o)}):i=e}this.destination=new ad(i)}};function Ma(t){En.useDeprecatedSynchronousErrorHandling?g0(t):Ia(t)}function I9(t){throw t}function sd(t,e){let{onStoppedNotification:r}=En;r&&qi.setTimeout(()=>r(t,e))}var M9={closed:!0,next:ss,error:I9,complete:ss};var Yi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(t){return t}function hr(...t){return ld(t)}function ld(t){return t.length===0?zt:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}var Be=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){let o=A9(r)?r:new fr(r,n,i);return Wi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=m0(n),new n((i,o)=>{let s=new fr({next:a=>{try{r(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[Yi](){return this}pipe(...r){return ld(r)(this)}toPromise(r){return r=m0(r),new r((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function m0(t){var e;return(e=t??En.Promise)!==null&&e!==void 0?e:Promise}function T9(t){return t&&ge(t.next)&&ge(t.error)&&ge(t.complete)}function A9(t){return t&&t instanceof di||T9(t)&&Ea(t)}function cd(t){return ge(t?.lift)}function ve(t){return e=>{if(cd(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(t,e,r,n,i){return new ud(t,e,r,n,i)}var ud=class extends di{constructor(e,r,n,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ki(){return ve((t,e)=>{let r=null;t._refCount++;let n=we(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){r=null;return}let i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var Zi=class extends Be{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,cd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ct;let r=this.getSubject();e.add(this.source.subscribe(we(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ct.EMPTY)}return e}refCount(){return Ki()(this)}};var v0=zi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class t extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new Ta(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new v0}next(r){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:o}=this;return n||i?rd:(this.currentObservers=null,o.push(r),new Ct(()=>{this.currentObservers=null,ci(o,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){let r=new Be;return r.source=this,r}}return t.create=(e,r)=>new Ta(e,r),t})(),Ta=class extends Oe{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,e)}error(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:rd}};var Qe=class extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var as={now(){return(as.delegate||Date).now()},delegate:void 0};var fi=class extends Oe{constructor(e=1/0,r=1/0,n=as){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){let{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;r||(n.push(e),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=n?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){let{_bufferSize:e,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=r.now(),a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}};var Aa=class extends Ct{constructor(e,r){super()}schedule(e,r=0){return this}};var ls={setInterval(t,e,...r){let{delegate:n}=ls;return n?.setInterval?n.setInterval(t,e,...r):setInterval(t,e,...r)},clearInterval(t){let{delegate:e}=ls;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Oa=class extends Aa{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,r),this}requestAsyncId(e,r,n=0){return ls.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return r;r!=null&&ls.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,r);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let n=!1,i;try{this.work(e)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,ci(n,this),e!=null&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}};var Xi=class t{constructor(e,r=t.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}};Xi.now=as.now;var Na=class extends Xi{constructor(e,r=Xi.now){super(e,r),this.actions=[],this._active=!1}flush(e){let{actions:r}=this;if(this._active){r.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}};var Gn=new Na(Oa),dd=Gn;var tn=new Be(t=>t.complete());function Ra(t){return t&&ge(t.schedule)}function C0(t){return t[t.length-1]}function y0(t){return ge(C0(t))?t.pop():void 0}function jr(t){return Ra(C0(t))?t.pop():void 0}function w0(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function _0(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hi(t){return this instanceof hi?(this.v=t,this):new hi(t)}function b0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){n[f]&&(i[f]=function(h){return new Promise(function(g,v){o.push([f,h,g,v])>1||a(f,h)})})}function a(f,h){try{l(n[f](h))}catch(g){d(o[0][3],g)}}function l(f){f.value instanceof hi?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function D0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof _0=="function"?_0(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Pa=t=>t&&typeof t.length=="number"&&typeof t!="function";function Fa(t){return ge(t?.then)}function ka(t){return ge(t[Yi])}function La(t){return Symbol.asyncIterator&&ge(t?.[Symbol.asyncIterator])}function Va(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function O9(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ja=O9();function Ua(t){return ge(t?.[ja])}function Ba(t){return b0(this,arguments,function*(){let r=t.getReader();try{for(;;){let{value:n,done:i}=yield hi(r.read());if(i)return yield hi(void 0);yield yield hi(n)}}finally{r.releaseLock()}})}function Ha(t){return ge(t?.getReader)}function ut(t){if(t instanceof Be)return t;if(t!=null){if(ka(t))return N9(t);if(Pa(t))return R9(t);if(Fa(t))return P9(t);if(La(t))return x0(t);if(Ua(t))return F9(t);if(Ha(t))return k9(t)}throw Va(t)}function N9(t){return new Be(e=>{let r=t[Yi]();if(ge(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function R9(t){return new Be(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function P9(t){return new Be(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,Ia)})}function F9(t){return new Be(e=>{for(let r of t)if(e.next(r),e.closed)return;e.complete()})}function x0(t){return new Be(e=>{L9(t,e).catch(r=>e.error(r))})}function k9(t){return x0(Ba(t))}function L9(t,e){var r,n,i,o;return w0(this,void 0,void 0,function*(){try{for(r=D0(t);n=yield r.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}e.complete()})}function Kt(t,e,r,n=0,i=!1){let o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function $a(t,e=0){return ve((r,n)=>{r.subscribe(we(n,i=>Kt(n,t,()=>n.next(i),e),()=>Kt(n,t,()=>n.complete(),e),i=>Kt(n,t,()=>n.error(i),e)))})}function Ga(t,e=0){return ve((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function S0(t,e){return ut(t).pipe(Ga(e),$a(e))}function E0(t,e){return ut(t).pipe(Ga(e),$a(e))}function I0(t,e){return new Be(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function M0(t,e){return new Be(r=>{let n;return Kt(r,e,()=>{n=t[ja](),Kt(r,e,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){r.error(s);return}o?r.complete():r.next(i)},0,!0)}),()=>ge(n?.return)&&n.return()})}function za(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(r=>{Kt(r,e,()=>{let n=t[Symbol.asyncIterator]();Kt(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function T0(t,e){return za(Ba(t),e)}function A0(t,e){if(t!=null){if(ka(t))return S0(t,e);if(Pa(t))return I0(t,e);if(Fa(t))return E0(t,e);if(La(t))return za(t,e);if(Ua(t))return M0(t,e);if(Ha(t))return T0(t,e)}throw Va(t)}function yt(t,e){return e?A0(t,e):ut(t)}function de(...t){let e=jr(t);return yt(t,e)}function Qi(t,e){let r=ge(t)?t:()=>t,n=i=>i.error(r());return new Be(e?i=>e.schedule(n,0,i):n)}function qa(t){return!!t&&(t instanceof Be||ge(t.lift)&&ge(t.subscribe))}var pr=zi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function O0(t){return t instanceof Date&&!isNaN(t)}function ue(t,e){return ve((r,n)=>{let i=0;r.subscribe(we(n,o=>{n.next(t.call(e,o,i++))}))})}var{isArray:V9}=Array;function j9(t,e){return V9(e)?t(...e):t(e)}function N0(t){return ue(e=>j9(t,e))}var{isArray:U9}=Array,{getPrototypeOf:B9,prototype:H9,keys:$9}=Object;function R0(t){if(t.length===1){let e=t[0];if(U9(e))return{args:e,keys:null};if(G9(e)){let r=$9(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}function G9(t){return t&&typeof t=="object"&&B9(t)===H9}function P0(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function Wa(...t){let e=jr(t),r=y0(t),{args:n,keys:i}=R0(t);if(n.length===0)return yt([],e);let o=new Be(z9(n,e,i?s=>P0(i,s):zt));return r?o.pipe(N0(r)):o}function z9(t,e,r=zt){return n=>{F0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)F0(e,()=>{let c=yt(t[l],e),u=!1;c.subscribe(we(n,d=>{o[l]=d,u||(u=!0,a--),a||n.next(r(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function F0(t,e,r){t?Kt(r,t,e):e()}function k0(t,e,r,n,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=v=>c<n?g(v):l.push(v),g=v=>{o&&e.next(v),c++;let b=!1;ut(r(v,u++)).subscribe(we(e,x=>{i?.(x),o?h(x):e.next(x)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<n;){let x=l.shift();s?Kt(e,s,()=>g(x)):g(x)}f()}catch(x){e.error(x)}}))};return t.subscribe(we(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Tt(t,e,r=1/0){return ge(e)?Tt((n,i)=>ue((o,s)=>e(n,o,i,s))(ut(t(n,i))),r):(typeof e=="number"&&(r=e),ve((n,i)=>k0(n,i,t,r)))}function fd(t=1/0){return Tt(zt,t)}function L0(){return fd(1)}function Ji(...t){return L0()(yt(t,jr(t)))}function Ya(t){return new Be(e=>{ut(t()).subscribe(e)})}function Ka(t=0,e,r=dd){let n=-1;return e!=null&&(Ra(e)?r=e:n=e),new Be(i=>{let o=O0(t)?+t-r.now():t;o<0&&(o=0);let s=0;return r.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function hd(t=0,e=Gn){return t<0&&(t=0),Ka(t,t,e)}function Ht(t,e){return ve((r,n)=>{let i=0;r.subscribe(we(n,o=>t.call(e,o,i++)&&n.next(o)))})}function Ur(t){return ve((e,r)=>{let n=null,i=!1,o;n=e.subscribe(we(r,void 0,void 0,s=>{o=ut(t(s,Ur(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function V0(t,e,r,n,i){return(o,s)=>{let a=r,l=e,c=0;o.subscribe(we(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),n&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function eo(t,e){return ge(e)?Tt(t,e,1):Tt(t,1)}function zn(t,e=Gn){return ve((r,n)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,n.next(c)}};function l(){let c=s+t,u=e.now();if(u<c){i=this.schedule(void 0,c-u),n.add(i);return}a()}r.subscribe(we(n,c=>{o=c,s=e.now(),i||(i=e.schedule(l,t),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}function Br(t){return ve((e,r)=>{let n=!1;e.subscribe(we(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function Zt(t){return t<=0?()=>tn:ve((e,r)=>{let n=0;e.subscribe(we(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function pd(t){return ue(()=>t)}function $t(t,e=zt){return t=t??q9,ve((r,n)=>{let i,o=!0;r.subscribe(we(n,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,n.next(s))}))})}function q9(t,e){return t===e}function Za(t=W9){return ve((e,r)=>{let n=!1;e.subscribe(we(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function W9(){return new pr}function cs(t){return ve((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function qn(t,e){let r=arguments.length>=2;return n=>n.pipe(t?Ht((i,o)=>t(i,o,n)):zt,Zt(1),r?Br(e):Za(()=>new pr))}function to(t){return t<=0?()=>tn:ve((e,r)=>{let n=[];e.subscribe(we(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function gd(t,e){let r=arguments.length>=2;return n=>n.pipe(t?Ht((i,o)=>t(i,o,n)):zt,to(1),r?Br(e):Za(()=>new pr))}function md(t,e){return ve(V0(t,e,arguments.length>=2,!0))}function j0(t={}){let{connector:e=()=>new Oe,resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},g=()=>{let v=s;h(),v?.unsubscribe()};return ve((v,b)=>{c++,!d&&!u&&f();let x=l=l??e();b.add(()=>{c--,c===0&&!d&&!u&&(a=vd(g,i))}),x.subscribe(b),!s&&c>0&&(s=new fr({next:T=>x.next(T),error:T=>{d=!0,f(),a=vd(h,r,T),x.error(T)},complete:()=>{u=!0,f(),a=vd(h,n),x.complete()}}),ut(v).subscribe(s))})(o)}}function vd(t,e,...r){if(e===!0){t();return}if(e===!1)return;let n=new fr({next:()=>{n.unsubscribe(),t()}});return ut(e(...r)).subscribe(n)}function gr(t,e,r){let n,i=!1;return t&&typeof t=="object"?{bufferSize:n=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:r}=t:n=t??1/0,j0({connector:()=>new fi(n,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function us(t){return Ht((e,r)=>t<=r)}function no(...t){let e=jr(t);return ve((r,n)=>{(e?Ji(t,r,e):Ji(t,r)).subscribe(n)})}function Ot(t,e){return ve((r,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();r.subscribe(we(n,l=>{i?.unsubscribe();let c=0,u=o++;ut(t(l,u)).subscribe(i=we(n,d=>n.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ot(t){return ve((e,r)=>{ut(t).subscribe(we(r,()=>r.complete(),ss)),!r.closed&&e.subscribe(r)})}function Dt(t,e,r){let n=ge(t)||e||r?{next:t,error:e,complete:r}:t;return n?ve((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(we(o,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),o.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):zt}function U0(t,e){return ve((r,n)=>{let{leading:i=!0,trailing:o=!1}=e??{},s=!1,a=null,l=null,c=!1,u=()=>{l?.unsubscribe(),l=null,o&&(h(),c&&n.complete())},d=()=>{l=null,c&&n.complete()},f=g=>l=ut(t(g)).subscribe(we(n,u,d)),h=()=>{if(s){s=!1;let g=a;a=null,n.next(g),!c&&f(g)}};r.subscribe(we(n,g=>{s=!0,a=g,!(l&&!l.closed)&&(i?h():f(g))},()=>{c=!0,!(o&&s&&l&&!l.closed)&&n.complete()}))})}function Xa(t,e=Gn,r){let n=Ka(t,e);return U0(()=>n,r)}var xg="https://g.co/ng/security#xss",ae=class extends Error{constructor(e,r){super(Df(e,r)),this.code=e}};function Df(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ss(t){return{toString:t}.toString()}var Qa="__parameters__";function Y9(t){return function(...r){if(t){let n=t(...r);for(let i in n)this[i]=n[i]}}}function Sg(t,e,r){return Ss(()=>{let n=Y9(e);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Qa)?l[Qa]:Object.defineProperty(l,Qa,{value:[]})[Qa];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var mr=globalThis;function tt(t){for(let e in t)if(t[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function Wt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Wt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}function B0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var K9=tt({__forward_ref__:tt});function xf(t){return t.__forward_ref__=xf,t.toString=function(){return Wt(this())},t}function fn(t){return Eg(t)?t():t}function Eg(t){return typeof t=="function"&&t.hasOwnProperty(K9)&&t.__forward_ref__===xf}function le(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function xl(t){return H0(t,Mg)||H0(t,Tg)}function Ig(t){return xl(t)!==null}function H0(t,e){return t.hasOwnProperty(e)?t[e]:null}function Z9(t){let e=t&&(t[Mg]||t[Tg]);return e||null}function $0(t){return t&&(t.hasOwnProperty(G0)||t.hasOwnProperty(X9))?t[G0]:null}var Mg=tt({\u0275prov:tt}),G0=tt({\u0275inj:tt}),Tg=tt({ngInjectableDef:tt}),X9=tt({ngInjectorDef:tt}),Ne=class{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=le({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ag(t){return t&&!!t.\u0275providers}var Q9=tt({\u0275cmp:tt}),J9=tt({\u0275dir:tt}),e7=tt({\u0275pipe:tt}),t7=tt({\u0275mod:tt}),sl=tt({\u0275fac:tt}),ds=tt({__NG_ELEMENT_ID__:tt}),z0=tt({__NG_ENV_ID__:tt});function $r(t){return typeof t=="string"?t:t==null?"":String(t)}function n7(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():$r(t)}function r7(t,e){let r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ae(-200,t)}function Sf(t,e){throw new ae(-201,!1)}var Me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Me||{}),Nd;function Og(){return Nd}function Xt(t){let e=Nd;return Nd=t,e}function Ng(t,e,r){let n=xl(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&Me.Optional)return null;if(e!==void 0)return e;Sf(t,"Injector")}var i7={},fs=i7,Rd="__NG_DI_FLAG__",al="ngTempTokenPath",o7="ngTokenPath",s7=/\n/gm,a7="\u0275",q0="__source",so;function l7(){return so}function Hr(t){let e=so;return so=t,e}function c7(t,e=Me.Default){if(so===void 0)throw new ae(-203,!1);return so===null?Ng(t,void 0,e):so.get(t,e&Me.Optional?null:void 0,e)}function je(t,e=Me.Default){return(Og()||c7)(fn(t),e)}function te(t,e=Me.Default){return je(t,Sl(e))}function Sl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Pd(t){let e=[];for(let r=0;r<t.length;r++){let n=fn(t[r]);if(Array.isArray(n)){if(n.length===0)throw new ae(900,!1);let i,o=Me.Default;for(let s=0;s<n.length;s++){let a=n[s],l=u7(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(je(i,o))}else e.push(je(n))}return e}function Rg(t,e){return t[Rd]=e,t.prototype[Rd]=e,t}function u7(t){return t[Rd]}function d7(t,e,r,n){let i=t[al];throw e[q0]&&i.unshift(e[q0]),t.message=f7(`
`+t.message,i,r,n),t[o7]=i,t[al]=null,t}function f7(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==a7?t.slice(2):t;let i=Wt(e);if(Array.isArray(e))i=e.map(Wt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Wt(a)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(s7,`
  `)}`}var Ef=Rg(Sg("Optional"),8);var Pg=Rg(Sg("SkipSelf"),4);function vi(t,e){let r=t.hasOwnProperty(sl);return r?t[sl]:null}function h7(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],o=e[n];if(r&&(i=r(i),o=r(o)),o!==i)return!1}return!0}function p7(t){return t.flat(Number.POSITIVE_INFINITY)}function If(t,e){t.forEach(r=>Array.isArray(r)?If(r,e):e(r))}function Fg(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function ll(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function g7(t,e){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function m7(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(i===1)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=r,t[e+1]=n}}function v7(t,e,r){let n=Es(t,e);return n>=0?t[n|1]=r:(n=~n,m7(t,n,e,r)),n}function Cd(t,e){let r=Es(t,e);if(r>=0)return t[r|1]}function Es(t,e){return C7(t,e,1)}function C7(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){let o=n+(i-n>>1),s=t[o<<r];if(e===s)return o<<r;s>e?i=o:n=o+1}return~(i<<r)}var hs={},Mn=[],lo=new Ne(""),kg=new Ne("",-1),Lg=new Ne(""),cl=class{get(e,r=fs){if(r===fs){let n=new Error(`NullInjectorError: No provider for ${Wt(e)}!`);throw n.name="NullInjectorError",n}return r}},Vg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Vg||{}),Kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Kn||{}),Zn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Zn||{});function y7(t,e,r){let n=t.length;for(;;){let i=t.indexOf(e,r);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===n||t.charCodeAt(i+o)<=32)return i}r=i+1}}function Fd(t,e,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let o=r[n++],s=r[n++],a=r[n++];t.setAttribute(e,s,a,o)}else{let o=i,s=r[++n];w7(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),n++}}return n}function _7(t){return t===3||t===4||t===6}function w7(t){return t.charCodeAt(0)===64}function Mf(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){let i=e[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?W0(t,r,i,null,e[++n]):W0(t,r,i,null,null))}}return t}function W0(t,e,r,n,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===r){if(n===null){i!==null&&(t[o+1]=i);return}else if(n===t[o+1]){t[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,r),n!==null&&t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}var jg="ng-template";function b7(t,e,r,n){let i=0;if(n){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&y7(e[i+1].toLowerCase(),r,0)!==-1)return!0}else if(Tf(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===r)return!0}return!1}function Tf(t){return t.type===4&&t.value!==jg}function D7(t,e,r){let n=t.type===4&&!r?jg:t.value;return e===n}function x7(t,e,r){let n=4,i=t.attrs,o=i!==null?I7(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!In(n)&&!In(l))return!1;if(s&&In(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!D7(t,l,r)||l===""&&e.length===1){if(In(n))return!1;s=!0}}else if(n&8){if(i===null||!b7(t,i,l,r)){if(In(n))return!1;s=!0}}else{let c=e[++a],u=S7(l,i,Tf(t),r);if(u===-1){if(In(n))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),n&2&&c!==d){if(In(n))return!1;s=!0}}}}return In(n)||s}function In(t){return(t&1)===0}function S7(t,e,r,n){if(e===null)return-1;let i=0;if(n||!r){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return M7(e,t)}function Ug(t,e,r=!1){for(let n=0;n<e.length;n++)if(x7(t,e[n],r))return!0;return!1}function E7(t){let e=t.attrs;if(e!=null){let r=e.indexOf(5);if(!(r&1))return e[r+1]}return null}function I7(t){for(let e=0;e<t.length;e++){let r=t[e];if(_7(r))return e}return t.length}function M7(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){let n=t[r];if(typeof n=="number")return-1;if(n===e)return r;r++}return-1}function T7(t,e){e:for(let r=0;r<e.length;r++){let n=e[r];if(t.length===n.length){for(let i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function Y0(t,e){return t?":not("+e.trim()+")":e}function A7(t){let e=t[0],r=1,n=2,i="",o=!1;for(;r<t.length;){let s=t[r];if(typeof s=="string")if(n&2){let a=t[++r];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!In(s)&&(e+=Y0(o,i),i=""),n=s,o=o||!In(n);r++}return i!==""&&(e+=Y0(o,i)),e}function O7(t){return t.map(A7).join(",")}function N7(t){let e=[],r=[],n=1,i=2;for(;n<t.length;){let o=t[n];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++n]):i===8&&r.push(o);else{if(!In(i))break;i=o}n++}return{attrs:e,classes:r}}function oe(t){return Ss(()=>{let e=zg(t),r=J(M({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Vg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Kn.Emulated,styles:t.styles||Mn,_:null,schemas:t.schemas||null,tView:null,id:""});qg(r);let n=t.dependencies;return r.directiveDefs=Z0(n,!1),r.pipeDefs=Z0(n,!0),r.id=F7(r),r})}function R7(t){return Ci(t)||Bg(t)}function P7(t){return t!==null}function Pn(t){return Ss(()=>({type:t.type,bootstrap:t.bootstrap||Mn,declarations:t.declarations||Mn,imports:t.imports||Mn,exports:t.exports||Mn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function K0(t,e){if(t==null)return hs;let r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],o,s,a=Zn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(r[o]=a!==Zn.None?[n,a]:n,e[o]=s):r[o]=n}return r}function pn(t){return Ss(()=>{let e=zg(t);return qg(e),e})}function _r(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ci(t){return t[Q9]||null}function Bg(t){return t[J9]||null}function Hg(t){return t[e7]||null}function $g(t){let e=Ci(t)||Bg(t)||Hg(t);return e!==null?e.standalone:!1}function Gg(t,e){let r=t[t7]||null;if(!r&&e===!0)throw new Error(`Type ${Wt(t)} does not have '\u0275mod' property.`);return r}function zg(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||hs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Mn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:K0(t.inputs,e),outputs:K0(t.outputs),debugInfo:null}}function qg(t){t.features?.forEach(e=>e(t))}function Z0(t,e){if(!t)return null;let r=e?Hg:R7;return()=>(typeof t=="function"?t():t).map(n=>r(n)).filter(P7)}function F7(t){let e=0,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function El(t){return{\u0275providers:t}}function k7(...t){return{\u0275providers:Wg(!0,t),\u0275fromNgModule:!0}}function Wg(t,...e){let r=[],n=new Set,i,o=s=>{r.push(s)};return If(e,s=>{let a=s;kd(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&Yg(i,o),r}function Yg(t,e){for(let r=0;r<t.length;r++){let{ngModule:n,providers:i}=t[r];Af(i,o=>{e(o,n)})}}function kd(t,e,r,n){if(t=fn(t),!t)return!1;let i=null,o=$0(t),s=!o&&Ci(t);if(!o&&!s){let l=t.ngModule;if(o=$0(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)kd(c,e,r,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let c;try{If(o.imports,u=>{kd(u,e,r,n)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Yg(c,e)}if(!a){let c=vi(i)||(()=>new i);e({provide:i,useFactory:c,deps:Mn},i),e({provide:Lg,useValue:i,multi:!0},i),e({provide:lo,useValue:()=>je(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;Af(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Af(t,e){for(let r of t)Ag(r)&&(r=r.\u0275providers),Array.isArray(r)?Af(r,e):e(r)}var L7=tt({provide:String,useValue:tt});function Kg(t){return t!==null&&typeof t=="object"&&L7 in t}function V7(t){return!!(t&&t.useExisting)}function j7(t){return!!(t&&t.useFactory)}function Ld(t){return typeof t=="function"}var Il=new Ne(""),el={},U7={},yd;function Of(){return yd===void 0&&(yd=new cl),yd}var hn=class{},ps=class extends hn{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jd(e,s=>this.processProvider(s)),this.records.set(kg,ro(void 0,this)),i.has("environment")&&this.records.set(hn,ro(void 0,this));let o=this.records.get(Il);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Lg,Mn,Me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ue(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ue(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let r=Hr(this),n=Xt(void 0),i;try{return e()}finally{Hr(r),Xt(n)}}get(e,r=fs,n=Me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(z0))return e[z0](this);n=Sl(n);let i,o=Hr(this),s=Xt(void 0);try{if(!(n&Me.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=q7(e)&&xl(e);c&&this.injectableDefInScope(c)?l=ro(Vd(e),el):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=n&Me.Self?Of():this.parent;return r=n&Me.Optional&&r===fs?null:r,a.get(e,r)}catch(a){if(a.name==="NullInjectorError"){if((a[al]=a[al]||[]).unshift(Wt(e)),o)throw a;return d7(a,e,"R3InjectorError",this.source)}else throw a}finally{Xt(s),Hr(o)}}resolveInjectorInitializers(){let e=Ue(null),r=Hr(this),n=Xt(void 0),i;try{let o=this.get(lo,Mn,Me.Self);for(let s of o)s()}finally{Hr(r),Xt(n),Ue(e)}}toString(){let e=[],r=this.records;for(let n of r.keys())e.push(Wt(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(e){e=fn(e);let r=Ld(e)?e:fn(e&&e.provide),n=H7(e);if(!Ld(e)&&e.multi===!0){let i=this.records.get(r);i||(i=ro(void 0,el,!0),i.factory=()=>Pd(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){let n=Ue(null);try{return r.value===el&&(r.value=U7,r.value=r.factory()),typeof r.value=="object"&&r.value&&z7(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ue(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let r=fn(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){let r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}};function Vd(t){let e=xl(t),r=e!==null?e.factory:vi(t);if(r!==null)return r;if(t instanceof Ne)throw new ae(204,!1);if(t instanceof Function)return B7(t);throw new ae(204,!1)}function B7(t){if(t.length>0)throw new ae(204,!1);let r=Z9(t);return r!==null?()=>r.factory(t):()=>new t}function H7(t){if(Kg(t))return ro(void 0,t.useValue);{let e=$7(t);return ro(e,el)}}function $7(t,e,r){let n;if(Ld(t)){let i=fn(t);return vi(i)||Vd(i)}else if(Kg(t))n=()=>fn(t.useValue);else if(j7(t))n=()=>t.useFactory(...Pd(t.deps||[]));else if(V7(t))n=()=>je(fn(t.useExisting));else{let i=fn(t&&(t.useClass||t.provide));if(G7(t))n=()=>new i(...Pd(t.deps));else return vi(i)||Vd(i)}return n}function ro(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function G7(t){return!!t.deps}function z7(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function q7(t){return typeof t=="function"||typeof t=="object"&&t instanceof Ne}function jd(t,e){for(let r of t)Array.isArray(r)?jd(r,e):r&&Ag(r)?jd(r.\u0275providers,e):e(r)}function Si(t,e){t instanceof ps&&t.assertNotDestroyed();let r,n=Hr(t),i=Xt(void 0);try{return e()}finally{Hr(n),Xt(i)}}function W7(){return Og()!==void 0||l7()!=null}function Y7(t){return typeof t=="function"}var wr=0,xe=1,fe=2,Ft=3,Tn=4,on=5,gs=6,ms=7,An=8,co=9,On=10,Nt=11,vs=12,X0=13,go=14,Nn=15,Is=16,io=17,vr=18,Ml=19,Zg=20,Gr=21,_d=22,yi=23,rn=25,Xg=1;var _i=7,ul=8,uo=9,nn=10,Nf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Nf||{});function gi(t){return Array.isArray(t)&&typeof t[Xg]=="object"}function br(t){return Array.isArray(t)&&t[Xg]===!0}function Rf(t){return(t.flags&4)!==0}function Tl(t){return t.componentOffset>-1}function Al(t){return(t.flags&1)===1}function Ms(t){return!!t.template}function K7(t){return(t[fe]&512)!==0}var Ud=class{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function Qg(t,e,r,n){e!==null?e.applyValueToInputSignal(e,n):t[r]=n}function gn(){return Jg}function Jg(t){return t.type.prototype.ngOnChanges&&(t.setInput=X7),Z7}gn.ngInherit=!0;function Z7(){let t=t2(this),e=t?.current;if(e){let r=t.previous;if(r===hs)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function X7(t,e,r,n,i){let o=this.declaredInputs[n],s=t2(t)||Q7(t,{previous:hs,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Ud(c&&c.currentValue,r,l===hs),Qg(t,e,i,r)}var e2="__ngSimpleChanges__";function t2(t){return t[e2]||null}function Q7(t,e){return t[e2]=e}var Q0=null;var Wn=function(t,e,r){Q0?.(t,e,r)},n2="svg",J7="math",ev=!1;function tv(){return ev}function Xn(t){for(;Array.isArray(t);)t=t[wr];return t}function r2(t,e){return Xn(e[t])}function Fn(t,e){return Xn(e[t.index])}function i2(t,e){return t.data[e]}function o2(t,e){return t[e]}function Yr(t,e){let r=e[t];return gi(r)?r:r[wr]}function nv(t){return(t[fe]&4)===4}function Pf(t){return(t[fe]&128)===128}function rv(t){return br(t[Ft])}function fo(t,e){return e==null?null:t[e]}function s2(t){t[io]=0}function iv(t){t[fe]&1024||(t[fe]|=1024,Pf(t)&&Cs(t))}function ov(t,e){for(;t>0;)e=e[go],t--;return e}function Ff(t){return!!(t[fe]&9216||t[yi]?.dirty)}function Bd(t){t[On].changeDetectionScheduler?.notify(1),Ff(t)?Cs(t):t[fe]&64&&(tv()?(t[fe]|=1024,Cs(t)):t[On].changeDetectionScheduler?.notify())}function Cs(t){t[On].changeDetectionScheduler?.notify();let e=ys(t);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!Pf(e)));)e=ys(e)}function a2(t,e){if((t[fe]&256)===256)throw new ae(911,!1);t[Gr]===null&&(t[Gr]=[]),t[Gr].push(e)}function sv(t,e){if(t[Gr]===null)return;let r=t[Gr].indexOf(e);r!==-1&&t[Gr].splice(r,1)}function ys(t){let e=t[Ft];return br(e)?e[Ft]:e}var Ce={lFrame:v2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function av(){return Ce.lFrame.elementDepthCount}function lv(){Ce.lFrame.elementDepthCount++}function cv(){Ce.lFrame.elementDepthCount--}function l2(){return Ce.bindingsEnabled}function c2(){return Ce.skipHydrationRootTNode!==null}function uv(t){return Ce.skipHydrationRootTNode===t}function dv(){Ce.skipHydrationRootTNode=null}function qe(){return Ce.lFrame.lView}function Qt(){return Ce.lFrame.tView}function q(t){return Ce.lFrame.contextLView=t,t[An]}function W(t){return Ce.lFrame.contextLView=null,t}function mn(){let t=u2();for(;t!==null&&t.type===64;)t=t.parent;return t}function u2(){return Ce.lFrame.currentTNode}function fv(){let t=Ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ei(t,e){let r=Ce.lFrame;r.currentTNode=t,r.isParent=e}function kf(){return Ce.lFrame.isParent}function Lf(){Ce.lFrame.isParent=!1}function hv(){return Ce.lFrame.contextLView}function d2(){let t=Ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function f2(){return Ce.lFrame.bindingIndex}function pv(t){return Ce.lFrame.bindingIndex=t}function h2(){return Ce.lFrame.bindingIndex++}function Vf(t){let e=Ce.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function gv(){return Ce.lFrame.inI18n}function mv(t,e){let r=Ce.lFrame;r.bindingIndex=r.bindingRootIndex=t,Hd(e)}function vv(){return Ce.lFrame.currentDirectiveIndex}function Hd(t){Ce.lFrame.currentDirectiveIndex=t}function Cv(t){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function p2(){return Ce.lFrame.currentQueryIndex}function jf(t){Ce.lFrame.currentQueryIndex=t}function yv(t){let e=t[xe];return e.type===2?e.declTNode:e.type===1?t[on]:null}function g2(t,e,r){if(r&Me.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(r&Me.Host);)if(i=yv(o),i===null||(o=o[go],i.type&10))break;if(i===null)return!1;e=i,t=o}let n=Ce.lFrame=m2();return n.currentTNode=e,n.lView=t,!0}function Uf(t){let e=m2(),r=t[xe];Ce.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function m2(){let t=Ce.lFrame,e=t===null?null:t.child;return e===null?v2(t):e}function v2(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function C2(){let t=Ce.lFrame;return Ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var y2=C2;function Bf(){let t=C2();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _v(t){return(Ce.lFrame.contextLView=ov(t,Ce.lFrame.contextLView))[An]}function Kr(){return Ce.lFrame.selectedIndex}function wi(t){Ce.lFrame.selectedIndex=t}function wv(){let t=Ce.lFrame;return i2(t.tView,t.selectedIndex)}function Ve(){Ce.lFrame.currentNamespace=n2}function _2(){bv()}function bv(){Ce.lFrame.currentNamespace=null}function Dv(){return Ce.lFrame.currentNamespace}var w2=!0;function Ol(){return w2}function Nl(t){w2=t}function xv(t,e,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(n){let s=Jg(e);(r.preOrderHooks??=[]).push(t,s),(r.preOrderCheckHooks??=[]).push(t,s)}i&&(r.preOrderHooks??=[]).push(0-t,i),o&&((r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o))}function Rl(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){let o=t.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-r,s),a&&((t.contentHooks??=[]).push(r,a),(t.contentCheckHooks??=[]).push(r,a)),l&&(t.viewHooks??=[]).push(-r,l),c&&((t.viewHooks??=[]).push(r,c),(t.viewCheckHooks??=[]).push(r,c)),u!=null&&(t.destroyHooks??=[]).push(r,u)}}function tl(t,e,r){b2(t,e,3,r)}function nl(t,e,r,n){(t[fe]&3)===r&&b2(t,e,r,n)}function wd(t,e){let r=t[fe];(r&3)===e&&(r&=16383,r+=1,t[fe]=r)}function b2(t,e,r,n){let i=n!==void 0?t[io]&65535:0,o=n??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(t[io]+=65536),(a<o||o==-1)&&(Sv(t,r,e,l),t[io]=(t[io]&4294901760)+l+2),l++}function J0(t,e){Wn(4,t,e);let r=Ue(null);try{e.call(t)}finally{Ue(r),Wn(5,t,e)}}function Sv(t,e,r,n){let i=r[n]<0,o=r[n+1],s=i?-r[n]:r[n],a=t[s];i?t[fe]>>14<t[io]>>16&&(t[fe]&3)===e&&(t[fe]+=16384,J0(a,o)):J0(a,o)}var ao=-1,_s=class{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function Ev(t){return t instanceof _s}function Iv(t){return(t.flags&8)!==0}function Mv(t){return(t.flags&16)!==0}function D2(t){return t!==ao}function dl(t){return t&32767}function Tv(t){return t>>16}function fl(t,e){let r=Tv(t),n=e;for(;r>0;)n=n[go],r--;return n}var $d=!0;function hl(t){let e=$d;return $d=t,e}var Av=256,x2=Av-1,S2=5,Ov=0,Yn={};function Nv(t,e,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(ds)&&(n=r[ds]),n==null&&(n=r[ds]=Ov++);let i=n&x2,o=1<<i;e.data[t+(i>>S2)]|=o}function E2(t,e){let r=I2(t,e);if(r!==-1)return r;let n=e[xe];n.firstCreatePass&&(t.injectorIndex=e.length,bd(n.data,t),bd(e,null),bd(n.blueprint,null));let i=Hf(t,e),o=t.injectorIndex;if(D2(i)){let s=dl(i),a=fl(i,e),l=a[xe].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function bd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function I2(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Hf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;i!==null;){if(n=N2(i),n===null)return ao;if(r++,i=i[go],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return ao}function Rv(t,e,r){Nv(t,e,r)}function M2(t,e,r){if(r&Me.Optional||t!==void 0)return t;Sf(e,"NodeInjector")}function T2(t,e,r,n){if(r&Me.Optional&&n===void 0&&(n=null),!(r&(Me.Self|Me.Host))){let i=t[co],o=Xt(void 0);try{return i?i.get(e,n,r&Me.Optional):Ng(e,n,r&Me.Optional)}finally{Xt(o)}}return M2(n,e,r)}function A2(t,e,r,n=Me.Default,i){if(t!==null){if(e[fe]&2048&&!(n&Me.Self)){let s=Lv(t,e,r,n,Yn);if(s!==Yn)return s}let o=O2(t,e,r,n,Yn);if(o!==Yn)return o}return T2(e,r,n,i)}function O2(t,e,r,n,i){let o=Fv(r);if(typeof o=="function"){if(!g2(e,t,n))return n&Me.Host?M2(i,r,n):T2(e,r,n,i);try{let s;if(s=o(n),s==null&&!(n&Me.Optional))Sf(r);else return s}finally{y2()}}else if(typeof o=="number"){let s=null,a=I2(t,e),l=ao,c=n&Me.Host?e[Nn][on]:null;for((a===-1||n&Me.SkipSelf)&&(l=a===-1?Hf(t,e):e[a+8],l===ao||!tg(n,!1)?a=-1:(s=e[xe],a=dl(l),e=fl(l,e)));a!==-1;){let u=e[xe];if(eg(o,a,u.data)){let d=Pv(a,e,r,s,n,c);if(d!==Yn)return d}l=e[a+8],l!==ao&&tg(n,e[xe].data[a+8]===c)&&eg(o,a,e)?(s=u,a=dl(l),e=fl(l,e)):a=-1}}return i}function Pv(t,e,r,n,i,o){let s=e[xe],a=s.data[t+8],l=n==null?Tl(a)&&$d:n!=s&&(a.type&3)!==0,c=i&Me.Host&&o===a,u=rl(a,s,r,l,c);return u!==null?ho(e,s,u,a):Yn}function rl(t,e,r,n,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=n?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let g=s[h];if(h<l&&r===g||h>=l&&g.type===r)return h}if(i){let h=s[l];if(h&&Ms(h)&&h.type===r)return l}return null}function ho(t,e,r,n){let i=t[r],o=e.data;if(Ev(i)){let s=i;s.resolving&&r7(n7(o[r]));let a=hl(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Xt(s.injectImpl):null,u=g2(t,n,Me.Default);try{i=t[r]=s.factory(void 0,o,t,n),e.firstCreatePass&&r>=n.directiveStart&&xv(r,o[r],e)}finally{c!==null&&Xt(c),hl(a),s.resolving=!1,y2()}}return i}function Fv(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ds)?t[ds]:void 0;return typeof e=="number"?e>=0?e&x2:kv:e}function eg(t,e,r){let n=1<<t;return!!(r[e+(t>>S2)]&n)}function tg(t,e){return!(t&Me.Self)&&!(t&Me.Host&&e)}var mi=class{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return A2(this._tNode,this._lView,e,Sl(n),r)}};function kv(){return new mi(mn(),qe())}function Pl(t){return Ss(()=>{let e=t.prototype.constructor,r=e[sl]||Gd(e),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){let o=i[sl]||Gd(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gd(t){return Eg(t)?()=>{let e=Gd(fn(t));return e&&e()}:vi(t)}function Lv(t,e,r,n,i){let o=t,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!(s[fe]&512);){let a=O2(o,s,r,n|Me.Self,Yn);if(a!==Yn)return a;let l=o.parent;if(!l){let c=s[Zg];if(c){let u=c.get(r,Yn,n);if(u!==Yn)return u}l=N2(s),s=s[go]}o=l}return i}function N2(t){let e=t[xe],r=e.type;return r===2?e.declTNode:r===1?t[on]:null}function ng(t,e=null,r=null,n){let i=R2(t,e,r,n);return i.resolveInjectorInitializers(),i}function R2(t,e=null,r=null,n,i=new Set){let o=[r||Mn,k7(t)];return n=n||(typeof t=="object"?void 0:Wt(t)),new ps(o,e||Of(),n||null,i)}var Zr=(()=>{let e=class e{static create(n,i){if(Array.isArray(n))return ng({name:""},i,n,"");{let o=n.name??"";return ng({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=fs,e.NULL=new cl,e.\u0275prov=le({token:e,providedIn:"any",factory:()=>je(kg)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Vv="ngOriginalError";function Dd(t){return t[Vv]}var Cr=class{constructor(){this._console=console}handleError(e){let r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&Dd(e);for(;r&&Dd(r);)r=Dd(r);return r||null}},P2=new Ne("",{providedIn:"root",factory:()=>te(Cr).handleError.bind(void 0)}),F2=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jv,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),zd=class extends F2{constructor(e){super(),this._lView=e}onDestroy(e){return a2(this._lView,e),()=>sv(this._lView,e)}};function jv(){return new zd(qe())}function Uv(){return mo(mn(),qe())}function mo(t,e){return new kn(Fn(t,e))}var kn=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=Uv;let t=e;return t})();function Bv(t){return t instanceof kn?t.nativeElement:t}var qd=class extends Oe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,W7()&&(this.destroyRef=te(F2,{optional:!0})??void 0)}emit(e){let r=Ue(null);try{super.next(e)}finally{Ue(r)}}subscribe(e,r,n){let i=e,o=r||(()=>null),s=n;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=xd(o),i&&(i=xd(i)),s&&(s=xd(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ct&&e.add(a),a}};function xd(t){return e=>{setTimeout(t,void 0,e)}}var qt=qd;function Hv(){return this._results[Symbol.iterator]()}var Wd=class t{get changes(){return this._changes??=new qt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let r=t.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Hv)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,r){return this._results.reduce(e,r)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,r){this.dirty=!1;let n=p7(e);(this._changesDetected=!h7(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function k2(t){return(t.flags&128)===128}var L2=new Map,$v=0;function Gv(){return $v++}function zv(t){L2.set(t[Ml],t)}function qv(t){L2.delete(t[Ml])}var rg="__ngContext__";function zr(t,e){gi(e)?(t[rg]=e[Ml],zv(e)):t[rg]=e}function V2(t){return U2(t[vs])}function j2(t){return U2(t[Tn])}function U2(t){for(;t!==null&&!br(t);)t=t[Tn];return t}var Yd;function B2(t){Yd=t}function Wv(){if(Yd!==void 0)return Yd;if(typeof document<"u")return document;throw new ae(210,!1)}var $f=new Ne("",{providedIn:"root",factory:()=>Yv}),Yv="ng",Gf=new Ne(""),vo=new Ne("",{providedIn:"platform",factory:()=>"unknown"});var zf=new Ne("",{providedIn:"root",factory:()=>Wv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),H2={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Fl=new Ne("",{providedIn:"root",factory:()=>H2});var Kv="h",Zv="b";var Xv=()=>null;function qf(t,e,r=!1){return Xv(t,e,r)}var $2=!1,Qv=new Ne("",{providedIn:"root",factory:()=>$2});var pl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xg})`}};function kl(t){return t instanceof pl?t.changingThisBreaksApplicationSecurity:t}function G2(t,e){let r=Jv(t);if(r!=null&&r!==e){if(r==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${r} (see ${xg})`)}return r===e}function Jv(t){return t instanceof pl&&t.getTypeName()||null}var eC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function z2(t){return t=String(t),t.match(eC)?t:"unsafe:"+t}var Wf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Wf||{});function q2(t){let e=tC();return e?e.sanitize(Wf.URL,t)||"":G2(t,"URL")?kl(t):z2($r(t))}function tC(){let t=qe();return t&&t[On].sanitizer}var nC=/^>|^->|<!--|-->|--!>|<!-$/g,rC=/(<|>)/g,iC="\u200B$1\u200B";function oC(t){return t.replace(nC,e=>e.replace(rC,iC))}function Ll(t){return t.ownerDocument.defaultView}function W2(t){return t instanceof Function?t():t}var yr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yr||{}),sC;function Yf(t,e){return sC(t,e)}function oo(t,e,r,n,i){if(n!=null){let o,s=!1;br(n)?o=n:gi(n)&&(s=!0,n=n[wr]);let a=Xn(n);t===0&&r!==null?i==null?J2(e,r,a):gl(e,r,a,i||null,!0):t===1&&r!==null?gl(e,r,a,i||null,!0):t===2?bC(e,a,s):t===3&&e.destroyNode(a),o!=null&&xC(e,t,o,r,i)}}function aC(t,e){return t.createText(e)}function lC(t,e,r){t.setValue(e,r)}function cC(t,e){return t.createComment(oC(e))}function Y2(t,e,r){return t.createElement(e,r)}function uC(t,e){K2(t,e),e[wr]=null,e[on]=null}function dC(t,e,r,n,i,o){n[wr]=i,n[on]=e,jl(t,n,r,1,i,o)}function K2(t,e){e[On].changeDetectionScheduler?.notify(1),jl(t,e,e[Nt],2,null,null)}function fC(t){let e=t[vs];if(!e)return Sd(t[xe],t);for(;e;){let r=null;if(gi(e))r=e[vs];else{let n=e[nn];n&&(r=n)}if(!r){for(;e&&!e[Tn]&&e!==t;)gi(e)&&Sd(e[xe],e),e=e[Ft];e===null&&(e=t),gi(e)&&Sd(e[xe],e),r=e&&e[Tn]}e=r}}function hC(t,e,r,n){let i=nn+n,o=r.length;n>0&&(r[i-1][Tn]=e),n<o-nn?(e[Tn]=r[i],Fg(r,nn+n,e)):(r.push(e),e[Tn]=null),e[Ft]=r;let s=e[Is];s!==null&&r!==s&&pC(s,e);let a=e[vr];a!==null&&a.insertView(t),Bd(e),e[fe]|=128}function pC(t,e){let r=t[uo],i=e[Ft][Ft][Nn];e[Nn]!==i&&(t[fe]|=Nf.HasTransplantedViews),r===null?t[uo]=[e]:r.push(e)}function Z2(t,e){let r=t[uo],n=r.indexOf(e);r.splice(n,1)}function Kd(t,e){if(t.length<=nn)return;let r=nn+e,n=t[r];if(n){let i=n[Is];i!==null&&i!==t&&Z2(i,n),e>0&&(t[r-1][Tn]=n[Tn]);let o=ll(t,nn+e);uC(n[xe],n);let s=o[vr];s!==null&&s.detachView(o[xe]),n[Ft]=null,n[Tn]=null,n[fe]&=-129}return n}function X2(t,e){if(!(e[fe]&256)){let r=e[Nt];r.destroyNode&&jl(t,e,r,3,null,null),fC(e)}}function Sd(t,e){if(e[fe]&256)return;let r=Ue(null);try{e[fe]&=-129,e[fe]|=256,e[yi]&&c0(e[yi]),mC(t,e),gC(t,e),e[xe].type===1&&e[Nt].destroy();let n=e[Is];if(n!==null&&br(e[Ft])){n!==e[Ft]&&Z2(n,e);let i=e[vr];i!==null&&i.detachView(t)}qv(e)}finally{Ue(r)}}function gC(t,e){let r=t.cleanup,n=e[ms];if(r!==null)for(let o=0;o<r.length-1;o+=2)if(typeof r[o]=="string"){let s=r[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[r[o+1]];r[o].call(s)}n!==null&&(e[ms]=null);let i=e[Gr];if(i!==null){e[Gr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function mC(t,e){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=e[r[n]];if(!(i instanceof _s)){let o=r[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Wn(4,a,l);try{l.call(a)}finally{Wn(5,a,l)}}else{Wn(4,i,o);try{o.call(i)}finally{Wn(5,i,o)}}}}}function Q2(t,e,r){return vC(t,e.parent,r)}function vC(t,e,r){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return r[wr];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=t.data[n.directiveStart+i];if(o===Kn.None||o===Kn.Emulated)return null}return Fn(n,r)}}function gl(t,e,r,n,i){t.insertBefore(e,r,n,i)}function J2(t,e,r){t.appendChild(e,r)}function ig(t,e,r,n,i){n!==null?gl(t,e,r,n,i):J2(t,e,r)}function CC(t,e,r,n){t.removeChild(e,r,n)}function Kf(t,e){return t.parentNode(e)}function yC(t,e){return t.nextSibling(e)}function em(t,e,r){return wC(t,e,r)}function _C(t,e,r){return t.type&40?Fn(t,r):null}var wC=_C,og;function Vl(t,e,r,n){let i=Q2(t,n,e),o=e[Nt],s=n.parent||e[on],a=em(s,n,e);if(i!=null)if(Array.isArray(r))for(let l=0;l<r.length;l++)ig(o,i,r[l],a,!1);else ig(o,i,r,a,!1);og!==void 0&&og(o,n,e,r,i)}function il(t,e){if(e!==null){let r=e.type;if(r&3)return Fn(e,t);if(r&4)return Zd(-1,t[e.index]);if(r&8){let n=e.child;if(n!==null)return il(t,n);{let i=t[e.index];return br(i)?Zd(-1,i):Xn(i)}}else{if(r&32)return Yf(e,t)()||Xn(t[e.index]);{let n=tm(t,e);if(n!==null){if(Array.isArray(n))return n[0];let i=ys(t[Nn]);return il(i,n)}else return il(t,e.next)}}}return null}function tm(t,e){if(e!==null){let n=t[Nn][on],i=e.projection;return n.projection[i]}return null}function Zd(t,e){let r=nn+t+1;if(r<e.length){let n=e[r],i=n[xe].firstChild;if(i!==null)return il(n,i)}return e[_i]}function bC(t,e,r){let n=Kf(t,e);n&&CC(t,n,e,r)}function Zf(t,e,r,n,i,o,s){for(;r!=null;){let a=n[r.index],l=r.type;if(s&&e===0&&(a&&zr(Xn(a),n),r.flags|=2),(r.flags&32)!==32)if(l&8)Zf(t,e,r.child,n,i,o,!1),oo(e,t,i,a,o);else if(l&32){let c=Yf(r,n),u;for(;u=c();)oo(e,t,i,u,o);oo(e,t,i,a,o)}else l&16?nm(t,e,n,r,i,o):oo(e,t,i,a,o);r=s?r.projectionNext:r.next}}function jl(t,e,r,n,i,o){Zf(r,n,t.firstChild,e,i,o,!1)}function DC(t,e,r){let n=e[Nt],i=Q2(t,r,e),o=r.parent||e[on],s=em(o,r,e);nm(n,0,e,r,i,s)}function nm(t,e,r,n,i,o){let s=r[Nn],l=s[on].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];oo(e,t,i,u,o)}else{let c=l,u=s[Ft];k2(n)&&(c.flags|=128),Zf(t,e,c,u,i,o,!0)}}function xC(t,e,r,n,i){let o=r[_i],s=Xn(r);o!==s&&oo(e,t,n,o,i);for(let a=nn;a<r.length;a++){let l=r[a];jl(l[xe],l,t,e,n,o)}}function SC(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let o=n.indexOf("-")===-1?void 0:yr.DashCase;i==null?t.removeStyle(r,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yr.Important),t.setStyle(r,n,i,o))}}function EC(t,e,r){t.setAttribute(e,"style",r)}function rm(t,e,r){r===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function im(t,e,r){let{mergedAttrs:n,classes:i,styles:o}=r;n!==null&&Fd(t,e,n),i!==null&&rm(t,e,i),o!==null&&EC(t,e,o)}var Ln={};function O(t=1){om(Qt(),qe(),Kr()+t,!1)}function om(t,e,r,n){if(!n)if((e[fe]&3)===3){let o=t.preOrderCheckHooks;o!==null&&tl(e,o,r)}else{let o=t.preOrderHooks;o!==null&&nl(e,o,0,r)}wi(r)}function Q(t,e=Me.Default){let r=qe();if(r===null)return je(t,e);let n=mn();return A2(n,r,fn(t),e)}function sm(t,e,r,n,i,o){let s=Ue(null);try{let a=null;i&Zn.SignalBased&&(a=e[n][o0]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Zn.HasDecoratorInputTransform&&(o=t.inputTransforms[n].call(e,o)),t.setInput!==null?t.setInput(e,a,o,r,n):Qg(e,a,n,o)}finally{Ue(s)}}function IC(t,e){let r=t.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)wi(~i);else{let o=i,s=r[++n],a=r[++n];mv(s,o);let l=e[o];a(2,l)}}}finally{wi(-1)}}function Ul(t,e,r,n,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[wr]=i,d[fe]=n|4|128|8|64,(c!==null||t&&t[fe]&2048)&&(d[fe]|=2048),s2(d),d[Ft]=d[go]=t,d[An]=r,d[On]=s||t&&t[On],d[Nt]=a||t&&t[Nt],d[co]=l||t&&t[co]||null,d[on]=o,d[Ml]=Gv(),d[gs]=u,d[Zg]=c,d[Nn]=e.type==2?t[Nn]:d,d}function Co(t,e,r,n,i){let o=t.data[e];if(o===null)o=MC(t,e,r,n,i),gv()&&(o.flags|=32);else if(o.type&64){o.type=r,o.value=n,o.attrs=i;let s=fv();o.injectorIndex=s===null?-1:s.injectorIndex}return Ei(o,!0),o}function MC(t,e,r,n,i){let o=u2(),s=kf(),a=s?o:o&&o.parent,l=t.data[e]=PC(t,a,r,e,n,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function am(t,e,r,n){if(r===0)return-1;let i=e.length;for(let o=0;o<r;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function lm(t,e,r,n,i){let o=Kr(),s=n&2;try{wi(-1),s&&e.length>rn&&om(t,e,rn,!1),Wn(s?2:0,i),r(n,i)}finally{wi(o),Wn(s?3:1,i)}}function Xf(t,e,r){if(Rf(e)){let n=Ue(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=r[s];a.contentQueries(1,l,s)}}}finally{Ue(n)}}}function Qf(t,e,r){l2()&&(BC(t,e,r,Fn(r,e)),(r.flags&64)===64&&dm(t,e,r))}function Jf(t,e,r=Fn){let n=e.localNames;if(n!==null){let i=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?r(e,t):t[s];t[i++]=a}}}function cm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=eh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function eh(t,e,r,n,i,o,s,a,l,c,u){let d=rn+n,f=d+i,h=TC(d,f),g=typeof c=="function"?c():c;return h[xe]={type:t,blueprint:h,template:r,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function TC(t,e){let r=[];for(let n=0;n<e;n++)r.push(n<t?null:Ln);return r}function AC(t,e,r,n){let o=n.get(Qv,$2)||r===Kn.ShadowDom,s=t.selectRootElement(e,o);return OC(s),s}function OC(t){NC(t)}var NC=()=>null;function RC(t,e,r,n){let i=pm(e);i.push(r),t.firstCreatePass&&gm(t).push(n,i.length-1)}function PC(t,e,r,n,i,o){let s=e?e.injectorIndex:-1,a=0;return c2()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sg(t,e,r,n,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,l=Zn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?ag(n,r,c,a,l):ag(n,r,c,a)}return n}function ag(t,e,r,n,i){let o;t.hasOwnProperty(r)?(o=t[r]).push(e,n):o=t[r]=[e,n],i!==void 0&&o.push(i)}function FC(t,e,r){let n=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=n;u<i;u++){let d=o[u],f=r?r.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;l=sg(0,d.inputs,u,l,h),c=sg(1,d.outputs,u,c,g);let v=l!==null&&s!==null&&!Tf(e)?ZC(l,u,s):null;a.push(v)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function kC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function LC(t,e,r,n,i,o,s,a){let l=Fn(e,r),c=e.inputs,u;!a&&c!=null&&(u=c[n])?(nh(t,r,u,n,i),Tl(e)&&VC(r,e.index)):e.type&3?(n=kC(n),i=s!=null?s(i,e.value||"",n):i,o.setProperty(l,n,i)):e.type&12}function VC(t,e){let r=Yr(e,t);r[fe]&16||(r[fe]|=64)}function th(t,e,r,n){if(l2()){let i=n===null?null:{"":-1},o=$C(t,r),s,a;o===null?s=a=null:[s,a]=o,s!==null&&um(t,e,r,s,i,a),i&&GC(r,n,i)}r.mergedAttrs=Mf(r.mergedAttrs,r.attrs)}function um(t,e,r,n,i,o){for(let c=0;c<n.length;c++)Rv(E2(r,e),t,n[c].type);qC(r,t.data.length,n.length);for(let c=0;c<n.length;c++){let u=n[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=am(t,e,n.length,null);for(let c=0;c<n.length;c++){let u=n[c];r.mergedAttrs=Mf(r.mergedAttrs,u.hostAttrs),WC(t,r,e,l,u),zC(l,u,i),u.contentQueries!==null&&(r.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(r.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}FC(t,r,o)}function jC(t,e,r,n,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;UC(s)!=a&&s.push(a),s.push(r,n,o)}}function UC(t){let e=t.length;for(;e>0;){let r=t[--e];if(typeof r=="number"&&r<0)return r}return 0}function BC(t,e,r,n){let i=r.directiveStart,o=r.directiveEnd;Tl(r)&&YC(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||E2(r,e),zr(n,e);let s=r.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=ho(e,t,a,r);if(zr(c,e),s!==null&&KC(e,a-i,c,l,r,s),Ms(l)){let u=Yr(r.index,e);u[An]=ho(e,t,a,r)}}}function dm(t,e,r){let n=r.directiveStart,i=r.directiveEnd,o=r.index,s=vv();try{wi(o);for(let a=n;a<i;a++){let l=t.data[a],c=e[a];Hd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&HC(l,c)}}finally{wi(-1),Hd(s)}}function HC(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function $C(t,e){let r=t.directiveRegistry,n=null,i=null;if(r)for(let o=0;o<r.length;o++){let s=r[o];if(Ug(e,s.selectors,!1))if(n||(n=[]),Ms(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let l=a.length;Xd(t,e,l)}else n.unshift(s),Xd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function Xd(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function GC(t,e,r){if(e){let n=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=r[e[i+1]];if(o==null)throw new ae(-301,!1);n.push(e[i],o)}}}function zC(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;Ms(e)&&(r[""]=t)}}function qC(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function WC(t,e,r,n,i){t.data[n]=i;let o=i.factory||(i.factory=vi(i.type,!0)),s=new _s(o,Ms(i),Q);t.blueprint[n]=s,r[n]=s,jC(t,e,n,am(t,r,i.hostVars,Ln),i)}function YC(t,e,r){let n=Fn(e,t),i=cm(r),o=t[On].rendererFactory,s=16;r.signals?s=4096:r.onPush&&(s=64);let a=Bl(t,Ul(t,i,null,s,n,e,null,o.createRenderer(n,r),null,null,null));t[e.index]=a}function KC(t,e,r,n,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];sm(n,r,l,c,u,d)}}function ZC(t,e,r){let n=null,i=0;for(;i<r.length;){let o=r[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){n===null&&(n=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],r[i+1]);break}}i+=2}return n}function fm(t,e,r,n){return[t,!0,0,e,null,n,null,r,null,null]}function hm(t,e){let r=t.contentQueries;if(r!==null){let n=Ue(null);try{for(let i=0;i<r.length;i+=2){let o=r[i],s=r[i+1];if(s!==-1){let a=t.data[s];jf(o),a.contentQueries(2,e[s],s)}}}finally{Ue(n)}}}function Bl(t,e){return t[vs]?t[X0][Tn]=e:t[vs]=e,t[X0]=e,e}function Qd(t,e,r){jf(0);let n=Ue(null);try{e(t,r)}finally{Ue(n)}}function pm(t){return t[ms]||(t[ms]=[])}function gm(t){return t.cleanup||(t.cleanup=[])}function mm(t,e){let r=t[co],n=r?r.get(Cr,null):null;n&&n.handleError(e)}function nh(t,e,r,n,i){for(let o=0;o<r.length;){let s=r[o++],a=r[o++],l=r[o++],c=e[s],u=t.data[s];sm(u,c,n,a,l,i)}}function rh(t,e,r){let n=r2(e,t);lC(t[Nt],n,r)}function XC(t,e){let r=Yr(e,t),n=r[xe];QC(n,r);let i=r[wr];i!==null&&r[gs]===null&&(r[gs]=qf(i,r[co])),ih(n,r,r[An])}function QC(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}function ih(t,e,r){Uf(e);try{let n=t.viewQuery;n!==null&&Qd(1,n,r);let i=t.template;i!==null&&lm(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),e[vr]?.finishViewCreation(t),t.staticContentQueries&&hm(t,e),t.staticViewQueries&&Qd(2,t.viewQuery,r);let o=t.components;o!==null&&JC(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[fe]&=-5,Bf()}}function JC(t,e){for(let r=0;r<e.length;r++)XC(t,e[r])}function ey(t,e,r,n){let i=Ue(null);try{let o=e.tView,a=t[fe]&4096?4096:16,l=Ul(t,o,r,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),c=t[e.index];l[Is]=c;let u=t[vr];return u!==null&&(l[vr]=u.createEmbeddedView(o)),ih(o,l,r),l}finally{Ue(i)}}function lg(t,e){return!e||e.firstChild===null||k2(t)}function ty(t,e,r,n=!0){let i=e[xe];if(hC(i,e,t,r),n){let s=Zd(r,t),a=e[Nt],l=Kf(a,t[_i]);l!==null&&dC(i,t[on],a,e,l,s)}let o=e[gs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ml(t,e,r,n,i=!1){for(;r!==null;){let o=e[r.index];o!==null&&n.push(Xn(o)),br(o)&&ny(o,n);let s=r.type;if(s&8)ml(t,e,r.child,n);else if(s&32){let a=Yf(r,e),l;for(;l=a();)n.push(l)}else if(s&16){let a=tm(e,r);if(Array.isArray(a))n.push(...a);else{let l=ys(e[Nn]);ml(l[xe],l,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function ny(t,e){for(let r=nn;r<t.length;r++){let n=t[r],i=n[xe].firstChild;i!==null&&ml(n[xe],n,i,e)}t[_i]!==t[wr]&&e.push(t[_i])}var vm=[];function ry(t){return t[yi]??iy(t)}function iy(t){let e=vm.pop()??Object.create(sy);return e.lView=t,e}function oy(t){t.lView[yi]!==t&&(t.lView=null,vm.push(t))}var sy=J(M({},s0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Cs(t.lView)},consumerOnSignalRead(){this.lView[yi]=this}}),Cm=100;function ym(t,e=!0,r=0){let n=t[On],i=n.rendererFactory,o=!1;o||i.begin?.();try{ay(t,r)}catch(s){throw e&&mm(t,s),s}finally{o||(i.end?.(),n.inlineEffectRunner?.flush())}}function ay(t,e){Jd(t,e);let r=0;for(;Ff(t);){if(r===Cm)throw new ae(103,!1);r++,Jd(t,1)}}function ly(t,e,r,n){let i=e[fe];if((i&256)===256)return;let o=!1;!o&&e[On].inlineEffectRunner?.flush(),Uf(e);let s=null,a=null;!o&&cy(t)&&(a=ry(e),s=a0(a));try{s2(e),pv(t.bindingStartIndex),r!==null&&lm(t,e,r,2,n);let l=(i&3)===3;if(!o)if(l){let d=t.preOrderCheckHooks;d!==null&&tl(e,d,null)}else{let d=t.preOrderHooks;d!==null&&nl(e,d,0,null),wd(e,0)}if(uy(e),_m(e,0),t.contentQueries!==null&&hm(t,e),!o)if(l){let d=t.contentCheckHooks;d!==null&&tl(e,d)}else{let d=t.contentHooks;d!==null&&nl(e,d,1),wd(e,1)}IC(t,e);let c=t.components;c!==null&&bm(e,c,0);let u=t.viewQuery;if(u!==null&&Qd(2,u,n),!o)if(l){let d=t.viewCheckHooks;d!==null&&tl(e,d)}else{let d=t.viewHooks;d!==null&&nl(e,d,2),wd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[_d]){for(let d of e[_d])d();e[_d]=null}o||(e[fe]&=-73)}catch(l){throw Cs(e),l}finally{a!==null&&(l0(a,s),oy(a)),Bf()}}function cy(t){return t.type!==2}function _m(t,e){for(let r=V2(t);r!==null;r=j2(r))for(let n=nn;n<r.length;n++){let i=r[n];wm(i,e)}}function uy(t){for(let e=V2(t);e!==null;e=j2(e)){if(!(e[fe]&Nf.HasTransplantedViews))continue;let r=e[uo];for(let n=0;n<r.length;n++){let i=r[n],o=i[Ft];iv(i)}}}function dy(t,e,r){let n=Yr(e,t);wm(n,r)}function wm(t,e){Pf(t)&&Jd(t,e)}function Jd(t,e){let n=t[xe],i=t[fe],o=t[yi],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ed(o)),o&&(o.dirty=!1),t[fe]&=-9217,s)ly(n,t,n.template,t[An]);else if(i&8192){_m(t,1);let a=n.components;a!==null&&bm(t,a,1)}}function bm(t,e,r){for(let n=0;n<e.length;n++)dy(t,e[n],r)}function oh(t){for(t[On].changeDetectionScheduler?.notify();t;){t[fe]|=64;let e=ys(t);if(K7(t)&&!e)return t;t=e}return null}var bi=class{get rootNodes(){let e=this._lView,r=e[xe];return ml(r,e,r.firstChild,[])}constructor(e,r,n=!0){this._lView=e,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[An]}set context(e){this._lView[An]=e}get destroyed(){return(this._lView[fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ft];if(br(e)){let r=e[ul],n=r?r.indexOf(this):-1;n>-1&&(Kd(e,n),ll(r,n))}this._attachedToViewContainer=!1}X2(this._lView[xe],this._lView)}onDestroy(e){a2(this._lView,e)}markForCheck(){oh(this._cdRefInjectingView||this._lView)}detach(){this._lView[fe]&=-129}reattach(){Bd(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,ym(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,K2(this._lView[xe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=e,Bd(this._lView)}},qr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=py;let t=e;return t})(),fy=qr,hy=class extends fy{constructor(e,r,n){super(),this._declarationLView=e,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,n){let i=ey(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:n});return new bi(i)}};function py(){return Hl(mn(),qe())}function Hl(t,e){return t.type&4?new hy(e,t,mo(t,e)):null}var hV=new RegExp(`^(\\d+)*(${Zv}|${Kv})*(.*)`);var gy=()=>null;function cg(t,e){return gy(t,e)}var ef=class{},tf=class{},vl=class{};function my(t){let e=Error(`No component factory found for ${Wt(t)}.`);return e[vy]=t,e}var vy="ngComponent";var nf=class{resolveComponentFactory(e){throw my(e)}},yo=(()=>{let e=class e{};e.NULL=new nf;let t=e;return t})(),ws=class{},Ts=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Cy();let t=e;return t})();function Cy(){let t=qe(),e=mn(),r=Yr(e.index,t);return(gi(r)?r:t)[Nt]}var yy=(()=>{let e=class e{};e.\u0275prov=le({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ed={};var ug=new Set;function Dm(t){ug.has(t)||(ug.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function dg(...t){}function _y(){let t=typeof mr.requestAnimationFrame=="function",e=mr[t?"requestAnimationFrame":"setTimeout"],r=mr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&r){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:r}}var xt=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qt(!1),this.onMicrotaskEmpty=new qt(!1),this.onStable=new qt(!1),this.onError=new qt(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=_y().nativeRequestAnimationFrame,Dy(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ae(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,wy,dg,dg);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}},wy={};function sh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function by(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,rf(t),t.isCheckStableRunning=!0,sh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),rf(t))}function Dy(t){let e=()=>{by(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,s,a)=>{if(xy(a))return r.invokeTask(i,o,s,a);try{return fg(t),r.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),hg(t)}},onInvoke:(r,n,i,o,s,a,l)=>{try{return fg(t),r.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),hg(t)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,rf(t),sh(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function rf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hg(t){t._nesting--,sh(t)}function xy(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var xm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=le({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Cl(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=B0(i,a);else if(o==2){let l=a,c=e[++s];n=B0(n,l+": "+c+";")}}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}var yl=class extends yo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let r=Ci(e);return new bs(r,this.ngModule)}};function pg(t){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let n=t[r];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:r})}return e}function Sy(t){let e=t.toLowerCase();return e==="svg"?n2:e==="math"?J7:null}var of=class{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=Sl(n);let i=this.injector.get(e,Ed,n);return i!==Ed||r===Ed?i:this.parentInjector.get(e,r,n)}},bs=class extends vl{get inputs(){let e=this.componentDef,r=e.inputTransforms,n=pg(e.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return pg(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=O7(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){let o=Ue(null);try{i=i||this.ngModule;let s=i instanceof hn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new of(e,s):e,l=a.get(ws,null);if(l===null)throw new ae(407,!1);let c=a.get(yy,null),u=a.get(xm,null),d=a.get(ef,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=n?AC(h,n,this.componentDef.encapsulation,a):Y2(h,g,Sy(g)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let x=null;v!==null&&(x=qf(v,a,!0));let T=eh(0,null,null,1,0,null,null,null,null,null,null),I=Ul(null,T,null,b,null,null,f,h,a,null,x);Uf(I);let P,H;try{let E=this.componentDef,U,F=null;E.findHostDirectiveDefs?(U=[],F=new Map,E.findHostDirectiveDefs(E,U,F),U.push(E)):U=[E];let Y=Ey(I,v),K=Iy(Y,v,E,U,I,f,h);H=i2(T,rn),v&&Ay(h,E,v,n),r!==void 0&&Oy(H,this.ngContentSelectors,r),P=Ty(K,E,U,F,I,[Ny]),ih(T,I,null)}finally{Bf()}return new sf(this.componentType,P,mo(H,I),I,H)}finally{Ue(o)}}},sf=class extends tf{constructor(e,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new bi(i,void 0,!1),this.componentType=e}setInput(e,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;let o=this._rootLView;nh(o[xe],o,i,e,r),this.previousInputValues.set(e,r);let s=Yr(this._tNode.index,o);oh(s)}}get injector(){return new mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ey(t,e){let r=t[xe],n=rn;return t[n]=e,Co(r,n,2,"#host",null)}function Iy(t,e,r,n,i,o,s){let a=i[xe];My(n,t,e,s);let l=null;e!==null&&(l=qf(e,i[co]));let c=o.rendererFactory.createRenderer(e,r),u=16;r.signals?u=4096:r.onPush&&(u=64);let d=Ul(i,cm(r),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&Xd(a,t,n.length-1),Bl(i,d),i[t.index]=d}function My(t,e,r,n){for(let i of t)e.mergedAttrs=Mf(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Cl(e,e.mergedAttrs,!0),r!==null&&im(n,r,e))}function Ty(t,e,r,n,i,o){let s=mn(),a=i[xe],l=Fn(s,i);um(a,i,s,r,null,n);for(let u=0;u<r.length;u++){let d=s.directiveStart+u,f=ho(i,a,d,s);zr(f,i)}dm(a,i,s),l&&zr(l,i);let c=ho(i,a,s.directiveStart+s.componentOffset,s);if(t[An]=i[An]=c,o!==null)for(let u of o)u(c,e);return Xf(a,s,i),c}function Ay(t,e,r,n){if(n)Fd(t,r,["ng-version","17.3.2"]);else{let{attrs:i,classes:o}=N7(e.selectors[0]);i&&Fd(t,r,i),o&&o.length>0&&rm(t,r,o.join(" "))}}function Oy(t,e,r){let n=t.projection=[];for(let i=0;i<e.length;i++){let o=r[i];n.push(o!=null?Array.from(o):null)}}function Ny(){let t=mn();Rl(qe()[xe],t)}var vn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ry;let t=e;return t})();function Ry(){let t=mn();return Em(t,qe())}var Py=vn,Sm=class extends Py{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return mo(this._hostTNode,this._hostLView)}get injector(){return new mi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Hf(this._hostTNode,this._hostLView);if(D2(e)){let r=fl(e,this._hostLView),n=dl(e),i=r[xe].data[n+8];return new mi(i,r)}else return new mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let r=gg(this._lContainer);return r!==null&&r[e]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(e,r,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=cg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(r||{},o,s);return this.insertImpl(a,i,lg(this._hostTNode,s)),a}createComponent(e,r,n,i,o){let s=e&&!Y7(e),a;if(s)a=r;else{let g=r||{};a=g.index,n=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?e:new bs(Ci(e)),c=n||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(hn,null);v&&(o=v)}let u=Ci(l.componentType??{}),d=cg(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,lg(this._hostTNode,d)),h}insert(e,r){return this.insertImpl(e,r,!0)}insertImpl(e,r,n){let i=e._lView;if(rv(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Ft],c=new Sm(l,l[on],l[Ft]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(r),s=this._lContainer;return ty(s,i,o,n),e.attachToViewContainerRef(),Fg(Id(s),o,e),e}move(e,r){return this.insert(e,r)}indexOf(e){let r=gg(this._lContainer);return r!==null?r.indexOf(e):-1}remove(e){let r=this._adjustIndex(e,-1),n=Kd(this._lContainer,r);n&&(ll(Id(this._lContainer),r),X2(n[xe],n))}detach(e){let r=this._adjustIndex(e,-1),n=Kd(this._lContainer,r);return n&&ll(Id(this._lContainer),r)!=null?new bi(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function gg(t){return t[ul]}function Id(t){return t[ul]||(t[ul]=[])}function Em(t,e){let r,n=e[t.index];return br(n)?r=n:(r=fm(n,e,null,t),e[t.index]=r,Bl(e,r)),ky(r,e,t,n),new Sm(r,t,e)}function Fy(t,e){let r=t[Nt],n=r.createComment(""),i=Fn(e,t),o=Kf(r,i);return gl(r,o,n,yC(r,i),!1),n}var ky=jy,Ly=()=>!1;function Vy(t,e,r){return Ly(t,e,r)}function jy(t,e,r,n){if(t[_i])return;let i;r.type&8?i=Xn(n):i=Fy(e,r),t[_i]=i}var af=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},lf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let r=e.queries;if(r!==null){let n=e.contentQueries!==null?e.contentQueries[0]:r.length,i=[];for(let o=0;o<n;o++){let s=r.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let r=0;r<this.queries.length;r++)ah(e,r).matches!==null&&this.queries[r].setDirty()}},cf=class{constructor(e,r,n=null){this.flags=r,this.read=n,typeof e=="string"?this.predicate=Wy(e):this.predicate=e}},uf=class t{constructor(e=[]){this.queries=e}elementStart(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,r)}elementEnd(e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(e)}embeddedTView(e){let r=null;for(let n=0;n<this.length;n++){let i=r!==null?r.length:0,o=this.getByIndex(n).embeddedTView(e,i);o&&(o.indexInDeclarationView=n,r!==null?r.push(o):r=[o])}return r!==null?new t(r):null}template(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,r)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},df=class t{constructor(e,r=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(e,r){this.isApplyingToNode(r)&&this.matchTNode(e,r)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,r){this.elementStart(e,r)}embeddedTView(e,r){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,r),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,r){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(e,r,Uy(r,o)),this.matchTNodeWithReadOption(e,r,rl(r,e,o,!1,!1))}else n===qr?r.type&4&&this.matchTNodeWithReadOption(e,r,-1):this.matchTNodeWithReadOption(e,r,rl(r,e,n,!1,!1))}matchTNodeWithReadOption(e,r,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===kn||i===vn||i===qr&&r.type&4)this.addMatch(r.index,-2);else{let o=rl(r,e,i,!1,!1);o!==null&&this.addMatch(r.index,o)}else this.addMatch(r.index,n)}}addMatch(e,r){this.matches===null?this.matches=[e,r]:this.matches.push(e,r)}};function Uy(t,e){let r=t.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1]}return null}function By(t,e){return t.type&11?mo(t,e):t.type&4?Hl(t,e):null}function Hy(t,e,r,n){return r===-1?By(e,t):r===-2?$y(t,e,n):ho(t,t[xe],r,e)}function $y(t,e,r){if(r===kn)return mo(e,t);if(r===qr)return Hl(e,t);if(r===vn)return Em(e,t)}function Im(t,e,r,n){let i=e[vr].queries[n];if(i.matches===null){let o=t.data,s=r.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(Hy(e,u,s[l+1],r.metadata.read))}}i.matches=a}return i.matches}function ff(t,e,r,n){let i=t.queries.getByIndex(r),o=i.matches;if(o!==null){let s=Im(t,e,i,r);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=nn;d<u.length;d++){let f=u[d];f[Is]===f[Ft]&&ff(f[xe],f,c,n)}if(u[uo]!==null){let d=u[uo];for(let f=0;f<d.length;f++){let h=d[f];ff(h[xe],h,c,n)}}}}}return n}function Gy(t,e){return t[vr].queries[e].queryList}function zy(t,e,r){let n=new Wd((r&4)===4);return RC(t,e,n,n.destroy),(e[vr]??=new lf).queries.push(new af(n))-1}function qy(t,e,r){let n=Qt();return n.firstCreatePass&&(Yy(n,new cf(t,e,r),-1),(e&2)===2&&(n.staticViewQueries=!0)),zy(n,qe(),e)}function Wy(t){return t.split(",").map(e=>e.trim())}function Yy(t,e,r){t.queries===null&&(t.queries=new uf),t.queries.track(new df(e,r))}function ah(t,e){return t.queries.getByIndex(e)}function Ky(t,e){let r=t[xe],n=ah(r,e);return n.crossesNgTemplate?ff(r,t,e,[]):Im(r,t,n,e)}var Wr=class{},Ds=class{};var hf=class extends Wr{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yl(this);let i=Gg(e);this._bootstrapComponents=W2(i.bootstrap),this._r3Injector=R2(e,r,[{provide:Wr,useValue:this},{provide:yo,useValue:this.componentFactoryResolver},...n],Wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},pf=class extends Ds{constructor(e){super(),this.moduleType=e}create(e){return new hf(this.moduleType,e,[])}};var _l=class extends Wr{constructor(e){super(),this.componentFactoryResolver=new yl(this),this.instance=null;let r=new ps([...e.providers,{provide:Wr,useValue:this},{provide:yo,useValue:this.componentFactoryResolver}],e.parent||Of(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function lh(t,e,r=null){return new _l({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}var $l=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mm(t){return Xy(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Zy(t,e){if(Array.isArray(t))for(let r=0;r<t.length;r++)e(t[r]);else{let r=t[Symbol.iterator](),n;for(;!(n=r.next()).done;)e(n.value)}}function Xy(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Qy(t,e,r){return t[e]=r}function Di(t,e,r){let n=t[e];return Object.is(n,r)?!1:(t[e]=r,!0)}function Tm(t,e,r,n){let i=Di(t,e,r);return Di(t,e+1,n)||i}function Jy(t,e,r,n,i){let o=Tm(t,e,r,n);return Di(t,e+2,i)||o}function e_(t){return(t.flags&32)===32}function t_(t,e,r,n,i,o,s,a,l){let c=e.consts,u=Co(e,t,4,s||null,fo(c,a));th(e,r,u,fo(c,l)),Rl(e,u);let d=u.tView=eh(2,u,n,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Z(t,e,r,n,i,o,s,a){let l=qe(),c=Qt(),u=t+rn,d=c.firstCreatePass?t_(u,c,l,e,r,n,i,o,s):c.data[u];Ei(d,!1);let f=n_(c,l,d,t);Ol()&&Vl(c,l,f,d),zr(f,l);let h=fm(f,l,f,d);return l[u]=h,Bl(l,h),Vy(h,d,l),Al(d)&&Qf(c,l,d),s!=null&&Jf(l,d,a),Z}var n_=r_;function r_(t,e,r,n){return Nl(!0),e[Nt].createComment("")}function i_(t,e,r,n){return Di(t,h2(),r)?e+$r(r)+n:Ln}function o_(t,e,r,n,i,o){let s=f2(),a=Tm(t,s,r,i);return Vf(2),a?e+$r(r)+n+$r(i)+o:Ln}function s_(t,e,r,n,i,o,s,a){let l=f2(),c=Jy(t,l,r,i,s);return Vf(3),c?e+$r(r)+n+$r(i)+o+$r(s)+a:Ln}function Ja(t,e){return t<<17|e<<2}function xi(t){return t>>17&32767}function a_(t){return(t&2)==2}function l_(t,e){return t&131071|e<<17}function gf(t){return t|2}function po(t){return(t&131068)>>2}function Md(t,e){return t&-131069|e<<2}function c_(t){return(t&1)===1}function mf(t){return t|1}function u_(t,e,r,n,i,o){let s=o?e.classBindings:e.styleBindings,a=xi(s),l=po(s);t[n]=r;let c=!1,u;if(Array.isArray(r)){let d=r;u=d[1],(u===null||Es(d,u)>0)&&(c=!0)}else u=r;if(i)if(l!==0){let f=xi(t[a+1]);t[n+1]=Ja(f,a),f!==0&&(t[f+1]=Md(t[f+1],n)),t[a+1]=l_(t[a+1],n)}else t[n+1]=Ja(a,0),a!==0&&(t[a+1]=Md(t[a+1],n)),a=n;else t[n+1]=Ja(l,0),a===0?a=n:t[l+1]=Md(t[l+1],n),l=n;c&&(t[n+1]=gf(t[n+1])),mg(t,u,n,!0),mg(t,u,n,!1),d_(e,u,t,n,o),s=Ja(a,l),o?e.classBindings=s:e.styleBindings=s}function d_(t,e,r,n,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Es(o,e)>=0&&(r[n+1]=mf(r[n+1]))}function mg(t,e,r,n){let i=t[r+1],o=e===null,s=n?xi(i):po(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];f_(l,e)&&(a=!0,t[s+1]=n?mf(c):gf(c)),s=n?xi(c):po(c)}a&&(t[r+1]=n?gf(i):mf(i))}function f_(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Es(t,e)>=0:!1}function A(t,e,r){let n=qe(),i=h2();if(Di(n,i,e)){let o=Qt(),s=wv();LC(o,s,n,t,e,n[Nt],r,!1)}return A}function vg(t,e,r,n,i){let o=e.inputs,s=i?"class":"style";nh(t,r,o[s],s,n)}function Gl(t,e,r){return Am(t,e,r,!1),Gl}function Rt(t,e){return Am(t,e,null,!0),Rt}function Am(t,e,r,n){let i=qe(),o=Qt(),s=Vf(2);if(o.firstUpdatePass&&p_(o,t,s,n),e!==Ln&&Di(i,s,e)){let a=o.data[Kr()];y_(o,a,i,i[Nt],t,i[s+1]=__(e,r),n,s)}}function h_(t,e){return e>=t.expandoStartIndex}function p_(t,e,r,n){let i=t.data;if(i[r+1]===null){let o=i[Kr()],s=h_(t,r);w_(o,n)&&e===null&&!s&&(e=!1),e=g_(i,o,e,n),u_(i,o,e,r,s,n)}}function g_(t,e,r,n){let i=Cv(t),o=n?e.residualClasses:e.residualStyles;if(i===null)(n?e.classBindings:e.styleBindings)===0&&(r=Td(null,t,e,r,n),r=xs(r,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(r=Td(i,t,e,r,n),o===null){let l=m_(t,e,n);l!==void 0&&Array.isArray(l)&&(l=Td(null,t,e,l[1],n),l=xs(l,e.attrs,n),v_(t,e,n,l))}else o=C_(t,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),r}function m_(t,e,r){let n=r?e.classBindings:e.styleBindings;if(po(n)!==0)return t[xi(n)]}function v_(t,e,r,n){let i=r?e.classBindings:e.styleBindings;t[xi(i)]=n}function C_(t,e,r){let n,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;n=xs(n,s,r)}return xs(n,e.attrs,r)}function Td(t,e,r,n,i){let o=null,s=r.directiveEnd,a=r.directiveStylingLast;for(a===-1?a=r.directiveStart:a++;a<s&&(o=e[a],n=xs(n,o.hostAttrs,i),o!==t);)a++;return t!==null&&(r.directiveStylingLast=a),n}function xs(t,e,r){let n=r?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),v7(t,s,r?!0:e[++o]))}return t===void 0?null:t}function y_(t,e,r,n,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=c_(c)?Cg(l,e,r,i,po(c),s):void 0;if(!wl(u)){wl(o)||a_(c)&&(o=Cg(l,null,r,i,a,s));let d=r2(Kr(),r);SC(n,s,d,i,o)}}function Cg(t,e,r,n,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=r[i+1];f===Ln&&(f=d?Mn:void 0);let h=d?Cd(f,n):u===n?f:void 0;if(c&&!wl(h)&&(h=Cd(l,n)),wl(h)&&(a=h,s))return a;let g=t[i+1];i=s?xi(g):po(g)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Cd(l,n))}return a}function wl(t){return t!==void 0}function __(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Wt(kl(t)))),t}function w_(t,e){return(t.flags&(e?8:16))!==0}function b_(t,e,r,n,i,o){let s=e.consts,a=fo(s,i),l=Co(e,t,2,n,a);return th(e,r,l,fo(s,o)),l.attrs!==null&&Cl(l,l.attrs,!1),l.mergedAttrs!==null&&Cl(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function y(t,e,r,n){let i=qe(),o=Qt(),s=rn+t,a=i[Nt],l=o.firstCreatePass?b_(s,o,i,e,r,n):o.data[s],c=D_(o,i,l,a,e,t);i[s]=c;let u=Al(l);return Ei(l,!0),im(a,c,l),!e_(l)&&Ol()&&Vl(o,i,c,l),av()===0&&zr(c,i),lv(),u&&(Qf(o,i,l),Xf(o,l,i)),n!==null&&Jf(i,l),y}function w(){let t=mn();kf()?Lf():(t=t.parent,Ei(t,!1));let e=t;uv(e)&&dv(),cv();let r=Qt();return r.firstCreatePass&&(Rl(r,t),Rf(t)&&r.queries.elementEnd(t)),e.classesWithoutHost!=null&&Iv(e)&&vg(r,e,qe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Mv(e)&&vg(r,e,qe(),e.stylesWithoutHost,!1),w}function k(t,e,r,n){return y(t,e,r,n),w(),k}var D_=(t,e,r,n,i,o)=>(Nl(!0),Y2(n,i,Dv()));function x_(t,e,r,n,i){let o=e.consts,s=fo(o,n),a=Co(e,t,8,"ng-container",s);s!==null&&Cl(a,s,!0);let l=fo(o,i);return th(e,r,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function He(t,e,r){let n=qe(),i=Qt(),o=t+rn,s=i.firstCreatePass?x_(o,i,n,e,r):i.data[o];Ei(s,!0);let a=S_(i,n,s,t);return n[o]=a,Ol()&&Vl(i,n,a,s),zr(a,n),Al(s)&&(Qf(i,n,s),Xf(i,s,n)),r!=null&&Jf(n,s),He}function $e(){let t=mn(),e=Qt();return kf()?Lf():(t=t.parent,Ei(t,!1)),e.firstCreatePass&&(Rl(e,t),Rf(t)&&e.queries.elementEnd(t)),$e}function me(t,e,r){return He(t,e,r),$e(),me}var S_=(t,e,r,n)=>(Nl(!0),cC(e[Nt],""));function ye(){return qe()}var pi=void 0;function E_(t){let e=t,r=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return r===1&&n===0?1:5}var I_=["en",[["a","p"],["AM","PM"],pi],[["AM","PM"],pi,pi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pi,"{1} 'at' {0}",pi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",E_],Ad={};function ch(t){let e=M_(t),r=yg(e);if(r)return r;let n=e.split("-")[0];if(r=yg(n),r)return r;if(n==="en")return I_;throw new ae(701,!1)}function yg(t){return t in Ad||(Ad[t]=mr.ng&&mr.ng.common&&mr.ng.common.locales&&mr.ng.common.locales[t]),Ad[t]}var _o=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_o||{});function M_(t){return t.toLowerCase().replace(/_/g,"-")}var bl="en-US";var T_=bl;function A_(t){typeof t=="string"&&(T_=t.toLowerCase().replace(/_/g,"-"))}function z(t,e,r,n){let i=qe(),o=Qt(),s=mn();return N_(o,i,i[Nt],s,t,e,n),z}function O_(t,e,r,n){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===r&&i[o+1]===n){let a=e[ms],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function N_(t,e,r,n,i,o,s){let a=Al(n),c=t.firstCreatePass&&gm(t),u=e[An],d=pm(e),f=!0;if(n.type&3||s){let v=Fn(n,e),b=s?s(v):v,x=d.length,T=s?P=>s(Xn(P[n.index])):n.index,I=null;if(!s&&a&&(I=O_(t,e,i,n.index)),I!==null){let P=I.__ngLastListenerFn__||I;P.__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,f=!1}else{o=wg(n,e,u,o,!1);let P=r.listen(b,i,o);d.push(o,P),c&&c.push(i,T,x,x+1)}}else o=wg(n,e,u,o,!1);let h=n.outputs,g;if(f&&h!==null&&(g=h[i])){let v=g.length;if(v)for(let b=0;b<v;b+=2){let x=g[b],T=g[b+1],H=e[x][T].subscribe(o),E=d.length;d.push(o,H),c&&c.push(i,n.index,E,-(E+1))}}}function _g(t,e,r,n){let i=Ue(null);try{return Wn(6,e,r),r(n)!==!1}catch(o){return mm(t,o),!1}finally{Wn(7,e,r),Ue(i)}}function wg(t,e,r,n,i){return function o(s){if(s===Function)return n;let a=t.componentOffset>-1?Yr(t.index,e):e;oh(a);let l=_g(e,r,n,s),c=o.__ngNextListenerFn__;for(;c;)l=_g(e,r,c,s)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&s.preventDefault(),l}}function R(t=1){return _v(t)}function R_(t,e){let r=null,n=E7(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){r=i;continue}if(n===null?Ug(t,o,!0):T7(n,o))return i}return r}function Om(t){let e=qe()[Nn][on];if(!e.projection){let r=t?t.length:1,n=e.projection=g7(r,null),i=n.slice(),o=e.child;for(;o!==null;){let s=t?R_(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:n[s]=o,i[s]=o),o=o.next}}}function Nm(t,e=0,r){let n=qe(),i=Qt(),o=Co(i,rn+t,16,null,r||null);o.projection===null&&(o.projection=e),Lf(),(!n[gs]||c2())&&(o.flags&32)!==32&&DC(i,n,o)}function Dr(t,e,r){qy(t,e,r)}function Qn(t){let e=qe(),r=Qt(),n=p2();jf(n+1);let i=ah(r,n);if(t.dirty&&nv(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Ky(e,n);t.reset(o,Bv),t.notifyOnChanges()}return!0}return!1}function Jn(){return Gy(qe(),p2())}function P_(t,e,r,n){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}function ce(t){let e=hv();return o2(e,rn+t)}function j(t,e=""){let r=qe(),n=Qt(),i=t+rn,o=n.firstCreatePass?Co(n,i,1,e,null):n.data[i],s=F_(n,r,o,e,t);r[i]=s,Ol()&&Vl(n,r,s,o),Ei(o,!1)}var F_=(t,e,r,n,i)=>(Nl(!0),aC(e[Nt],n));function Cn(t){return Jt("",t,""),Cn}function Jt(t,e,r){let n=qe(),i=i_(n,t,e,r);return i!==Ln&&rh(n,Kr(),i),Jt}function uh(t,e,r,n,i){let o=qe(),s=o_(o,t,e,r,n,i);return s!==Ln&&rh(o,Kr(),s),uh}function dh(t,e,r,n,i,o,s){let a=qe(),l=s_(a,t,e,r,n,i,o,s);return l!==Ln&&rh(a,Kr(),l),dh}var k_=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Wg(!1,n.type),o=i.length>0?lh([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=le({token:e,providedIn:"environment",factory:()=>new e(je(hn))});let t=e;return t})();function se(t){Dm("NgStandalone"),t.getStandaloneInjector=e=>e.get(k_).getOrCreateStandaloneInjector(t)}function Rm(t,e,r,n){return Pm(qe(),d2(),t,e,r,n)}function L_(t,e){let r=t[e];return r===Ln?void 0:r}function Pm(t,e,r,n,i,o){let s=e+r;return Di(t,s,i)?Qy(t,s+1,o?n.call(o,i):n(i)):L_(t,s+1)}function Re(t,e){let r=Qt(),n,i=t+rn;r.firstCreatePass?(n=V_(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];let o=n.factory||(n.factory=vi(n.type,!0)),s,a=Xt(Q);try{let l=hl(!1),c=o();return hl(l),P_(r,qe(),i,c),c}finally{Xt(a)}}function V_(t,e){if(e)for(let r=e.length-1;r>=0;r--){let n=e[r];if(t===n.name)return n}}function Pe(t,e,r){let n=t+rn,i=qe(),o=o2(i,n);return j_(i,n)?Pm(i,d2(),e,o.transform,r,o):o.transform(r)}function j_(t,e){return t[xe].data[e].pure}function pe(t,e){return Hl(t,e)}var zl=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Fm=new Ne("");function Ii(t){return!!t&&typeof t.then=="function"}function fh(t){return!!t&&typeof t.subscribe=="function"}var ql=new Ne(""),km=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=te(ql,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(Ii(s))n.push(s);else if(fh(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),n.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hh=new Ne("");function U_(){u0(()=>{throw new ae(600,!1)})}function B_(t){return t.isBoundToModule}function H_(t,e,r){try{let n=r();return Ii(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}var Mi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=te(P2),this.afterRenderEffectManager=te(xm),this.externalTestViews=new Set,this.beforeRender=new Oe,this.afterTick=new Oe,this.componentTypes=[],this.components=[],this.isStable=te($l).hasPendingTasks.pipe(ue(n=>!n)),this._injector=te(hn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let o=n instanceof vl;if(!this._injector.get(km).done){let h=!o&&$g(n),g=!1;throw new ae(405,g)}let a;o?a=n:a=this._injector.get(yo).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=B_(a)?void 0:this._injector.get(Wr),c=i||a.selector,u=a.create(Zr.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(Fm,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Od(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new ae(101,!1);let i=Ue(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Ue(i)}}detectChangesInAttachedViews(n){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===Cm)throw new ae(103,!1);if(n){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)$_(a,s,l)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>vf(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>vf(s))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Od(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(hh,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Od(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ae(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Od(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function $_(t,e,r){!e&&!vf(t)||G_(t,r,e)}function vf(t){return Ff(t)}function G_(t,e,r){let n;r?(n=0,t[fe]|=1024):t[fe]&64?n=0:n=1,ym(t,e,n)}var Cf=class{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}},ph=(()=>{let e=class e{compileModuleSync(n){return new pf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),o=Gg(n),s=W2(o.declarations).reduce((a,l)=>{let c=Ci(l);return c&&a.push(new bs(c)),a},[]);return new Cf(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var z_=(()=>{let e=class e{constructor(){this.zone=te(xt),this.applicationRef=te(Mi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q_(t){return[{provide:xt,useFactory:t},{provide:lo,multi:!0,useFactory:()=>{let e=te(z_,{optional:!0});return()=>e.initialize()}},{provide:lo,multi:!0,useFactory:()=>{let e=te(Z_);return()=>{e.initialize()}}},{provide:P2,useFactory:W_}]}function W_(){let t=te(xt),e=te(Cr);return r=>t.runOutsideAngular(()=>e.handleError(r))}function Y_(t){let e=q_(()=>new xt(K_(t)));return El([[],e])}function K_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Z_=(()=>{let e=class e{constructor(){this.subscription=new Ct,this.initialized=!1,this.zone=te(xt),this.pendingTasks=te($l)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X_(){return typeof $localize<"u"&&$localize.locale||bl}var Wl=new Ne("",{providedIn:"root",factory:()=>te(Wl,Me.Optional|Me.SkipSelf)||X_()});var Lm=new Ne("");var ol=null;function Q_(t=[],e){return Zr.create({name:e,providers:[{provide:Il,useValue:"platform"},{provide:Lm,useValue:new Set([()=>ol=null])},...t]})}function J_(t=[]){if(ol)return ol;let e=Q_(t);return ol=e,U_(),ew(e),e}function ew(t){t.get(Gf,null)?.forEach(r=>r())}var Ti=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=tw;let t=e;return t})();function tw(t){return nw(mn(),qe(),(t&16)===16)}function nw(t,e,r){if(Tl(t)&&!r){let n=Yr(t.index,e);return new bi(n,n)}else if(t.type&47){let n=e[Nn];return new bi(n,e)}return null}var yf=class{constructor(){}supports(e){return Mm(e)}create(e){return new _f(e)}},rw=(t,e)=>e,_f=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rw}forEachItem(e){let r;for(r=this._itHead;r!==null;r=r._next)e(r)}forEachOperation(e){let r=this._itHead,n=this._removalsHead,i=0,o=null;for(;r||n;){let s=!n||r&&r.currentIndex<bg(n,i,o)?r:n,a=bg(s,i,o),l=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(r=r._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,g=h+f;u<=g&&g<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)e(r)}forEachMovedItem(e){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)e(r)}forEachIdentityChange(e){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)e(r)}diff(e){if(e==null&&(e=[]),!Mm(e))throw new ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r=this._itHead,n=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,o,s,a),n=!0):(n&&(r=this._verifyReinsertion(r,o,s,a)),Object.is(r.item,o)||this._addIdentityChange(r,o)),r=r._next}else i=0,Zy(e,a=>{s=this._trackByFn(i,a),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,a,s,i),n=!0):(n&&(r=this._verifyReinsertion(r,a,s,i)),Object.is(r.item,a)||this._addIdentityChange(r,a)),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,r,n,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,i),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._moveAfter(e,o,i)):e=this._addAfter(new wf(r,n),o,i)),e}_verifyReinsertion(e,r,n,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let r=e._next;this._addToRemovals(this._unlink(e)),e=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,r,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,r,n),this._addToMoves(e,n),e}_moveAfter(e,r,n){return this._unlink(e),this._insertAfter(e,r,n),this._addToMoves(e,n),e}_addAfter(e,r,n){return this._insertAfter(e,r,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,r,n){let i=r===null?this._itHead:r._next;return e._next=i,e._prev=r,i===null?this._itTail=e:i._prev=e,r===null?this._itHead=e:r._next=e,this._linkedRecords===null&&(this._linkedRecords=new Dl),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let r=e._prev,n=e._next;return r===null?this._itHead=n:r._next=n,n===null?this._itTail=r:n._prev=r,e}_addToMoves(e,r){return e.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Dl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,r){return e.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},wf=class{constructor(e,r){this.item=e,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},bf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,r){let n;for(n=this._head;n!==null;n=n._nextDup)if((r===null||r<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let r=e._prevDup,n=e._nextDup;return r===null?this._head=n:r._nextDup=n,n===null?this._tail=r:n._prevDup=r,this._head===null}},Dl=class{constructor(){this.map=new Map}put(e){let r=e.trackById,n=this.map.get(r);n||(n=new bf,this.map.set(r,n)),n.add(e)}get(e,r){let n=e,i=this.map.get(n);return i?i.get(e,r):null}remove(e){let r=e.trackById;return this.map.get(r).remove(e)&&this.map.delete(r),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bg(t,e,r){let n=t.previousIndex;if(n===null)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+e+i}function Dg(){return new gh([new yf])}var gh=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,i){if(i!=null){let o=i.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Dg()),deps:[[e,new Pg,new Ef]]}}find(n){let i=this.factories.find(o=>o.supports(n));if(i!=null)return i;throw new ae(901,!1)}};e.\u0275prov=le({token:e,providedIn:"root",factory:Dg});let t=e;return t})();function Vm(t){try{let{rootComponent:e,appProviders:r,platformProviders:n}=t,i=J_(n),o=[Y_(),...r||[]],a=new _l({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(xt);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(Cr,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(Lm);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),H_(c,l,()=>{let h=a.get(km);return h.runInitializers(),h.donePromise.then(()=>{let g=a.get(Wl,bl);A_(g||bl);let v=a.get(Mi);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}function mh(t){let e=Ue(null);try{return t()}finally{Ue(e)}}var qm=null;function bo(){return qm}function Wm(t){qm??=t}var Yl=class{};var yn=new Ne(""),Ym=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:()=>te(sw),providedIn:"platform"});let t=e;return t})();var sw=(()=>{let e=class e extends Ym{constructor(){super(),this._doc=te(yn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bo().getBaseHref(this._doc)}onPopState(n){let i=bo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=bo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Km(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function jm(t){let e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function Ai(t){return t&&t[0]!=="?"?"?"+t:t}var Xl=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:()=>te(Zm),providedIn:"root"});let t=e;return t})(),aw=new Ne(""),Zm=(()=>{let e=class e extends Xl{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??te(yn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Km(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Ai(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+Ai(s));this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+Ai(s));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(je(Ym),je(aw,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Os=(()=>{let e=class e{constructor(n){this._subject=new qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=uw(jm(Um(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Ai(i))}normalize(n){return e.stripTrailingSlash(cw(this._basePath,Um(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ai(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ai(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}};e.normalizeQueryParams=Ai,e.joinWithSlash=Km,e.stripTrailingSlash=jm,e.\u0275fac=function(i){return new(i||e)(je(Xl))},e.\u0275prov=le({token:e,factory:()=>lw(),providedIn:"root"});let t=e;return t})();function lw(){return new Os(je(Xl))}function cw(t,e){if(!t||!e.startsWith(t))return e;let r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function Um(t){return t.replace(/\/index.html$/,"")}function uw(t){if(new RegExp("^(https?:)?//").test(t)){let[,r]=t.split(/\/\/[^\/]+/);return r}return t}var Xm=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Xm||{});var er={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function wo(t,e){let r=ch(t),n=r[_o.NumberSymbols][e];if(typeof n>"u"){if(e===er.CurrencyDecimal)return r[_o.NumberSymbols][er.Decimal];if(e===er.CurrencyGroup)return r[_o.NumberSymbols][er.Group]}return n}function dw(t,e){return ch(t)[_o.NumberFormats][e]}var fw=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Bm=22,Kl=".",As="0",hw=";",pw=",",vh="#";var gw="%";function mw(t,e,r,n,i,o,s=!1){let a="",l=!1;if(!isFinite(t))a=wo(r,er.Infinity);else{let c=_w(t);s&&(c=yw(c));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(o){let T=o.match(fw);if(T===null)throw new Error(`${o} is not a valid digit info`);let I=T[1],P=T[3],H=T[5];I!=null&&(u=Ch(I)),P!=null&&(d=Ch(P)),H!=null?f=Ch(H):P!=null&&d>f&&(f=d)}ww(c,d,f);let h=c.digits,g=c.integerLen,v=c.exponent,b=[];for(l=h.every(T=>!T);g<u;g++)h.unshift(0);for(;g<0;g++)h.unshift(0);g>0?b=h.splice(g,h.length):(b=h,h=[0]);let x=[];for(h.length>=e.lgSize&&x.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)x.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&x.unshift(h.join("")),a=x.join(wo(r,n)),b.length&&(a+=wo(r,i)+b.join("")),v&&(a+=wo(r,er.Exponential)+"+"+v)}return t<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function vw(t,e,r){let n=dw(e,Xm.Percent),i=Cw(n,wo(e,er.MinusSign));return mw(t,i,e,er.Group,er.Decimal,r,!0).replace(new RegExp(gw,"g"),wo(e,er.PercentSign))}function Cw(t,e="-"){let r={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(hw),i=n[0],o=n[1],s=i.indexOf(Kl)!==-1?i.split(Kl):[i.substring(0,i.lastIndexOf(As)+1),i.substring(i.lastIndexOf(As)+1)],a=s[0],l=s[1]||"";r.posPre=a.substring(0,a.indexOf(vh));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===As?r.minFrac=r.maxFrac=u+1:d===vh?r.maxFrac=u+1:r.posSuf+=d}let c=a.split(pw);if(r.gSize=c[1]?c[1].length:0,r.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-r.posPre.length-r.posSuf.length,d=o.indexOf(vh);r.negPre=o.substring(0,d).replace(/'/g,""),r.negSuf=o.slice(d+u).replace(/'/g,"")}else r.negPre=e+r.posPre,r.negSuf=r.posSuf;return r}function yw(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function _w(t){let e=Math.abs(t)+"",r=0,n,i,o,s,a;for((i=e.indexOf(Kl))>-1&&(e=e.replace(Kl,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===As;o++);if(o===(a=e.length))n=[0],i=1;else{for(a--;e.charAt(a)===As;)a--;for(i-=o,n=[],s=0;o<=a;o++,s++)n[s]=Number(e.charAt(o))}return i>Bm&&(n=n.splice(0,Bm-1),r=i-1,i=1),{digits:n,exponent:r,integerLen:i}}function ww(t,e,r){if(e>r)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${r}).`);let n=t.digits,i=n.length-t.integerLen,o=Math.min(Math.max(e,i),r),s=o+t.integerLen,a=n[s];if(s>0){n.splice(Math.max(t.integerLen,s));for(let d=s;d<n.length;d++)n[d]=0}else{i=Math.max(0,i),t.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let d=1;d<s;d++)n[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[s-1]++;for(;i<Math.max(0,o);i++)n.push(0);let l=o!==0,c=e+t.integerLen,u=n.reduceRight(function(d,f,h,g){return f=f+d,g[h]=f<10?f:f-10,l&&(g[h]===0&&h>=c?g.pop():l=!1),f>=10?1:0},0);u&&(n.unshift(u),t.integerLen++)}function Ch(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Qm(t,e){e=encodeURIComponent(e);for(let r of t.split(";")){let n=r.indexOf("="),[i,o]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var yh=/\s+/,Hm=[],Jm=(()=>{let e=class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=Hm,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(yh):Hm}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(yh):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(yh).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(Q(kn),Q(Ts))},e.\u0275dir=pn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Zn.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var _h=class{constructor(e,r,n,i){this.$implicit=e,this.ngForOf=r,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Do=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new _h(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let l=i.get(s);i.move(l,a),$m(l,o)}});for(let o=0,s=i.length;o<s;o++){let l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);$m(s,o)})}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q(vn),Q(qr),Q(gh))},e.\u0275dir=pn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function $m(t,e){t.context.$implicit=e.item}var Je=(()=>{let e=class e{constructor(n,i){this._viewContainer=n,this._context=new wh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Gm("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Gm("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q(vn),Q(qr))},e.\u0275dir=pn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),wh=class{constructor(){this.$implicit=null,this.ngIf=null}};function Gm(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Wt(e)}'.`)}var bw=!0,bh=class{constructor(e,r){this._viewContainerRef=e,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Eh=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let i=bw?n===this._ngSwitch:n==this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let i of this._defaultViews)i.enforceState(n)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=pn({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),e3=(()=>{let e=class e{constructor(n,i,o){this.ngSwitch=o,o._addCase(),this._view=new bh(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(i){return new(i||e)(Q(vn),Q(qr),Q(Eh,9))},e.\u0275dir=pn({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})();var St=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(n,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};e.\u0275fac=function(i){return new(i||e)(Q(vn))},e.\u0275dir=pn({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[gn]});let t=e;return t})();function t3(t,e){return new ae(2100,!1)}var Dh=class{createSubscription(e,r){return mh(()=>e.subscribe({next:r,error:n=>{throw n}}))}dispose(e){mh(()=>e.unsubscribe())}},xh=class{createSubscription(e,r){return e.then(r,n=>{throw n})}dispose(e){}},Dw=new xh,xw=new Dh,Et=(()=>{let e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(Ii(n))return Dw;if(fh(n))return xw;throw t3(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(Q(Ti,16))},e.\u0275pipe=_r({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Ql=(()=>{let e=class e{constructor(n){this._locale=n}transform(n,i,o){if(!Sw(n))return null;o||=this._locale;try{let s=Ew(n);return vw(s,o,i)}catch(s){throw t3(e,s.message)}}};e.\u0275fac=function(i){return new(i||e)(Q(Wl,16))},e.\u0275pipe=_r({name:"percent",type:e,pure:!0,standalone:!0});let t=e;return t})();function Sw(t){return!(t==null||t===""||t!==t)}function Ew(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var ie=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Rn({});let t=e;return t})(),n3="browser",Iw="server";function Ih(t){return t===Iw}var Zl=class{};var Ah=class extends Yl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Oh=class t extends Ah{static makeCurrent(){Wm(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=Mw();return r==null?null:Tw(r)}resetBaseElement(){Ns=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qm(document.cookie,e)}},Ns=null;function Mw(){return Ns=Ns||document.querySelector("base"),Ns?Ns.getAttribute("href"):null}function Tw(t){return new URL(t,document.baseURI).pathname}var Aw=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),Nh=new Ne(""),s3=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new ae(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(je(Nh),je(xt))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),Jl=class{constructor(e){this._doc=e}},Mh="ng-app-id",a3=(()=>{let e=class e{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ih(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Mh}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute(Mh),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Mh,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(je(yn),je($f),je(zf,8),je(vo))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),Th={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ph=/%COMP%/g,l3="%COMP%",Ow=`_nghost-${l3}`,Nw=`_ngcontent-${l3}`,Rw=!0,Pw=new Ne("",{providedIn:"root",factory:()=>Rw});function Fw(t){return Nw.replace(Ph,t)}function kw(t){return Ow.replace(Ph,t)}function c3(t,e){return e.map(r=>r.replace(Ph,t))}var r3=(()=>{let e=class e{constructor(n,i,o,s,a,l,c,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ih(l),this.defaultRenderer=new Rs(n,a,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Kn.ShadowDom&&(i=J(M({},i),{encapsulation:Kn.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof ec?o.applyToHost(n):o instanceof Ps&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Kn.Emulated:s=new ec(c,u,i,this.appId,d,a,l,f);break;case Kn.ShadowDom:return new Rh(c,u,n,i,a,l,this.nonce,f);default:s=new Ps(c,u,i,d,a,l,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(je(s3),je(a3),je($f),je(Pw),je(yn),je(vo),je(xt),je(zf))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),Rs=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Th[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(i3(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(i3(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new ae(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let o=Th[i];o?e.setAttributeNS(o,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=Th[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(yr.DashCase|yr.Important)?e.style.setProperty(r,n,i&yr.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&yr.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=bo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function i3(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Rh=class extends Rs{constructor(e,r,n,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=c3(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ps=class extends Rs{constructor(e,r,n,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=l?c3(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ec=class extends Ps{constructor(e,r,n,i,o,s,a,l){let c=i+"-"+n.id;super(e,r,n,o,s,a,l,c),this.contentAttr=Fw(c),this.hostAttr=kw(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},Lw=(()=>{let e=class e extends Jl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(je(yn))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),o3=["alt","control","meta","shift"],Vw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jw={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Uw=(()=>{let e=class e extends Jl{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bo().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),o3.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(n,i){let o=Vw[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),o3.forEach(a=>{if(a!==o){let l=jw[a];l(n)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(je(yn))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})();function u3(t,e){return Vm(M({rootComponent:t},Bw(e)))}function Bw(t){return{appProviders:[...qw,...t?.providers??[]],platformProviders:zw}}function Hw(){Oh.makeCurrent()}function $w(){return new Cr}function Gw(){return B2(document),document}var zw=[{provide:vo,useValue:n3},{provide:Gf,useValue:Hw,multi:!0},{provide:yn,useFactory:Gw,deps:[]}];var qw=[{provide:Il,useValue:"root"},{provide:Cr,useFactory:$w,deps:[]},{provide:Nh,useClass:Lw,multi:!0,deps:[yn,xt,vo]},{provide:Nh,useClass:Uw,multi:!0,deps:[yn]},r3,a3,s3,{provide:ws,useExisting:r3},{provide:Zl,useClass:Aw,deps:[]},[]];var d3=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(je(yn))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var be="primary",Ks=Symbol("RouteTitle"),jh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Mo(t){return new jh(t)}function Kw(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function Zw(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!tr(t[r],e[r]))return!1;return!0}function tr(t,e){let r=t?Uh(t):void 0,n=e?Uh(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!v3(t[i],e[i]))return!1;return!0}function Uh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function v3(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,o)=>n[o]===i)}else return t===e}function C3(t){return t.length>0?t[t.length-1]:null}function Jr(t){return qa(t)?t:Ii(t)?yt(Promise.resolve(t)):de(t)}var Xw={exact:_3,subset:w3},y3={exact:Qw,subset:Jw,ignored:()=>!0};function f3(t,e,r){return Xw[r.paths](t.root,e.root,r.matrixParams)&&y3[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function Qw(t,e){return tr(t,e)}function _3(t,e,r){if(!Ni(t.segments,e.segments)||!rc(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!_3(t.children[n],e.children[n],r))return!1;return!0}function Jw(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>v3(t[r],e[r]))}function w3(t,e,r){return b3(t,e,e.segments,r)}function b3(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!Ni(i,r)||e.hasChildren()||!rc(i,r,n))}else if(t.segments.length===r.length){if(!Ni(t.segments,r)||!rc(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!w3(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!Ni(t.segments,i)||!rc(t.segments,i,n)||!t.children[be]?!1:b3(t.children[be],e,o,n)}}function rc(t,e,r){return e.every((n,i)=>y3[r](t[i].parameters,n.parameters))}var Xr=class{constructor(e=new Ke([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Mo(this.queryParams),this._queryParamMap}toString(){return nb.serialize(this)}},Ke=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ic(this)}},Oi=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=Mo(this.parameters),this._parameterMap}toString(){return x3(this)}};function eb(t,e){return Ni(t,e)&&t.every((r,n)=>tr(r.parameters,e[n].parameters))}function Ni(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function tb(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===be&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==be&&(r=r.concat(e(i,n)))}),r}var f1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:()=>new sc,providedIn:"root"});let t=e;return t})(),sc=class{parse(e){let r=new Hh(e);return new Xr(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${Fs(e.root,!0)}`,n=ob(e.queryParams),i=typeof e.fragment=="string"?`#${rb(e.fragment)}`:"";return`${r}${n}${i}`}},nb=new sc;function ic(t){return t.segments.map(e=>x3(e)).join("/")}function Fs(t,e){if(!t.hasChildren())return ic(t);if(e){let r=t.children[be]?Fs(t.children[be],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==be&&n.push(`${i}:${Fs(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=tb(t,(n,i)=>i===be?[Fs(t.children[be],!1)]:[`${i}:${Fs(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[be]!=null?`${ic(t)}/${r[0]}`:`${ic(t)}/(${r.join("//")})`}}function D3(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tc(t){return D3(t).replace(/%3B/gi,";")}function rb(t){return encodeURI(t)}function Bh(t){return D3(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oc(t){return decodeURIComponent(t)}function h3(t){return oc(t.replace(/\+/g,"%20"))}function x3(t){return`${Bh(t.path)}${ib(t.parameters)}`}function ib(t){return Object.entries(t).map(([e,r])=>`;${Bh(e)}=${Bh(r)}`).join("")}function ob(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${tc(r)}=${tc(i)}`).join("&"):`${tc(r)}=${tc(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var sb=/^[^\/()?;#]+/;function Fh(t){let e=t.match(sb);return e?e[0]:""}var ab=/^[^\/()?;=#]+/;function lb(t){let e=t.match(ab);return e?e[0]:""}var cb=/^[^=?&#]+/;function ub(t){let e=t.match(cb);return e?e[0]:""}var db=/^[^&#]+/;function fb(t){let e=t.match(db);return e?e[0]:""}var Hh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[be]=new Ke(e,r)),n}parseSegment(){let e=Fh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(e),new Oi(oc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=lb(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=Fh(this.remaining);i&&(n=i,this.capture(n))}e[oc(r)]=oc(n)}parseQueryParam(e){let r=ub(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let s=fb(this.remaining);s&&(n=s,this.capture(n))}let i=h3(r),o=h3(n);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Fh(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new ae(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=be);let s=this.parseChildren();r[o]=Object.keys(s).length===1?s[be]:new Ke([],s),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ae(4011,!1)}};function S3(t){return t.segments.length>0?new Ke([],{[be]:t}):t}function E3(t){let e={};for(let[n,i]of Object.entries(t.children)){let o=E3(i);if(n===be&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let r=new Ke(t.segments,e);return hb(r)}function hb(t){if(t.numberOfChildren===1&&t.children[be]){let e=t.children[be];return new Ke(t.segments.concat(e.segments),e.children)}return t}function To(t){return t instanceof Xr}function pb(t,e,r=null,n=null){let i=I3(t);return M3(i,e,r,n)}function I3(t){let e;function r(o){let s={};for(let l of o.children){let c=r(l);s[l.outlet]=c}let a=new Ke(o.url,s);return o===t&&(e=a),a}let n=r(t.root),i=S3(n);return e??i}function M3(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return kh(i,i,i,r,n);let o=gb(e);if(o.toRoot())return kh(i,i,new Ke([],{}),r,n);let s=mb(o,i,t),a=s.processChildren?Vs(s.segmentGroup,s.index,o.commands):A3(s.segmentGroup,s.index,o.commands);return kh(i,s.segmentGroup,a,r,n)}function ac(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Bs(t){return typeof t=="object"&&t!=null&&t.outlets}function kh(t,e,r,n,i){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=r:s=T3(t,e,r);let a=S3(E3(s));return new Xr(a,o,i)}function T3(t,e,r){let n={};return Object.entries(t.children).forEach(([i,o])=>{o===e?n[i]=r:n[i]=T3(o,e,r)}),new Ke(t.segments,n)}var lc=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&ac(n[0]))throw new ae(4003,!1);let i=n.find(Bs);if(i&&i!==C3(n))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gb(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new lc(!0,0,t);let e=0,r=!1,n=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?r=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new lc(r,e,n)}var Eo=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function mb(t,e,r){if(t.isAbsolute)return new Eo(e,!0,0);if(!r)return new Eo(e,!1,NaN);if(r.parent===null)return new Eo(r,!0,0);let n=ac(t.commands[0])?0:1,i=r.segments.length-1+n;return vb(r,i,t.numberOfDoubleDots)}function vb(t,e,r){let n=t,i=e,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new ae(4005,!1);i=n.segments.length}return new Eo(n,!1,i-o)}function Cb(t){return Bs(t[0])?t[0].outlets:{[be]:t}}function A3(t,e,r){if(t??=new Ke([],{}),t.segments.length===0&&t.hasChildren())return Vs(t,e,r);let n=yb(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Ke(t.segments.slice(0,n.pathIndex),{});return o.children[be]=new Ke(t.segments.slice(n.pathIndex),t.children),Vs(o,0,i)}else return n.match&&i.length===0?new Ke(t.segments,{}):n.match&&!t.hasChildren()?$h(t,e,r):n.match?Vs(t,0,i):$h(t,e,r)}function Vs(t,e,r){if(r.length===0)return new Ke(t.segments,{});{let n=Cb(r),i={};if(Object.keys(n).some(o=>o!==be)&&t.children[be]&&t.numberOfChildren===1&&t.children[be].segments.length===0){let o=Vs(t.children[be],e,r);return new Ke(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=A3(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new Ke(t.segments,i)}}function yb(t,e,r){let n=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return o;let s=t.segments[i],a=r[n];if(Bs(a))break;let l=`${a}`,c=n<r.length-1?r[n+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!g3(l,c,s))return o;n+=2}else{if(!g3(l,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function $h(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let o=r[i];if(Bs(o)){let l=_b(o.outlets);return new Ke(n,l)}if(i===0&&ac(r[0])){let l=t.segments[e];n.push(new Oi(l.path,p3(r[0]))),i++;continue}let s=Bs(o)?o.outlets[be]:`${o}`,a=i<r.length-1?r[i+1]:null;s&&a&&ac(a)?(n.push(new Oi(s,p3(a))),i+=2):(n.push(new Oi(s,{})),i++)}return new Ke(n,{})}function _b(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=$h(new Ke([],{}),0,n))}),e}function p3(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function g3(t,e,r){return t==r.path&&tr(e,r.parameters)}var js="imperative",Lt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Lt||{}),_n=class{constructor(e,r){this.id=e,this.url=r}},Hs=class extends _n{constructor(e,r,n="imperative",i=null){super(e,r),this.type=Lt.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ri=class extends _n{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=Lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},an=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(an||{}),Gh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Gh||{}),Qr=class extends _n{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pi=class extends _n{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Lt.NavigationSkipped}},$s=class extends _n{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=Lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cc=class extends _n{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zh=class extends _n{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qh=class extends _n{constructor(e,r,n,i,o){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=Lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wh=class extends _n{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yh=class extends _n{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kh=class{constructor(e){this.route=e,this.type=Lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zh=class{constructor(e){this.route=e,this.type=Lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xh=class{constructor(e){this.snapshot=e,this.type=Lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qh=class{constructor(e){this.snapshot=e,this.type=Lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jh=class{constructor(e){this.snapshot=e,this.type=Lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},e1=class{constructor(e){this.snapshot=e,this.type=Lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Gs=class{},zs=class{constructor(e){this.url=e}};var t1=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gc,this.attachRef=null}},gc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new t1,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=n1(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=n1(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=r1(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return r1(e,this._root).map(r=>r.value)}};function n1(t,e){if(t===e.value)return e;for(let r of e.children){let n=n1(t,r);if(n)return n}return null}function r1(t,e){if(t===e.value)return[e];for(let r of e.children){let n=r1(t,r);if(n.length)return n.unshift(e),n}return[]}var sn=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function So(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var dc=class extends uc{constructor(e,r){super(e),this.snapshot=r,p1(this,e)}toString(){return this.snapshot.toString()}};function O3(t){let e=wb(t),r=new Qe([new Oi("",{})]),n=new Qe({}),i=new Qe({}),o=new Qe({}),s=new Qe(""),a=new Ao(r,n,o,s,i,be,t,e.root);return a.snapshot=e.root,new dc(new sn(a,[]),e)}function wb(t){let e={},r={},n={},i="",o=new qs([],e,n,i,r,be,t,null,{});return new fc("",new sn(o,[]))}var Ao=class{constructor(e,r,n,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ue(c=>c[Ks]))??de(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ue(e=>Mo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ue(e=>Mo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function h1(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:M(M({},e.params),t.params),data:M(M({},e.data),t.data),resolve:M(M(M(M({},t.data),e.data),i?.data),t._resolvedData)}:n={params:M({},t.params),data:M({},t.data),resolve:M(M({},t.data),t._resolvedData??{})},i&&R3(i)&&(n.resolve[Ks]=i.title),n}var qs=class{get title(){return this.data?.[Ks]}constructor(e,r,n,i,o,s,a,l,c){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},fc=class extends uc{constructor(e,r){super(r),this.url=e,p1(this,r)}toString(){return N3(this._root)}};function p1(t,e){e.value._routerState=t,e.children.forEach(r=>p1(t,r))}function N3(t){let e=t.children.length>0?` { ${t.children.map(N3).join(", ")} } `:"";return`${t.value}${e}`}function Lh(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,tr(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),tr(e.params,r.params)||t.paramsSubject.next(r.params),Zw(e.url,r.url)||t.urlSubject.next(r.url),tr(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function i1(t,e){let r=tr(t.params,e.params)&&eb(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||i1(t.parent,e.parent))}function R3(t){return typeof t.title=="string"||t.title===null}var g1=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=be,this.activateEvents=new qt,this.deactivateEvents=new qt,this.attachEvents=new qt,this.detachEvents=new qt,this.parentContexts=te(gc),this.location=te(vn),this.changeDetector=te(Ti),this.environmentInjector=te(hn),this.inputBinder=te(m1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new o1(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=pn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gn]});let t=e;return t})(),o1=class{constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n,this.__ngOutletInjector=!0}get(e,r){return e===Ao?this.route:e===gc?this.childContexts:this.parent.get(e,r)}},m1=new Ne("");function bb(t,e,r){let n=Ws(t,e._root,r?r._root:void 0);return new dc(n,e)}function Ws(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=Db(t,e,r);return new sn(n,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ws(t,a)),s}}let n=xb(e.value),i=e.children.map(o=>Ws(t,o));return new sn(n,i)}}function Db(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return Ws(t,n,i);return Ws(t,n)})}function xb(t){return new Ao(new Qe(t.url),new Qe(t.params),new Qe(t.queryParams),new Qe(t.fragment),new Qe(t.data),t.outlet,t.component,t)}var P3="ngNavigationCancelingError";function F3(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=To(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=k3(!1,an.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function k3(t,e){let r=new Error(`NavigationCancelingError: ${t||""}`);return r[P3]=!0,r.cancellationCode=e,r}function Sb(t){return L3(t)&&To(t.url)}function L3(t){return!!t&&t[P3]}var Eb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=oe({type:e,selectors:[["ng-component"]],standalone:!0,features:[se],decls:1,vars:0,template:function(i,o){i&1&&k(0,"router-outlet")},dependencies:[g1],encapsulation:2});let t=e;return t})();function Ib(t,e){return t.providers&&!t._injector&&(t._injector=lh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function v1(t){let e=t.children&&t.children.map(v1),r=e?J(M({},t),{children:e}):M({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==be&&(r.component=Eb),r}function nr(t){return t.outlet||be}function Mb(t,e){let r=t.filter(n=>nr(n)===e);return r.push(...t.filter(n=>nr(n)!==e)),r}function Zs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var Tb=(t,e,r,n)=>ue(i=>(new s1(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),s1=class{constructor(e,r,n,i,o){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Lh(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=So(r);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(e,r,s.children)}else this.deactivateChildRoutes(e,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=So(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=So(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=So(r);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new e1(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qh(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(Lh(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,s.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lh(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Zs(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},hc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Io=class{constructor(e,r){this.component=e,this.route=r}};function Ab(t,e,r){let n=t._root,i=e?e._root:null;return ks(n,i,r,[n.value])}function Ob(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function No(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!Ig(t)?t:e.get(t):n}function ks(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=So(e);return t.children.forEach(s=>{Nb(s,o[s.value.outlet],r,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Us(a,r.getContext(s),i)),i}function Nb(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Rb(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new hc(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ks(t,e,a?a.children:null,n,i):ks(t,e,r,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Io(a.outlet.component,s))}else s&&Us(e,a,i),i.canActivateChecks.push(new hc(n)),o.component?ks(t,null,a?a.children:null,n,i):ks(t,null,r,n,i);return i}function Rb(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!Ni(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ni(t.url,e.url)||!tr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!i1(t,e)||!tr(t.queryParams,e.queryParams);case"paramsChange":default:return!i1(t,e)}}function Us(t,e,r){let n=So(t),i=t.value;Object.entries(n).forEach(([o,s])=>{i.component?e?Us(s,e.children.getContext(o),r):Us(s,null,r):Us(s,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new Io(e.outlet.component,i)):r.canDeactivateChecks.push(new Io(null,i)):r.canDeactivateChecks.push(new Io(null,i))}function Xs(t){return typeof t=="function"}function Pb(t){return typeof t=="boolean"}function Fb(t){return t&&Xs(t.canLoad)}function kb(t){return t&&Xs(t.canActivate)}function Lb(t){return t&&Xs(t.canActivateChild)}function Vb(t){return t&&Xs(t.canDeactivate)}function jb(t){return t&&Xs(t.canMatch)}function V3(t){return t instanceof pr||t?.name==="EmptyError"}var nc=Symbol("INITIAL_VALUE");function Oo(){return Ot(t=>Wa(t.map(e=>e.pipe(Zt(1),no(nc)))).pipe(ue(e=>{for(let r of e)if(r!==!0){if(r===nc)return nc;if(r===!1||r instanceof Xr)return r}return!0}),Ht(e=>e!==nc),Zt(1)))}function Ub(t,e){return Tt(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return s.length===0&&o.length===0?de(J(M({},r),{guardsResult:!0})):Bb(s,n,i,t).pipe(Tt(a=>a&&Pb(a)?Hb(n,o,t,e):de(a)),ue(a=>J(M({},r),{guardsResult:a})))})}function Bb(t,e,r,n){return yt(t).pipe(Tt(i=>Wb(i.component,i.route,r,e,n)),qn(i=>i!==!0,!0))}function Hb(t,e,r,n){return yt(e).pipe(eo(i=>Ji(Gb(i.route.parent,n),$b(i.route,n),qb(t,i.path,r),zb(t,i.route,r))),qn(i=>i!==!0,!0))}function $b(t,e){return t!==null&&e&&e(new Jh(t)),de(!0)}function Gb(t,e){return t!==null&&e&&e(new Xh(t)),de(!0)}function zb(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return de(!0);let i=n.map(o=>Ya(()=>{let s=Zs(e)??r,a=No(o,s),l=kb(a)?a.canActivate(e,t):Si(s,()=>a(e,t));return Jr(l).pipe(qn())}));return de(i).pipe(Oo())}function qb(t,e,r){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Ob(s)).filter(s=>s!==null).map(s=>Ya(()=>{let a=s.guards.map(l=>{let c=Zs(s.node)??r,u=No(l,c),d=Lb(u)?u.canActivateChild(n,t):Si(c,()=>u(n,t));return Jr(d).pipe(qn())});return de(a).pipe(Oo())}));return de(o).pipe(Oo())}function Wb(t,e,r,n,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return de(!0);let s=o.map(a=>{let l=Zs(e)??i,c=No(a,l),u=Vb(c)?c.canDeactivate(t,e,r,n):Si(l,()=>c(t,e,r,n));return Jr(u).pipe(qn())});return de(s).pipe(Oo())}function Yb(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return de(!0);let o=i.map(s=>{let a=No(s,t),l=Fb(a)?a.canLoad(e,r):Si(t,()=>a(e,r));return Jr(l)});return de(o).pipe(Oo(),j3(n))}function j3(t){return hr(Dt(e=>{if(To(e))throw F3(t,e)}),ue(e=>e===!0))}function Kb(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return de(!0);let o=i.map(s=>{let a=No(s,t),l=jb(a)?a.canMatch(e,r):Si(t,()=>a(e,r));return Jr(l)});return de(o).pipe(Oo(),j3(n))}var Ys=class{constructor(e){this.segmentGroup=e||null}},pc=class extends Error{constructor(e){super(),this.urlTree=e}};function xo(t){return Qi(new Ys(t))}function Zb(t){return Qi(new ae(4e3,!1))}function Xb(t){return Qi(k3(!1,an.GuardRejected))}var a1=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return de(n);if(i.numberOfChildren>1||!i.children[be])return Zb(e.redirectTo);i=i.children[be]}}applyRedirectCommands(e,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r.startsWith("/"))throw new pc(i);return i}applyRedirectCreateUrlTree(e,r,n,i){let o=this.createSegmentGroup(e,r.root,n,i);return new Xr(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[i]=r[a]}else n[i]=o}),n}createSegmentGroup(e,r,n,i){let o=this.createSegments(e,r.segments,n,i),s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,i)}),new Ke(o,s)}createSegments(e,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new ae(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},l1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qb(t,e,r,n,i){let o=C1(t,e,r);return o.matched?(n=Ib(e,n),Kb(n,e,r,i).pipe(ue(s=>s===!0?o:M({},l1)))):de(o)}function C1(t,e,r){if(e.path==="**")return Jb(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?M({},l1):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Kw)(r,t,e);if(!i)return M({},l1);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Jb(t){return{matched:!0,parameters:t.length>0?C3(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function m3(t,e,r,n){return r.length>0&&nD(t,r,n)?{segmentGroup:new Ke(e,tD(n,new Ke(r,t.children))),slicedSegments:[]}:r.length===0&&rD(t,r,n)?{segmentGroup:new Ke(t.segments,eD(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new Ke(t.segments,t.children),slicedSegments:r}}function eD(t,e,r,n){let i={};for(let o of r)if(mc(t,e,o)&&!n[nr(o)]){let s=new Ke([],{});i[nr(o)]=s}return M(M({},n),i)}function tD(t,e){let r={};r[be]=e;for(let n of t)if(n.path===""&&nr(n)!==be){let i=new Ke([],{});r[nr(n)]=i}return r}function nD(t,e,r){return r.some(n=>mc(t,e,n)&&nr(n)!==be)}function rD(t,e,r){return r.some(n=>mc(t,e,n))}function mc(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function iD(t,e,r,n){return nr(t)!==n&&(n===be||!mc(e,r,t))?!1:C1(e,t,r).matched}function oD(t,e,r){return e.length===0&&!t.children[r]}var c1=class{};function sD(t,e,r,n,i,o,s="emptyOnly"){return new u1(t,e,r,n,i,s,o).recognize()}var aD=31,u1=class{constructor(e,r,n,i,o,s,a){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new a1(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ae(4002,`'${e.segmentGroup}'`)}recognize(){let e=m3(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ue(r=>{let n=new qs([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},be,this.rootComponentType,null,{}),i=new sn(n,r),o=new fc("",i),s=pb(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,be).pipe(Ur(n=>{if(n instanceof pc)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Ys?this.noMatchError(n):n}))}inheritParamsAndData(e,r){let n=e.value,i=h1(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0).pipe(ue(o=>o instanceof sn?[o]:[]))}processChildren(e,r,n){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return yt(i).pipe(eo(o=>{let s=n.children[o],a=Mb(r,o);return this.processSegmentGroup(e,a,s,o)}),md((o,s)=>(o.push(...s),o)),Br(null),gd(),Tt(o=>{if(o===null)return xo(n);let s=U3(o);return lD(s),de(s)}))}processSegment(e,r,n,i,o,s){return yt(r).pipe(eo(a=>this.processSegmentAgainstRoute(a._injector??e,r,a,n,i,o,s).pipe(Ur(l=>{if(l instanceof Ys)return de(null);throw l}))),qn(a=>!!a),Ur(a=>{if(V3(a))return oD(n,i,o)?de(new c1):xo(n);throw a}))}processSegmentAgainstRoute(e,r,n,i,o,s,a){return iD(n,i,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,o,s):xo(i):xo(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=C1(r,i,o);if(!a)return xo(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aD&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(Tt(f=>this.processSegment(e,n,r,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,r,n,i,o){let s=Qb(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),s.pipe(Ot(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(Ot(({routes:l})=>{let c=n._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new qs(u,f,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,uD(n),nr(n),n.component??n._loadedComponent??null,n,dD(n)),{segmentGroup:g,slicedSegments:v}=m3(r,u,d,l);if(v.length===0&&g.hasChildren())return this.processChildren(c,l,g).pipe(ue(x=>x===null?null:new sn(h,x)));if(l.length===0&&v.length===0)return de(new sn(h,[]));let b=nr(n)===o;return this.processSegment(c,l,g,v,b?be:o,!0).pipe(ue(x=>new sn(h,x instanceof sn?[x]:[])))}))):xo(r)))}getChildConfig(e,r,n){return r.children?de({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?de({routes:r._loadedRoutes,injector:r._loadedInjector}):Yb(e,r,n,this.urlSerializer).pipe(Tt(i=>i?this.configLoader.loadChildren(e,r).pipe(Dt(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):Xb(r))):de({routes:[],injector:e})}};function lD(t){t.sort((e,r)=>e.value.outlet===be?-1:r.value.outlet===be?1:e.value.outlet.localeCompare(r.value.outlet))}function cD(t){let e=t.value.routeConfig;return e&&e.path===""}function U3(t){let e=[],r=new Set;for(let n of t){if(!cD(n)){e.push(n);continue}let i=e.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=U3(n.children);e.push(new sn(n.value,i))}return e.filter(n=>!r.has(n))}function uD(t){return t.data||{}}function dD(t){return t.resolve||{}}function fD(t,e,r,n,i,o){return Tt(s=>sD(t,e,r,n,s.extractedUrl,i,o).pipe(ue(({state:a,tree:l})=>J(M({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function hD(t,e){return Tt(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return de(r);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of B3(l))s.add(c);let a=0;return yt(s).pipe(eo(l=>o.has(l)?pD(l,n,t,e):(l.data=h1(l,l.parent,t).resolve,de(void 0))),Dt(()=>a++),to(1),Tt(l=>a===s.size?de(r):tn))})}function B3(t){let e=t.children.map(r=>B3(r)).flat();return[t,...e]}function pD(t,e,r,n){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!R3(i)&&(o[Ks]=i.title),gD(o,t,e,n).pipe(ue(s=>(t._resolvedData=s,t.data=h1(t,t.parent,r).resolve,null)))}function gD(t,e,r,n){let i=Uh(t);if(i.length===0)return de({});let o={};return yt(i).pipe(Tt(s=>mD(t[s],e,r,n).pipe(qn(),Dt(a=>{o[s]=a}))),to(1),pd(o),Ur(s=>V3(s)?tn:Qi(s)))}function mD(t,e,r,n){let i=Zs(e)??n,o=No(t,i),s=o.resolve?o.resolve(e,r):Si(i,()=>o(e,r));return Jr(s)}function Vh(t){return Ot(e=>{let r=t(e);return r?yt(r).pipe(ue(()=>e)):de(e)})}var H3=(()=>{let e=class e{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===be);return i}getResolvedTitleForRoute(n){return n.data[Ks]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:()=>te(vD),providedIn:"root"});let t=e;return t})(),vD=(()=>{let e=class e extends H3{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(je(d3))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),y1=new Ne("",{providedIn:"root",factory:()=>({})}),_1=new Ne(""),CD=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=te(ph)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return de(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Jr(n.loadComponent()).pipe(ue($3),Dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),cs(()=>{this.componentLoaders.delete(n)})),o=new Zi(i,()=>new Oe).pipe(Ki());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return de({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=yD(i,this.compiler,n,this.onLoadEndListener).pipe(cs(()=>{this.childrenLoaders.delete(i)})),a=new Zi(s,()=>new Oe).pipe(Ki());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yD(t,e,r,n){return Jr(t.loadChildren()).pipe(ue($3),Tt(i=>i instanceof Ds||Array.isArray(i)?de(i):yt(e.compileModuleAsync(i))),ue(i=>{n&&n(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(r).injector,s=o.get(_1,[],{optional:!0,self:!0}).flat()),{routes:s.map(v1),injector:o}}))}function _D(t){return t&&typeof t=="object"&&"default"in t}function $3(t){return _D(t)?t.default:t}var w1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:()=>te(wD),providedIn:"root"});let t=e;return t})(),wD=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bD=new Ne("");var DD=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Oe,this.transitionAbortSubject=new Oe,this.configLoader=te(CD),this.environmentInjector=te(hn),this.urlSerializer=te(f1),this.rootContexts=te(gc),this.location=te(Os),this.inputBindingEnabled=te(m1,{optional:!0})!==null,this.titleStrategy=te(H3),this.options=te(y1,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=te(w1),this.createViewTransition=te(bD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>de(void 0),this.rootComponentType=null;let n=o=>this.events.next(new Kh(o)),i=o=>this.events.next(new Zh(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(J(M(M({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new Qe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:js,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ht(s=>s.id!==0),ue(s=>J(M({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ot(s=>{let a=!1,l=!1;return de(s).pipe(Ot(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",an.SupersededByNewNavigation),tn;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?J(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Pi(c.id,this.urlSerializer.serialize(c.rawUrl),f,Gh.IgnoredSameUrlNavigation)),c.resolve(null),tn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return de(c).pipe(Ot(f=>{let h=this.transitions?.getValue();return this.events.next(new Hs(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?tn:Promise.resolve(f)}),fD(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Dt(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=J(M({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new cc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:g,restoredState:v,extras:b}=c,x=new Hs(f,this.urlSerializer.serialize(h),g,v);this.events.next(x);let T=O3(this.rootComponentType).snapshot;return this.currentTransition=s=J(M({},c),{targetSnapshot:T,urlAfterRedirects:h,extras:J(M({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,de(s)}else{let f="";return this.events.next(new Pi(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Gh.IgnoredByUrlHandlingStrategy)),c.resolve(null),tn}}),Dt(c=>{let u=new zh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ue(c=>(this.currentTransition=s=J(M({},c),{guards:Ab(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),Ub(this.environmentInjector,c=>this.events.next(c)),Dt(c=>{if(s.guardsResult=c.guardsResult,To(c.guardsResult))throw F3(this.urlSerializer,c.guardsResult);let u=new qh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ht(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",an.GuardRejected),!1)),Vh(c=>{if(c.guards.canActivateChecks.length)return de(c).pipe(Dt(u=>{let d=new Wh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ot(u=>{let d=!1;return de(u).pipe(hD(this.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",an.NoDataFromResolver)}}))}),Dt(u=>{let d=new Yh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Vh(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Dt(h=>{d.component=h}),ue(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Wa(u(c.targetSnapshot.root)).pipe(Br(null),Zt(1))}),Vh(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?yt(d).pipe(ue(()=>s)):de(s)}),ue(c=>{let u=bb(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=J(M({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Dt(()=>{this.events.next(new Gs)}),Tb(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Zt(1),Dt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ri(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),ot(this.transitionAbortSubject.pipe(Dt(c=>{throw c}))),cs(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",an.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ur(c=>{if(l=!0,L3(c))this.events.next(new Qr(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),Sb(c)?this.events.next(new zs(c.url)):s.resolve(!1);else{this.events.next(new $s(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return tn}))}))}cancelNavigationTransition(n,i,o){let s=new Qr(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xD(t){return t!==js}var SD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:()=>te(ED),providedIn:"root"});let t=e;return t})(),d1=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},ED=(()=>{let e=class e extends d1{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Pl(e)))(o||e)}})(),e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G3=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:()=>te(ID),providedIn:"root"});let t=e;return t})(),ID=(()=>{let e=class e extends G3{constructor(){super(...arguments),this.location=te(Os),this.urlSerializer=te(f1),this.options=te(y1,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=te(w1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=O3(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Hs)this.stateMemento=this.createStateMemento();else if(n instanceof Pi)this.rawUrlTree=i.initialUrl;else if(n instanceof cc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else n instanceof Gs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof Qr&&(n.code===an.GuardRejected||n.code===an.NoDataFromResolver)?this.restoreHistory(i):n instanceof $s?this.restoreHistory(i,!0):n instanceof Ri&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=M(M({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=M(M({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Pl(e)))(o||e)}})(),e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ls=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ls||{});function MD(t,e){t.events.pipe(Ht(r=>r instanceof Ri||r instanceof Qr||r instanceof $s||r instanceof Pi),ue(r=>r instanceof Ri||r instanceof Pi?Ls.COMPLETE:(r instanceof Qr?r.code===an.Redirect||r.code===an.SupersededByNewNavigation:!1)?Ls.REDIRECTING:Ls.FAILED),Ht(r=>r!==Ls.REDIRECTING),Zt(1)).subscribe(()=>{e()})}function TD(t){throw t}var AD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},z3=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=te(zl),this.stateManager=te(G3),this.options=te(y1,{optional:!0})||{},this.pendingTasks=te($l),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=te(DD),this.urlSerializer=te(f1),this.location=te(Os),this.urlHandlingStrategy=te(w1),this._events=new Oe,this.errorHandler=this.options.errorHandler||TD,this.navigated=!1,this.routeReuseStrategy=te(SD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=te(_1,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!te(m1,{optional:!0}),this.eventsSubscription=new Ct,this.isNgZoneEnabled=te(xt)instanceof xt&&xt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Qr&&i.code!==an.Redirect&&i.code!==an.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ri)this.navigated=!0;else if(i instanceof zs){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||xD(o.source)};this.scheduleNavigation(a,js,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}RD(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),js,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=M({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(v1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=M(M({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=I3(h)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return M3(f,n,d,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=To(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,js,null,i)}navigate(n,i={skipLocationChange:!1}){return ND(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=M({},AD):i===!1?o=M({},OD):o=i,To(n))return f3(this.currentUrlTree,n,o);let s=this.parseUrl(n);return f3(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(n,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return MD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ND(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ae(4008,!1)}function RD(t){return!(t instanceof Gs)&&!(t instanceof zs)}var PD=new Ne("");function q3(t,...e){return El([{provide:_1,multi:!0,useValue:t},[],{provide:Ao,useFactory:FD,deps:[z3]},{provide:hh,multi:!0,useFactory:kD},e.map(r=>r.\u0275providers)])}function FD(t){return t.routerState.root}function kD(){let t=te(Zr);return e=>{let r=t.get(Mi);if(e!==r.components[0])return;let n=t.get(z3),i=t.get(LD);t.get(VD)===1&&n.initialNavigation(),t.get(jD,null,Me.Optional)?.setUpPreloading(),t.get(PD,null,Me.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LD=new Ne("",{factory:()=>new Oe}),VD=new Ne("",{providedIn:"root",factory:()=>1});var jD=new Ne("");function UD(...t){let e={config:{},state:{}};for(let{config:r,props:n}of t)Object.assign(e.config,r),Object.assign(e.state,n);return e}var Y3=new Qe(!1),BD=Y3.asObservable().pipe(Ht(t=>!t),Zt(1));var Ro={},b1=class{registerPreStoreUpdate(e){Ro.preStoreUpdate=e}registerPreStateInit(e){Ro.preStateInit=e}},Fj=new b1,Qs=new Map,x1=new Oe,K3=x1.asObservable();function HD(t){Qs.set(t.name,t),x1.next({type:"add",store:t})}function $D(t){Qs.delete(t.name),x1.next({type:"remove",store:t})}function Z3(t){return Qs.get(t)}function X3(){return Qs}function S1(){let t={};return Qs.forEach((e,r)=>{t[r]=e.getValue()}),t}var vc=[];function GD(t){vc.push(t)}function W3(t){vc.length&&vc.forEach(e=>t.next(e)),vc=[]}var D1=class extends Qe{constructor(e){super(e.state),this.storeDef=e,this.initialState=void 0,this.state=void 0,this.batchInProgress=!1,this.events=new Oe,this.context={config:this.getConfig(),setEvent:r=>{GD(r)}},this.events$=this.events.asObservable(),this.state=this.getInitialState(e.state),this.initialState=this.getValue(),HD(this)}get name(){return this.storeDef.name}getInitialState(e){return Ro.preStateInit?Ro.preStateInit(e,this.name):e}getConfig(){return this.storeDef.config}query(e){return e(this.getValue())}update(...e){let r=this.getValue(),n=e.reduce((i,o)=>(i=o(i,this.context),i),r);Ro.preStoreUpdate&&(n=Ro.preStoreUpdate(r,n,this.name)),n!==r&&(this.state=n,Y3.getValue()?this.batchInProgress||(this.batchInProgress=!0,BD.subscribe(()=>{super.next(this.state),W3(this.events),this.batchInProgress=!1})):(super.next(this.state),W3(this.events)))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(e){let r=!0,n={};return new Be(i=>{for(let[o,s]of Object.entries(e))i.add(s.subscribe(a=>{n[o]=a,r=!0}));return this.subscribe({next(){r&&(i.next(M({},n)),r=!1)},error(o){i.error(o)},complete(){i.complete()}})})}destroy(){$D(this),this.reset()}next(e){this.update(()=>e)}error(){}complete(){}};function E1(t,...e){let{state:r,config:n}=UD(...e),{name:i}=t;return new D1({name:i,state:r,config:n})}function Fi(t){return Array.isArray(t)?t:[t]}function Po(t){return typeof t=="function"}function Q3(t){return t===void 0}function ei(t){return t.charAt(0).toUpperCase()+t.slice(1)}function zD(t){return typeof t=="object"&&!Array.isArray(t)&&t!==null}function J3(t,e){return function(r){return J(M({},r),{[t]:Po(e)?e(r[t]):e})}}function Fo(t){return hr(ue(t),$t())}function Cc(){return $t((t,e)=>t===e?!0:t.length!==e.length?!1:!e.some((n,i)=>t[i]!==n))}function I1(){return Ht(t=>t!=null)}function M1(t,{initialValue:e,config:r}){let n=e,i=ei(t);return{[`with${i}`](o=n){return{props:{[t]:o},config:r}},[`set${i}InitialValue`](o){n=o},[`set${i}`](o){return function(s){let a=Po(o)?o(s):o;return a===s[t]?s:J(M({},s),{[t]:a})}},[`update${i}`](o){return function(s){let a=Po(o)?o(s):o;return a===s[t]?s:J(M({},s),{[t]:zD(a)?M(M({},s[t]),a):a})}},[`reset${i}`](){return function(o){return J(M({},o),{[t]:n})}},[`select${i}`](){return Fo(o=>o[t])},[`get${i}`](o){return o[t]}}}function e4(t,e){let r=ei(t),n=M1(t,e);return J(M({},n),{[`add${r}`](i){return function(o){return J(M({},o),{[t]:qD(o[t],i)})}},[`remove${r}`](i){return function(o){return J(M({},o),{[t]:WD(o[t],i)})}},[`toggle${r}`](i){return function(o){return J(M({},o),{[t]:YD(o[t],i)})}},[`update${r}`](i,o){return function(s){return J(M({},s),{[t]:ZD(s[t],i,o)})}},[`in${r}`](i){return o=>KD(o[t],i)}})}function qD(t,e){return[...t,...Fi(e)]}function WD(t,e){let r=Fi(e);return t.filter(n=>!r.includes(n))}function YD(t,e){let r=Fi(e),n=[...t];return r.forEach(i=>{let o=n.indexOf(i);o>-1?n.splice(o,1):n.push(i)}),n}function KD(t,e){return t.includes(e)}function ZD(t,e,r){return t.map(n=>n===e?r:n)}function t4(t){return{props:t,config:void 0}}var XD=!0;function n4(){return XD}var QD=new Oe;function r4(t={}){if(!window.__REDUX_DEVTOOLS_EXTENSION__)return;let e=!1,r=window.__REDUX_DEVTOOLS_EXTENSION__.connect(t),n=new Map,i=l=>{r.send(l,S1())};n.set("externalSend",QD.subscribe(i));let o=l=>{let c=l.name,u=ei(c);i({type:`[${u}] - @Init`});let d=l.pipe(us(1)).subscribe(()=>{if(e){e=!1;return}t.preAction?.(),i({type:`[${u}] - Update`})});n.set(c,d)};X3().forEach(o),t.actionsDispatcher&&n.set("actionsDispatcher",t.actionsDispatcher.subscribe(l=>{i(l)}));let s=K3.subscribe(({store:l,type:c})=>{let u=l.name,d=ei(u);if(t.logTrace){let f=`[${d}] - ${c}`;console.groupCollapsed(f),console.trace(),console.groupEnd()}c==="add"&&o(l),c==="remove"&&(n.get(u)?.unsubscribe(),n.delete(u),i({type:`Remove ${d}`}))}),a=r.subscribe(l=>{if(l.type==="DISPATCH"){let c=l.payload.type;if(c==="COMMIT"){r.init(S1());return}if(c==="JUMP_TO_STATE"||c==="JUMP_TO_ACTION"){let u=JSON.parse(l.state);for(let[d,f]of Object.entries(u))e=!0,Z3(d)?.update(()=>f);t.postTimelineUpdate?.()}}});return{unsubscribe(){s.unsubscribe(),r.unsubscribe(),n.forEach(l=>l.unsubscribe()),a()}}}var i4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=oe({type:e,selectors:[["app-header"]],standalone:!0,features:[se],decls:4,vars:0,consts:[[1,"container"],[1,"logo"],[1,"menu"]],template:function(i,o){i&1&&(y(0,"div",0)(1,"div",1),j(2," Image Cutter "),w(),k(3,"div",2),w())},dependencies:[ie],styles:[".container[_ngcontent-%COMP%]{width:100%;max-height:32px}.menu[_ngcontent-%COMP%]{padding:0,10px}.logo[_ngcontent-%COMP%]{font-size:24px;font-weight:400;line-height:32px;margin:auto auto auto 10px}"]});let t=e;return t})();var ki=function(t){return t.TOP="top",t.BOTTOM="bottom",t.LEFT="left",t.RIGHT="right",t.DEFAULT="bottom",t}(ki||{}),rr=(()=>{let e=class e{constructor(n,i,o,s,a){this.elementRef=n,this.appRef=i,this.componentFactoryResolver=o,this.viewContainerRef=s,this.injector=a,this.tooltip="",this.position="bottom",this.componentRef=null}onMouseEnter(){if(this.componentRef===null){this.componentRef=this.viewContainerRef.createComponent(o4);let n=this.componentRef.hostView.rootNodes[0];document.body.appendChild(n),this.setTooltipComponentProperties()}}setTooltipComponentProperties(){if(this.componentRef!==null){this.componentRef.instance.tooltip=this.tooltip,this.componentRef.instance.position=this.position;let{left:n,right:i,top:o,bottom:s}=this.elementRef.nativeElement.getBoundingClientRect();switch(this.position){case ki.BOTTOM:{this.componentRef.instance.left=Math.round((i-n)/2+n),this.componentRef.instance.top=Math.round(s);break}case ki.TOP:{this.componentRef.instance.left=Math.round((i-n)/2+n),this.componentRef.instance.top=Math.round(o);break}case ki.RIGHT:{this.componentRef.instance.left=Math.round(i),this.componentRef.instance.top=Math.round(o+(s-o)/2);break}case ki.LEFT:{this.componentRef.instance.left=Math.round(n),this.componentRef.instance.top=Math.round(o+(s-o)/2);break}default:{this.componentRef.instance.left=Math.round((i-n)/2+n),this.componentRef.instance.top=Math.round(s);break}}}}onMouseLeave(){this.destroy()}ngOnDestroy(){this.destroy()}destroy(){this.componentRef!==null&&(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.componentRef=null)}};e.\u0275fac=function(i){return new(i||e)(Q(kn),Q(Mi),Q(yo),Q(vn),Q(Zr))},e.\u0275dir=pn({type:e,selectors:[["","tooltip",""]],hostBindings:function(i,o){i&1&&z("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseLeave()})},inputs:{tooltip:"tooltip",position:"position"}});let t=e;return t})();var JD=t=>[t],o4=(()=>{let e=class e{constructor(){this.tooltip="",this.left=0,this.top=0,this.position=ki.DEFAULT}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=oe({type:e,selectors:[["app-tooltip"]],decls:2,vars:8,consts:[[1,"tooltip",3,"ngClass"]],template:function(i,o){i&1&&(y(0,"div",0),j(1),w()),i&2&&(Gl("left",o.left+"px")("top",o.top+"px"),A("ngClass",Rm(6,JD,"tooltip-"+o.position)),O(),Jt(" ",o.tooltip,`
`))},dependencies:[Jm],styles:['.tooltip[_ngcontent-%COMP%]{position:fixed;background-color:#fff;border-radius:5px;color:var(--background-header);padding:3px 6px;font-size:13px;transform:translate(-50%)}.tooltip[_ngcontent-%COMP%]:before{content:"";width:0;height:0;border:5px solid white;position:absolute}.tooltip-bottom[_ngcontent-%COMP%]{transform:translate(-50%);margin-top:7px}.tooltip-bottom[_ngcontent-%COMP%]:before{border-left-color:transparent;border-right-color:transparent;border-top:none;left:calc(50% - 5px);top:-5px}.tooltip-top[_ngcontent-%COMP%]{transform:translate(-50%,calc(-100% - 7px));margin-bottom:7px}.tooltip-top[_ngcontent-%COMP%]:before{border-left-color:transparent;border-right-color:transparent;border-bottom:none;left:calc(50% - 5px);bottom:-5px}.tooltip-left[_ngcontent-%COMP%]{transform:translate(calc(-100% - 7px),-50%);margin-right:7px}.tooltip-left[_ngcontent-%COMP%]:before{border-top-color:transparent;border-bottom-color:transparent;border-right:none;right:-5px;top:calc(50% - 5px)}.tooltip-right[_ngcontent-%COMP%]{transform:translateY(-50%);margin-left:7px}.tooltip-right[_ngcontent-%COMP%]:before{border-top-color:transparent;border-bottom-color:transparent;border-left:none;left:-5px;top:calc(50% - 5px)}']});let t=e;return t})();var en=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Rn({imports:[ie]});let t=e;return t})();var ex=["*"],yc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=oe({type:e,selectors:[["app-layer-box"]],inputs:{headerText:"headerText"},standalone:!0,features:[se],ngContentSelectors:ex,decls:6,vars:1,consts:[[1,"container"],[1,"header"],[1,"header-text","prevent-select"],[1,"content"]],template:function(i,o){i&1&&(Om(),y(0,"div",0)(1,"div",1)(2,"div",2),j(3),w()(),y(4,"div",3),Nm(5),w()()),i&2&&(O(3),Jt(" ",o.headerText," "))},dependencies:[ie,en],styles:[".container[_ngcontent-%COMP%]{display:block}.header[_ngcontent-%COMP%]{background-color:var(--background-subheader);height:32px}.header-text[_ngcontent-%COMP%]{line-height:32px;text-align:center;margin:auto;font-weight:500}"]});let t=e;return t})();var ts=Qu(Ip());function A8(t,e){let r={},n=[];for(let i of t){let o=i[e];n.push(o),r[o]=i}return{ids:n,asObject:r}}function O8(t,e){return t&&e?Po(e)?e(t):t[e]:t}function ZM(t,e){return t.config[e.idKeyRef]}var Mp=class{constructor(e){this.entitiesKey=void 0,this.idsKey=void 0,this.idKeyRef="idKey",this.entitiesKey=e.entitiesKey,this.idsKey=e.idsKey,this.idKeyRef=e.idKeyRef}};function N8(t){let e=t?`idKey${ei(t)}`:"idKey",r=new Mp({entitiesKey:t?`${t}Entities`:"entities",idsKey:t?`${t}Ids`:"ids",idKeyRef:e});function n(i){let o={},s=[],a=i?.idKey||"id";return i?.initialValue&&({ids:s,asObject:o}=A8(i.initialValue,a)),{props:{[r.entitiesKey]:o,[r.idsKey]:s},config:{[e]:a}}}return{[`${t}EntitiesRef`]:r,[`with${ei(t)}Entities`]:n}}var{withEntities:Tp,EntitiesRef:ur}=N8(""),{UIEntitiesRef:uB,withUIEntities:dB}=N8("UI");function R8(t,e={}){return function(r,n){let{ref:{idsKey:i,entitiesKey:o}=ur}=e,s=Fi(t),a=M({},r[o]),l=r[i].filter(c=>!s.includes(c));for(let c of s)Reflect.deleteProperty(a,c);return n.setEvent({type:"delete",ids:s}),J(M({},r),{[o]:a,[i]:l})}}function Lu(t,e={}){return function(r,n){let{prepend:i=!1,ref:o=ur}=e,{entitiesKey:s,idsKey:a}=o,l=ZM(n,o),c=Fi(t);if(!c.length)return r;n4()&&(XM(c,l,r,s),QM(c,l));let{ids:u,asObject:d}=A8(c,l);return n.setEvent({type:"add",ids:u}),J(M({},r),{[s]:M(M({},r[s]),d),[a]:i?[...u,...r[a]]:[...r[a],...u]})}}function XM(t,e,r,n){t.forEach(i=>{let o=i[e];if(r[n][o])throw Error(`Entity already exists. ${e} ${o}`)})}function QM(t,e){let r=new Set;t.forEach(n=>{let i=n[e];if(r.has(i))throw Error(`Duplicate entity id provided. ${e} ${i}`);r.add(i)})}function P8(t={}){let{ref:{entitiesKey:e,idsKey:r}=ur}=t;return function(n){return n[r].map(i=>n[e][i])}}function cn(t,e={}){return function(r){let{ref:{entitiesKey:n}=ur}=e;return r[n][t]}}function JM(t,e={}){return function(r){let{ref:{entitiesKey:n}=ur}=e;return Reflect.has(r[n],t)}}function eT(t,e){return Po(t)?t(e):M(M({},e),t)}function un(t,e,r={}){return function(n,i){let o=Fi(t);if(!o.length)return n;let{ref:{entitiesKey:s}=ur}=r,a={};for(let l of o)JM(l,r)(n)&&(a[l]=eT(e,cn(l,r)(n)));return i.setEvent({type:"update",ids:o}),J(M({},n),{[s]:M(M({},n[s]),a)})}}function F8(t){return $t((e,r)=>e[t]===r[t])}function Ap(t,e={}){let{ref:{entitiesKey:r}=ur,pluck:n}=e;return hr(F8(r),Fo(i=>tT(i[r],t,n)))}function tT(t,e,r){let n=t[e];if(!Q3(n))return r?O8(n,r):n}function Op(t,e){let{ref:{entitiesKey:r,idsKey:n}=ur,pluck:i}=e||{};return hr(F8(r),Fo(o=>{let s=[];return o[n].forEach((a,l)=>{let c=o[r][a];t(c,l)&&s.push(O8(c,i))}),s}),Cc())}var{selectActiveId:nT,setActiveId:Np,withActiveId:k8,resetActiveId:fB,getActiveId:rT}=M1("activeId",{initialValue:void 0});function L8(t={}){let{ref:e=ur}=t;return function(r){return r.pipe(nT()).pipe(Ot(n=>r.pipe(Ap(n,{ref:e}))))}}function es(t={}){let{ref:{entitiesKey:e}=ur}=t;return function(r){return r[e][rT(r)]}}var{setActiveIds:hB,resetActiveIds:pB,withActiveIds:gB,selectActiveIds:mB,toggleActiveIds:vB,removeActiveIds:CB,addActiveIds:yB,getActiveIds:_B}=e4("activeIds",{initialValue:[]});function V8(t,e){let r={source:l=>l,preStoreInit:l=>l,key:e.key??`${t.name}@store`,runGuard(){return typeof window<"u"}},n=M(M({},r),e);if(!n.runGuard?.())return{initialized$:de(!1),unsubscribe(){}};let{storage:i}=e,o=new fi(1),s=yt(i.getItem(n.key)).subscribe(l=>{l&&t.update(c=>n.preStoreInit(M(M({},c),l))),o.next(!0),o.complete()}),a=n.source(t).pipe(us(1),Ot(l=>{let c=n.preStorageUpdate?n.preStorageUpdate(t.name,l):l;return i.setItem(n.key,c)})).subscribe();return{initialized$:o.asObservable(),unsubscribe(){a.unsubscribe(),s.unsubscribe()}}}function j8(t){if(t)return{getItem(e){let r=t.getItem(e);return de(r&&JSON.parse(r))},setItem(e,r){return t.setItem(e,JSON.stringify(r)),de(!0)},removeItem(e){return t.removeItem(e),de(!0)}}}var iT=()=>{try{if(typeof localStorage<"u")return localStorage}catch{}},SB=j8(iT()),oT=()=>{try{if(typeof sessionStorage<"u")return sessionStorage}catch{}},EB=j8(oT());var Vu,sT=new Uint8Array(16);function Rp(){if(!Vu&&(Vu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Vu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vu(sT)}var Bt=[];for(let t=0;t<256;++t)Bt.push((t+256).toString(16).slice(1));function U8(t,e=0){return Bt[t[e+0]]+Bt[t[e+1]]+Bt[t[e+2]]+Bt[t[e+3]]+"-"+Bt[t[e+4]]+Bt[t[e+5]]+"-"+Bt[t[e+6]]+Bt[t[e+7]]+"-"+Bt[t[e+8]]+Bt[t[e+9]]+"-"+Bt[t[e+10]]+Bt[t[e+11]]+Bt[t[e+12]]+Bt[t[e+13]]+Bt[t[e+14]]+Bt[t[e+15]]}var aT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Pp={randomUUID:aT};function lT(t,e,r){if(Pp.randomUUID&&!e&&!t)return Pp.randomUUID();t=t||{};let n=t.random||(t.rng||Rp)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return U8(n)}var Hi=lT;function B8(t){return Pt(this,null,function*(){let e=[];for(let r=0;r<t.length;r++){let n=t[r];if(!dT(n))continue;let i={lastModified:n.lastModified,lastModifiedDate:new Date(n.lastModified),name:n.name,size:n.size,type:n.type,width:0,height:0,dataURL:""},o=yield cT(n);i.dataURL=o;let s=yield fetch(o).then(l=>l.blob()),a=yield createImageBitmap(s);i.width=a.width,i.height=a.height,e.push(i)}return e})}function cT(t){return Pt(this,null,function*(){return new Promise(r=>{let n=new FileReader;n.onloadend=i=>{let o=n.result;r(o)},n.readAsDataURL(t)})})}var uT=["image/apng","image/bmp","image/gif","image/jpeg","image/pjpeg","image/png","image/svg+xml","image/tiff","image/webp","image/x-icon"];function dT(t){return uT.includes(t.type)}var ju=Qu($8());function dr(t,e){let r=t.y/e.y,n=(t.y+t.height)/e.y,i=t.x/e.x,o=(t.x+t.width)/e.x;return{top:r,bottom:n,left:i,right:o}}function _a(t,e){let r=Math.round(t.left*e.x),n=Math.round(t.top*e.y),i=Math.round((t.right-t.left)*e.x),o=Math.round((t.bottom-t.top)*e.y);return{x:r,y:n,width:i,height:o}}ju.default.config({driver:ju.default.INDEXEDDB,name:"ImageCutter",version:1,storeName:"AppStore"});var _e=(()=>{let e=class e{constructor(){this.store=E1({name:"AppStore"},Tp(),k8(),t4({bestNumber:42,showDropzone:!1})),this.restoredImageProps=[],this.preAppStoreInit=n=>{console.log("preAppStoreInit",n);let i=[];n.ids.forEach(s=>{let a=n.entities[s];i.push(a),a.meta.tool||(a.meta.tool="select")}),this.addCanvasEntities(i);let o=M({},n);return o.showDropzone=!1,o},this.persist=V8(this.store,{key:"AppStore",storage:ju.default,source:()=>this.store.pipe(zn(1e3)),preStoreInit:this.preAppStoreInit}),this.canvasStore=E1({name:"CanvasStore"},Tp()),this.app$=this.store.pipe(n=>n),this.showDropzone$=this.store.pipe(Fo(n=>n.showDropzone)),this.active$=this.store.pipe(L8()),this.activeCanvas$=this.active$.pipe(I1(),ue(n=>n.id),$t(),Ot(n=>this.canvasStore.pipe(Ap(n))),I1()),this.activeFile$=this.active$.pipe(ue(n=>{if(n)return n.file}),$t()),this.zoom$=this.active$.pipe(ue(n=>n?.meta.zoom),$t()),this.scroll$=this.active$.pipe(ue(n=>{let i={x:.5,y:.5};return n&&(i.x=n.meta.scrollX,i.y=n.meta.scrollY),i}),$t((n,i)=>n.x===i.x&&n.y===i.y)),this.selectedCut$=this.active$.pipe(ue(n=>n?.cuts?.find(o=>o.selected)),$t()),this.nonSelectedCuts$=this.active$.pipe(ue(n=>n?.cuts.filter(o=>!o.selected)||[]),Cc()),this.imagesOpen$=this.store.pipe(Op(n=>n.meta.active)),this.imagesClosed$=this.store.pipe(Op(n=>!n.meta.active)),console.log("AppRepo constructor")}updateShowDropzone(n){this.store.update(J3("showDropzone",n))}updateZoom(n,i){this.store.update(un(n,o=>J(M({},o),{meta:J(M({},o.meta),{zoom:i,date:new Date})})))}updateName(n,i){this.store.update(un(n,o=>J(M({},o),{meta:J(M({},o.meta),{name:i,date:new Date})})))}updateScroll(n,i,o){this.store.update(un(n,s=>J(M({},s),{meta:J(M({},s.meta),{scrollX:i,scrollY:o,date:new Date})})))}setActiveImage(n){this.store.update(Np(n)),this.store.query(cn(n))&&this.store.update(un(n,o=>J(M({},o),{meta:J(M({},o.meta),{active:!0,date:new Date})})))}getActiveEntity(){return this.store.query(es())}addNewCut(n){let i=this.store.query(cn(n));if(!i)return;let o=M({},i),s={x:i.file.width,y:i.file.height};if(!i.cuts||i.cuts.length<1){o.cuts=[];let a={id:Hi(),name:"Cut 1",visible:!0,selected:!0,locked:!1,type:"absolute",absolute:{x:0,y:0,width:32,height:32},relative:{top:0,bottom:1,left:0,right:1}};a.relative=dr(a.absolute,s),o.cuts.push(a),o.meta.tool="move"}else{let a={id:Hi(),name:`Cut ${i.cuts.length+1}`,visible:!0,selected:!1,locked:!1,type:"absolute",absolute:{x:0,y:0,width:32,height:32},relative:{top:0,bottom:1,left:0,right:1}};a.relative=dr(a.absolute,s),o.cuts.push(a)}this.store.update(un(n,a=>J(M({},o),{meta:J(M({},o.meta),{date:new Date})})))}duplicateCut(n,i){let o=this.store.query(cn(n));if(!o||!o.cuts)return;let s=o.cuts.findIndex(u=>u.id===i);if(s<0)return;let a=o.cuts[s],l=JSON.parse(JSON.stringify(o)),c=JSON.parse(JSON.stringify(a));c.id=Hi(),c.name=c.name+"(2)",c.selected=!1,l.cuts.push(c),this.store.update(un(n,u=>J(M({},l),{meta:J(M({},l.meta),{date:new Date})})))}removeCut(n,i){let o=this.store.query(cn(n));if(!o||!o.cuts)return;let s=o.cuts.findIndex(c=>c.id===i);if(s<0)return;let a=o.cuts[s],l=M({},o);if(l.cuts=o.cuts.filter(c=>c.id!=i),l.cuts.length<1)l.meta.tool="select";else if(a.selected){let c=Math.max(0,s-1);l.cuts[c].selected=!0}this.store.update(un(n,c=>J(M({},l),{meta:J(M({},l.meta),{date:new Date})})))}updateCut(n,i){let o=this.store.query(cn(n));if(!o||!o.cuts)return;let s=o.cuts.findIndex(u=>u.id===i.id);if(s<0)return;let a=o.cuts[s],l=M({},o),c=M({},i);if(c.absolute){let u=c.absolute;c.absolute.x=Number(u.x),c.absolute.y=Number(u.y),c.absolute.height=Number(u.height),c.absolute.width=Number(u.width)}if(l.cuts[s]=c,a.selected&&!i.selected){let u=Math.max(0,s-1);l.cuts[u].selected=!0}this.store.update(un(n,u=>J(M({},l),{meta:J(M({},l.meta),{date:new Date})})))}updateSelectedCut(n,i){}selectCut(n,i){let o=this.store.query(cn(n));if(!o||!o.cuts)return;let s=M({},o);if(s.cuts=o.cuts.map(a=>{let l=M({},a);return l.selected=!1,l}),i){let a=o.cuts.findIndex(c=>c.id===i.id);if(a<0)return;let l=o.cuts[a];s.cuts[a].selected=!0,s.meta.tool="move"}else s.meta.tool="select";this.store.update(un(n,a=>J(M({},s),{meta:J(M({},s.meta),{date:new Date})})))}zoomCut(n,i){let o=this.store.query(cn(n));if(!o||!o.cuts||!i)return;let s=o.cuts.findIndex(pt=>pt.id===i.id);if(s<0)return;let a=o.cuts[s],l=a.absolute.height,c=a.absolute.width,u=JSON.parse(JSON.stringify(o)),d=o.file.width,f=o.file.height,h=window.innerHeight,g=window.innerWidth,v=24,b=h-32-48-32-32-2*v,x=g-48-240-2*v,T=.2,I=(1-2*T)*b/l,P=(1-2*T)*x/c,H=Math.min(I,P),E=17,U=Math.floor(H*d+2*v),F=x+2*v-E,K=(a.absolute.x*H-(x-H*c)/2)/(U-F);K=Math.min(Math.max(K,0),1);let X=Math.floor(H*f+2*v),De=b+2*v-E,Ge=(a.absolute.y*H-(b-H*l)/2)/(X-De);Ge=Math.min(Math.max(Ge,0),1),u.meta.zoom=H,u.meta.scrollX=K,u.meta.scrollY=Ge,this.store.update(un(n,pt=>J(M({},u),{meta:J(M({},u.meta),{date:new Date})})))}openFileList(n){return Pt(this,null,function*(){let i=yield B8(n);if(i.length<1)return;console.log(i);let o=i.map(s=>({id:Hi(),meta:{name:s.name,date:new Date,active:!0,zoom:1,scrollX:.5,scrollY:.5,tool:"select"},file:s,cuts:[]}));this.store.update(Lu(o)),yield this.addCanvasEntities(o),this.store.update(Np(o[0].id))})}addCanvasEntities(n){return Pt(this,null,function*(){let i=[];for(let o=0;o<n.length;o++){let s=n[o],a=new OffscreenCanvas(s.file.width,s.file.height),l={id:s.id,canvas:a},c=yield fetch(s.file.dataURL).then(f=>f.blob()),u=yield createImageBitmap(c);a.getContext("2d")?.drawImage(u,0,0),i.push(l)}this.canvasStore.update(Lu(i))})}closeImage(n){let i=this.store.query(cn(n));if(!i||!i.meta.active)return;let o=JSON.parse(JSON.stringify(i));o.meta.active=!1;let s=this.store.query(P8()).filter(u=>u.meta.active),a=s.length,l=s.findIndex(u=>u.id===n),c=this.getActiveEntity();if(c&&c.id===i.id)if(a>1){let u=Math.max(0,l-1),d=s[u];this.setActiveImage(d.id)}else this.setActiveImage("-1");this.store.update(un(n,u=>J(M({},o),{meta:J(M({},o.meta),{date:new Date})})))}openImage(n){let i=this.store.query(cn(n));if(!i||i.meta.active)return;let o=JSON.parse(JSON.stringify(i));o.meta.active=!0,this.store.update(un(n,s=>J(M({},o),{meta:J(M({},o.meta),{date:new Date})})))}deleteImage(n){if(!this.store.query(cn(n)))return;let o=this.getActiveEntity();o&&o.id===n&&this.closeImage(n),this.store.update(R8(n))}duplicateImage(n){let i=this.store.query(cn(n));if(!i)return;let o=JSON.parse(JSON.stringify(i));o.id=Hi(),o.meta.date=new Date,this.store.update(Lu([o])),this.addCanvasEntities([o])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var G8=(()=>{let e=class e{onResize(n){this.updateRect()}constructor(n){this.store=n,this.destroy$=new Oe,this.updateSubject=new Oe,this.dragging=!1,this.id="-42",this.zoom=1,this.scroll={x:.5,y:.5}}ngOnChanges(n){}ngAfterViewInit(){this.stage||(this.initStage(),this.initRect(),this.initSubs())}ngOnDestroy(){this.destroy$.next(1),this.destroy$.complete()}initStage(){this.stage=new ts.default.Stage({height:117,width:208,container:"preview"});let n=new ts.default.Layer({imageSmoothingEnabled:!1});this.layerBG=n,this.stage.add(this.layerBG);let i=new ts.default.Layer({imageSmoothingEnabled:!1});this.layerRect=i,this.stage.add(this.layerRect)}initSubs(){this.store.activeFile$.pipe(ot(this.destroy$)).subscribe(n=>{this.imageFile=n;let i=this.store.store.query(es());i&&(this.id=i.id),this.drawBG(),this.updateRect()}),this.store.zoom$.pipe(ot(this.destroy$)).subscribe(n=>{this.zoom=n||1,this.updateRect()}),this.store.scroll$.pipe(ot(this.destroy$)).subscribe(n=>{this.scroll=n,this.updateRect()}),this.updateSubject.pipe(zn(5),ot(this.destroy$)).subscribe(n=>{this.store.updateScroll(this.id,n.x,n.y)})}drawBG(){let n=this.imageFile;if(!n)return;let i=this.stage,o=117,s=208,a=n.dataURL,l=n.height,c=n.width,u=o/l,d=s/c,f=Math.min(u,d),h=(s-c*f)/2,g=(o-l*f)/2,v=this.layerBG;v.findOne("#previewBG")&&v.destroyChildren(),ts.default.Image.fromURL(a,function(x){x.setAttrs({x:0,y:0,scaleX:1,scaleY:1,id:"previewBG"}),v.add(x)}),i.width(c*f),i.height(l*f),i.scale({x:f,y:f})}initRect(){let n=new ts.default.Rect({x:0,y:0,width:100,height:100,stroke:"orange",strokeWidth:2,strokeScaleEnabled:!1,id:"previewRect",draggable:!0}),i=this;n.on("dragstart",function(){i.dragging=!0}),n.on("dragend",function(){i.dragging=!1}),n.on("dragmove",function(){let o=i.imageFile?.width||0,s=i.imageFile?.height||0,a=Math.max(0,Math.min(this.x(),o-this.width())),l=Math.max(0,Math.min(this.y(),s-this.height()));this.x(a),this.y(l),i.updateStoreFromRect()}),this.rect=n,this.layerRect.add(n)}updateStoreFromRect(){let n=this.rect,i=this.imageFile;if(!i)return;let o=i.width-n.width(),s=i.height-n.height(),a=o!=0?n.x()/o:.5,l=s!=0?n.y()/s:.5;this.updateSubject.next({x:a,y:l})}updateRect(){let n=this.imageFile;if(!n||this.dragging)return;let i=window.innerHeight,o=window.innerWidth,s=24,a=i-32-48-32-32-2*s,l=o-48-240-2*s,c=this.zoom,u=this.scroll,d=l/(n.width*c),f=a/(n.height*c),h=0,g=0,v=100,b=100;d<1?(v=d*n.width,h=u.x*(n.width-v)):(h=0,v=n.width),f<1?(b=f*n.height,g=u.y*(n.height-b)):(g=0,b=n.height),this.rect.x(h),this.rect.y(g),this.rect.width(v),this.rect.height(b)}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-canvas-preview"]],hostBindings:function(i,o){i&1&&z("resize",function(a){return o.onResize(a)},!1,Ll)},standalone:!0,features:[gn,se],decls:2,vars:0,consts:[[1,"container"],["id","preview"]],template:function(i,o){i&1&&(y(0,"div",0),k(1,"div",1),w())},dependencies:[ie],styles:[".container[_ngcontent-%COMP%]{margin:0;padding:9px 16px}#preview[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:117px;width:208px}"]});let t=e;return t})();var fT=["zoomSlider"];function hT(t,e){t&1&&me(0)}function pT(t,e){t&1&&me(0)}function gT(t,e){t&1&&me(0)}function mT(t,e){if(t&1){let r=ye();He(0),y(1,"div",7),k(2,"app-canvas-preview",8),y(3,"div",9)(4,"div",10),z("click",function(){q(r);let i=R();return W(i.zoomOutClicked(i.active.id))}),Z(5,hT,1,0,"ng-container",11),w(),y(6,"input",12,5),Re(8,"inverseExp"),z("input",function(i){q(r);let o=R();return W(o.onSliderChange(i,o.active.id))}),w(),y(9,"div",13),z("click",function(){q(r);let i=R();return W(i.zoomInClicked(i.active.id))}),Z(10,pT,1,0,"ng-container",11),w()(),y(11,"div",14)(12,"div",15),j(13),Re(14,"percent"),w(),k(15,"div",16),y(16,"div",17),z("click",function(){q(r);let i=R();return W(i.zoomerClicked(i.active,1))}),j(17," 1x "),w(),y(18,"div",17),z("click",function(){q(r);let i=R();return W(i.zoomerClicked(i.active,2))}),j(19," 2x "),w(),y(20,"div",17),z("click",function(){q(r);let i=R();return W(i.zoomerClicked(i.active,5))}),j(21," 5x "),w(),y(22,"div",18),z("click",function(){q(r);let i=R();return W(i.maximizeClicked(i.active))}),Z(23,gT,1,0,"ng-container",11),w()()(),$e()}if(t&2){let r=R(),n=ce(4),i=ce(6),o=ce(8);O(5),A("ngTemplateOutlet",i),O(),A("value",Pe(8,5,r.active.meta.zoom)),O(4),A("ngTemplateOutlet",n),O(3),Cn(Pe(14,7,r.active.meta.zoom)),O(10),A("ngTemplateOutlet",o)}}function vT(t,e){t&1&&me(0)}function CT(t,e){t&1&&me(0)}function yT(t,e){t&1&&me(0)}function _T(t,e){if(t&1&&(y(0,"div",7)(1,"div",19),k(2,"div"),w(),y(3,"div",9)(4,"div",20),Z(5,vT,1,0,"ng-container",11),w(),k(6,"input",21,5),Re(8,"inverseExp"),y(9,"div",22),Z(10,CT,1,0,"ng-container",11),w()(),y(11,"div",14)(12,"div",15),j(13),Re(14,"percent"),w(),k(15,"div",16),y(16,"div",23),j(17," 1x "),w(),y(18,"div",23),j(19," 2x "),w(),y(20,"div",23),j(21," 5x "),w(),y(22,"div",24),Z(23,yT,1,0,"ng-container",11),w()()()),t&2){R();let r=ce(4),n=ce(6),i=ce(8);O(5),A("ngTemplateOutlet",n),O(),A("value",Pe(8,5,1)),O(4),A("ngTemplateOutlet",r),O(3),Cn(Pe(14,7,1)),O(10),A("ngTemplateOutlet",i)}}function wT(t,e){t&1&&(Ve(),y(0,"svg",25)(1,"g",26),k(2,"path",27)(3,"path",28),w(),y(4,"defs")(5,"clipPath",29),k(6,"rect",30),w()()())}function bT(t,e){t&1&&(Ve(),y(0,"svg",25)(1,"g",31),k(2,"path",32)(3,"path",33),w(),y(4,"defs")(5,"clipPath",34),k(6,"rect",30),w()()())}function DT(t,e){t&1&&(Ve(),y(0,"svg",35)(1,"g",36),k(2,"path",37)(3,"path",38)(4,"path",39)(5,"path",40),w(),y(6,"defs")(7,"clipPath",41),k(8,"rect",42),w()()())}function xT(t,e){t&1&&(y(0,"div",43),Ve(),y(1,"svg",44)(2,"g",45),k(3,"path",46)(4,"path",47)(5,"path",48),w(),y(6,"defs")(7,"clipPath",49),k(8,"rect",50),w()()()())}var ST=(()=>{let e=class e{transform(n){return 17.7946*Math.log(5.516024049864857*n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=_r({name:"inverseExp",type:e,pure:!0,standalone:!0});let t=e;return t})(),z8=(()=>{let e=class e{constructor(n){this.store=n,this.destroy$=new Oe,this.updateSubject=new Oe,this.store.active$.pipe(ot(this.destroy$)).subscribe(i=>{this.active=i})}ngOnInit(){this.updateSubject.pipe(zn(5),ot(this.destroy$)).subscribe(n=>{this.store.updateZoom(n[0],n[1])})}ngOnDestroy(){this.destroy$.next(1),this.destroy$.complete()}onSliderChange(n,i){let o=n.target,s=this.scaleValue(Number(o.value));this.updateSubject.next([i,s])}scaleValue(n){return .18129*Math.exp(.0561968*n)}zoomInClicked(n){let i=this.zoomSliderRef.nativeElement,o=Number(i.value),s=Math.round(o)+2,a=Math.min(s,Number(i.max)),l=this.scaleValue(a);this.updateSubject.next([n,l])}zoomOutClicked(n){let i=this.zoomSliderRef.nativeElement,o=Number(i.value),s=Math.round(o)-2,a=Math.max(s,Number(i.min)),l=this.scaleValue(a);this.updateSubject.next([n,l])}maximizeClicked(n){if(!n.file)return;let i=window.innerHeight,o=window.innerWidth,s=24,a=i-32-48-32-32-2*s,l=o-48-240-2*s,c=a/n.file.height,u=l/n.file.width,d=Math.min(c,u),f=this.zoomSliderRef.nativeElement,h=Math.max(Number(f.min),Math.min(Number(f.max),d));this.updateSubject.next([n.id,h])}zoomerClicked(n,i){this.updateSubject.next([n.id,i])}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-canvas-navigation"]],viewQuery:function(i,o){if(i&1&&Dr(fT,5),i&2){let s;Qn(s=Jn())&&(o.zoomSliderRef=s.first)}},standalone:!0,features:[se],decls:11,vars:2,consts:[["fake",""],["zoomIn",""],["zoomOut",""],["maximize",""],["remove",""],["zoomSlider",""],[4,"ngIf","ngIfElse"],[1,"container"],[1,"canvas"],[1,"slidercontainer"],[1,"zoomout",3,"click"],[4,"ngTemplateOutlet"],["type","range","min","0.1","max","100","step","0.1",1,"slider",3,"input","value"],[1,"zoomin",3,"click"],[1,"buttons"],[1,"percent","prevent-select"],[1,"spacer"],[1,"zoomer","prevent-select",3,"click"],[1,"maximize",3,"click"],[1,"canvas","canvas-fake"],[1,"zoomout"],["type","range","min","0.1","max","100","step","0.1",1,"slider",3,"value"],[1,"zoomin"],[1,"zoomer","prevent-select"],[1,"maximize"],["width","159","height","154","viewBox","0 0 159 154","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_996)"],["d","M14.5582 89.0236C18.4678 93.6319 23.5943 97.0394 29.3479 98.8536C34.6975 100.546 40.2624 101.455 45.8707 101.552C54.1113 101.739 62.3894 100.355 71.1896 97.3279C77.215 95.2655 82.9729 92.487 88.341 89.0516C88.4686 89.3108 88.6247 89.5558 88.806 89.7806C98.6486 101.542 109.39 112.293 118.602 121.262C127.919 130.332 137.524 139.404 146.562 147.919C147.982 149.195 149.492 150.368 151.078 151.428C151.531 151.749 151.99 152.069 152.442 152.396C153.183 152.982 154.089 153.318 155.032 153.359C155.727 153.357 156.402 153.119 156.946 152.684C158.44 151.526 158.732 149.642 157.689 147.883L157.16 146.983C156.104 145 154.816 143.151 153.326 141.473C147.01 134.934 140.206 128.106 133.102 121.18C125.232 113.508 117.189 105.75 109.411 98.2487C105.177 94.166 100.946 90.0815 96.7189 85.9936C96.1601 85.453 95.6388 84.8598 95.135 84.286C95.0107 84.1437 94.887 84.0033 94.7646 83.8656L94.9654 83.6434C95.2555 83.3185 95.5482 82.9975 95.8551 82.6953C103.119 75.6263 107.098 66.7872 107.68 56.4243C108.691 38.4186 102.638 23.1455 89.6879 11.0282C83.3401 4.94621 75.1086 1.22828 66.3629 0.493103C57.8574 -0.323972 49.2758 0.660071 41.1734 3.38146C28.8546 7.59665 18.3748 15.6449 10.0267 27.3015C2.57994 37.6942 -0.355364 49.0752 1.29327 61.1269C2.63368 70.9822 6.97543 80.1072 14.5582 89.0236ZM53.5401 12.2042C54.8611 12.0795 56.1821 11.9565 57.5031 11.8352C77.2085 11.0633 88.9504 24.6094 93.3705 37.5369C96.3913 46.3741 97.0317 53.8414 95.3869 61.0456C94.3055 66.0536 91.8669 70.6638 88.3404 74.3696C84.2408 78.6452 79.3338 82.0585 73.9054 84.4095C61.8292 89.8287 50.0894 91.6046 38.0179 89.8365C30.2785 88.7039 24.3963 85.2938 20.0351 79.4119C15.5521 73.3689 12.7302 67.6261 11.4072 61.8637C9.48378 53.9318 10.2632 45.582 13.6212 38.1464C17.4812 29.5504 22.6026 23.2111 29.2781 18.7672C34.5795 15.2375 39.4529 13.4045 44.6151 13.0003C47.5938 12.7644 50.6165 12.4791 53.5401 12.2042Z","fill","white"],["d","M20.9156 50.6481C20.8308 51.3752 21.03 52.107 21.4713 52.6899C21.9126 53.2729 22.5617 53.6617 23.2824 53.7749C24.5124 54.0906 25.7777 54.246 27.0472 54.2375C31.9089 54.0497 36.8483 53.8061 41.6253 53.5709L46.3044 53.3421C47.1067 53.3031 47.909 53.2603 48.8156 53.2122L49.6353 53.1692L49.6671 53.4513C49.7195 53.9126 49.7584 54.2519 49.7882 54.5924C49.9129 56.0219 50.0362 57.4513 50.1579 58.8808C50.4661 62.4826 50.7854 66.2053 51.1454 69.8656C51.1767 71.095 51.5269 72.2945 52.1614 73.3465C52.9538 74.4213 54.0918 75.188 55.3829 75.5168C55.5463 75.5486 55.7124 75.5649 55.8789 75.5655C57.1921 75.5655 58.3292 74.535 58.7391 72.9014C59.0872 71.6688 59.2463 70.39 59.2105 69.1092C59.0409 66.5276 58.7806 63.9149 58.528 61.3885C58.4309 60.4142 58.3355 59.4395 58.2418 58.4645L57.6759 52.5454L57.9174 52.5181C58.3642 52.4661 58.7048 52.4272 59.0461 52.3934L63.8009 51.921C68.0969 51.4967 72.5383 51.058 76.9041 50.5824C78.1163 50.5183 79.2941 50.1579 80.336 49.5324C80.8023 49.1734 81.1791 48.7107 81.4362 48.1808C81.6939 47.6508 81.826 47.0681 81.8208 46.4784C81.6985 45.4244 80.6689 44.3756 79.7636 43.8473C78.8396 43.4262 77.8177 43.2671 76.8102 43.3873C73.7726 43.5036 70.1722 43.6602 66.5046 43.9357C64.1603 44.1118 61.8635 44.3465 59.4326 44.5954C58.5926 44.682 57.7449 44.7685 56.8898 44.8552L56.8581 44.3783C56.8121 43.6922 56.7739 43.119 56.7415 42.5452L56.476 37.8018C56.2985 34.6113 56.1168 31.4212 55.9307 28.2317C55.8219 26.4123 54.8714 25.2731 53.2532 25.0184C52.9219 24.9655 52.5834 24.9802 52.2579 25.0615C51.9323 25.1428 51.6265 25.289 51.3584 25.4914C50.9636 25.8099 50.6351 26.2033 50.392 26.6494C50.1488 27.0954 49.9958 27.5851 49.9416 28.0906C49.7696 29.4454 49.6962 30.8111 49.7221 32.1765C49.7059 35.5372 49.7085 38.8986 49.7111 42.3509V45.7571C48.7566 45.8604 47.8281 45.963 46.9176 46.0631C44.5508 46.323 42.3155 46.572 40.0757 46.7779C34.6176 47.2763 29.0584 47.7331 23.8645 48.1522C21.6156 48.3348 21.0179 49.6104 20.9156 50.6481Z","fill","white"],["id","clip0_1_996"],["width","158","height","154","fill","white","transform","translate(0.777344)"],["clip-path","url(#clip0_1_999)"],["d","M154.779 142.458C152.263 139.504 149.475 136.556 146.255 133.445C133.915 121.518 121.334 109.429 109.168 97.7371L99.3711 88.3217C98.269 87.2632 97.1519 86.2183 96.0641 85.2027L95.005 84.2098L95.0381 84.1449C95.0875 84.0383 95.1448 83.9363 95.2104 83.8388C95.5609 83.4405 95.9361 83.0474 96.3249 82.6698C103.581 75.5995 107.548 66.75 108.116 56.3616C109.099 38.3741 102.984 23.1158 89.9373 11.0102C83.6322 5.0228 75.4832 1.34732 66.8192 0.583593C58.1676 -0.273856 49.4326 0.718459 41.1944 3.49464C28.7944 7.74168 18.6427 15.4963 10.1595 27.2035C2.62359 37.6047 -0.365394 49.0865 1.27637 61.3305C2.42399 69.8859 5.99426 77.9192 12.5132 86.6121C17.0159 92.6168 22.6506 96.741 29.2593 98.8717C34.5152 100.57 39.9918 101.49 45.5145 101.601C59.5589 101.895 73.3355 98.1342 86.5003 90.4602C87.0718 90.1268 87.6472 89.798 88.2155 89.4731L88.5192 89.299C89.5992 90.503 90.6655 91.698 91.7175 92.8832C94.2813 95.7631 96.7027 98.4818 99.2372 101.2C112.215 115.117 126.29 128.354 139.902 141.155C142.434 143.538 144.964 145.921 147.492 148.303C149.068 149.708 150.759 150.976 152.549 152.095L153.475 152.714C154.148 153.178 154.94 153.439 155.758 153.464C156.139 153.474 156.516 153.395 156.861 153.233C157.206 153.071 157.508 152.83 157.743 152.531C158.493 151.578 158.978 149.711 158.483 148.553C157.554 146.35 156.306 144.296 154.779 142.458ZM53.3468 12.2655C54.7772 12.1091 56.2062 11.9506 57.6336 11.7899C77.4403 11.1141 89.2604 24.6466 93.713 37.5332C96.8015 46.4743 97.4348 54.045 95.7072 61.3597C94.6038 66.2497 92.1961 70.7501 88.7402 74.3824C83.8559 79.5586 77.7043 83.395 69.381 86.4536C59.5604 90.1697 48.9675 91.3796 38.5611 89.9741C30.3425 88.8805 24.1265 85.2144 19.5543 78.7633C15.298 72.7586 12.7219 67.4362 11.4456 62.0121C9.67624 54.7328 10.1841 47.0861 12.9007 40.1044C17.4002 28.4225 25.239 19.987 36.2002 15.0336C38.156 14.1499 40.4604 13.8348 42.6886 13.5294L42.7874 13.5164C46.2953 13.0362 49.8805 12.6443 53.3481 12.2655H53.3468Z","fill","white"],["d","M24.1702 48.4609C22.3242 48.663 21.2196 49.8962 21.3555 51.6045C21.4491 52.7741 22.0882 54.1725 24.5999 54.1738C28.7892 54.1738 32.9791 54.177 37.1489 54.177H47.8085C50.3551 54.0904 52.8909 54.0081 55.4158 53.9302C62.0479 53.719 68.9108 53.5007 75.6267 53.1862C77.5897 53.0291 79.5332 52.6845 81.4305 52.1569C81.816 52.0633 82.201 51.9692 82.5852 51.8788C82.9936 51.7938 83.3804 51.6264 83.7224 51.3867C84.0638 51.147 84.3525 50.8402 84.571 50.485C84.7368 50.1976 84.8395 49.8784 84.8733 49.5484C84.9071 49.2183 84.8707 48.8849 84.766 48.57C84.5502 48.0316 84.2172 47.5479 83.7907 47.1545C83.3642 46.7611 82.8551 46.4677 82.3004 46.2958C80.8297 45.9733 79.3186 45.871 77.8173 45.9923C75.4765 46.0989 73.1 46.2411 70.8022 46.3789C67.9771 46.5478 65.0565 46.722 62.1845 46.8337C57.0173 47.0326 51.7604 47.1983 46.6771 47.3588C42.1816 47.5011 37.6861 47.6421 33.1912 47.8078C30.1281 47.9202 27.0935 48.1399 24.1702 48.4609Z","fill","white"],["id","clip0_1_999"],["width","158","height","156","viewBox","0 0 158 156","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_712)"],["d","M106.987 153.403C109.085 153.821 111.21 154.083 113.345 154.189C114.534 154.25 115.722 154.313 116.909 154.378C122.286 154.669 127.845 154.969 133.323 155C133.609 155 133.894 155 134.179 155C139.276 155 144.581 154.744 149.962 154.239C154.983 153.766 156.328 152.343 156.499 147.315C156.866 136.59 157.133 125.683 157.391 115.137L157.534 109.327C157.551 108.273 157.439 107.221 157.202 106.194C156.648 103.717 155.011 102.165 152.823 102.048C151.715 101.988 150.622 102.321 149.733 102.985C148.844 103.65 148.215 104.606 147.957 105.687C147.477 107.454 147.225 109.275 147.208 111.106C147.143 116.409 147.146 121.798 147.148 127.011C147.148 128.825 147.148 130.639 147.148 132.453C147.148 135.106 147.148 137.76 147.148 140.495V143.828L146.823 143.908C146.568 143.986 146.305 144.038 146.039 144.065C144.674 144.125 143.309 144.192 141.944 144.26C138.283 144.438 134.498 144.623 130.779 144.678C126.691 144.743 122.535 144.723 118.513 144.703C116.058 144.691 113.601 144.68 111.148 144.686C109.772 144.645 108.396 144.745 107.041 144.983C104.694 145.477 103.195 147.091 103.127 149.194C103.093 150.471 103.54 152.703 106.987 153.403Z","fill","white"],["d","M43.5595 144.771C36.5529 144.669 29.4294 144.641 22.5396 144.615C20.3338 144.607 18.1281 144.598 15.9223 144.588C14.8071 144.583 13.6918 144.584 12.4909 144.588H11.3154C11.2927 144.364 11.2707 144.158 11.2506 143.965C11.1857 143.341 11.1325 142.847 11.1163 142.374C10.9567 137.768 10.7996 133.163 10.6452 128.558C10.4333 122.28 10.2184 116.002 10.0004 109.723C9.98393 108.249 9.8595 106.778 9.62808 105.321C9.52765 104.556 9.16396 103.851 8.5998 103.327C8.03564 102.802 7.3063 102.491 6.53789 102.449C4.807 102.311 3.48875 103.216 2.83999 104.996C2.6042 105.68 2.45933 106.391 2.40918 107.113L2.33014 108.005C2.17963 109.682 2.02458 111.418 1.97852 113.14C1.63208 125.986 1.34195 137.653 1.09218 148.808C1.00784 152.552 3.21372 154.951 7.14326 155.388C8.42418 155.507 9.7106 155.556 10.9968 155.534C11.3978 155.534 11.7981 155.534 12.1984 155.54L17.9678 155.61C26.6573 155.715 35.642 155.825 44.4807 155.87H44.5222C45.9211 155.834 47.2999 155.528 48.5828 154.967C49.5334 154.64 50.3588 154.024 50.9446 153.206C51.5303 152.387 51.8475 151.407 51.8521 150.4C51.8567 149.393 51.5486 148.409 50.9704 147.585C50.3922 146.762 49.5724 146.138 48.6249 145.802C47.0104 145.162 45.2955 144.813 43.5595 144.771Z","fill","white"],["d","M5.74181 55.6845H5.84619C8.02732 55.6845 9.76346 54.0335 10.3921 51.3509C10.541 50.652 10.617 49.9395 10.619 49.2248C10.6301 48.6398 10.645 48.0547 10.6593 47.4697C10.7053 45.6308 10.7528 43.7298 10.6834 41.8533C10.487 36.5753 10.2725 31.298 10.0398 26.0213C9.87765 22.1871 9.71863 18.352 9.56293 14.5162C9.51687 13.3416 9.52855 12.1541 9.54152 10.897C9.54542 10.496 9.54924 10.0876 9.55184 9.66969C10.1052 9.66644 10.6424 9.65877 11.1673 9.65162C12.6594 9.62952 14.0743 9.61041 15.4594 9.68841C25.2453 10.2403 33.4776 10.4035 41.8498 9.38818C43.3624 9.2249 44.8293 8.77042 46.1699 8.04976C46.7312 7.74303 47.2013 7.29277 47.5323 6.74469C47.8634 6.19665 48.0437 5.57045 48.0546 4.92992C48.0574 4.27537 47.8872 3.63188 47.5612 3.06466C47.2351 2.49744 46.7649 2.02687 46.1984 1.70086C45.0505 1.06602 43.7791 0.687687 42.4714 0.591928C41.0896 0.49185 39.7032 0.472504 38.3192 0.534482C37.904 0.544882 37.4888 0.555926 37.0743 0.561776C31.1645 0.648443 25.2546 0.736775 19.3449 0.826475L5.78584 1.02992C3.56383 1.06307 2.28257 2.10365 1.87126 4.21485C1.54904 5.78135 1.37207 7.37454 1.34256 8.97367C1.23746 19.6792 1.15562 31.446 1.08296 46.004C1.04293 47.7067 1.13316 49.4098 1.35285 51.0986C1.77844 53.9138 3.41795 55.6286 5.74181 55.6845Z","fill","white"],["d","M146.662 16.5955C146.485 18.7619 146.302 21.0033 146.172 23.2139L145.995 26.1456C145.694 31.0778 145.383 36.1777 145.315 41.2048C145.322 43.4102 145.851 45.5826 146.858 47.5435C147.158 48.2106 147.636 48.7823 148.239 49.1961C148.841 49.61 149.545 49.8501 150.275 49.8906H150.328C151.065 49.859 151.779 49.6287 152.395 49.2241C153.012 48.8194 153.509 48.2553 153.832 47.5915C154.875 45.669 155.509 43.5501 155.692 41.3691C156.645 29.803 156.043 18.069 155.461 6.72394L155.391 5.34271C155.261 2.85256 153.95 1.24802 151.591 0.698766C149.82 0.242304 147.998 0.0214045 146.171 0.0421018C136.86 0.341752 127.037 0.730363 115.258 1.26466C113.865 1.36094 112.496 1.66948 111.196 2.17936C110.475 2.4362 109.865 2.93494 109.468 3.59108C109.072 4.24721 108.914 5.02043 109.022 5.77975C109.02 6.55995 109.324 7.30966 109.867 7.86846C110.411 8.42727 111.151 8.75077 111.93 8.76982C112.325 8.81207 112.72 8.8601 113.115 8.9082C114.146 9.033 115.212 9.16229 116.279 9.19349C118.723 9.26499 121.206 9.30405 123.61 9.34175C125.271 9.36775 126.93 9.39356 128.59 9.43061C132.912 9.52551 137.233 9.63211 141.715 9.74196L147.014 9.87209C147.014 10.0827 147.019 10.2803 147.022 10.4688C147.033 11.1636 147.041 11.7121 147.003 12.2484C146.896 13.6953 146.779 15.1453 146.662 16.5955Z","fill","white"],["id","clip0_1_712"],["width","157","height","156","fill","white","transform","translate(0.777344)"],[1,"remover"],["width","120","height","141","viewBox","0 0 120 141","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_576)"],["d","M11.5447 32.2823C9.35739 31.9305 7.54846 31.7222 5.77836 31.3361C2.60934 30.6453 0.988722 29.1086 0.949918 26.938C0.90982 24.6587 2.59503 22.7092 5.87594 22.292C10.5616 21.6963 15.3056 21.5295 20.03 21.2921C22.5846 21.1628 25.1507 21.2695 28.1082 21.2695C27.6794 19.2916 27.3724 17.7509 27.009 16.2245C26.2431 13.1665 26.6502 9.93253 28.1499 7.15974C30.1548 3.31135 33.21 0.966791 37.5696 0.821263C45.5318 0.555646 53.4971 0.406041 61.4658 0.372408C66.7409 0.347184 72.0177 0.592906 77.2931 0.718385C78.0466 0.736495 78.8026 0.733267 79.5535 0.788891C84.9344 1.18602 88.3776 3.94844 89.6148 9.22106C90.1749 11.6084 90.2467 14.1134 90.4976 16.5699C90.627 17.8376 90.6645 19.1143 90.7563 20.58C91.6242 20.7109 92.4993 20.7908 93.3769 20.8193C99.1891 20.655 104.999 20.4131 110.812 20.2863C112.31 20.2218 113.809 20.3725 115.263 20.734C116.431 21.0072 117.48 21.649 118.255 22.5645C119.03 23.48 119.49 24.6206 119.567 25.8177C119.768 27.0519 119.583 28.318 119.038 29.4433C118.493 30.5687 117.614 31.4986 116.521 32.1065C115.619 32.6562 114.629 33.0624 113.507 33.6199C113.507 36.7542 113.401 39.8628 113.525 42.9615C114.263 61.3478 115.277 79.7315 114.594 98.1391C114.347 104.796 113.896 111.473 112.986 118.065C112.481 121.727 111.006 125.296 109.663 128.789C109.028 130.464 108.025 131.975 106.728 133.211C105.431 134.447 103.872 135.375 102.169 135.928C99.021 137.007 95.7892 137.824 92.507 138.369C89.5152 138.752 86.5046 138.965 83.4895 139.006C71.7674 139.589 60.049 140.279 48.3204 140.659C43.3759 140.869 38.4226 140.655 33.5146 140.02C20.8883 138.243 14.0256 131.285 12.0272 118.648C11.4351 115.148 11.1059 111.607 11.0423 108.058C10.9086 87.7206 10.8602 67.383 10.8973 47.0453C10.9038 42.2177 11.3093 37.3887 11.5447 32.2823ZM21.213 33.0682C21.795 43.107 22.2262 92.2559 23.389 107.055C23.7318 111.419 24.7369 115.741 25.5971 120.052C26.4547 124.348 29.3579 126.846 33.5196 127.519C38.1762 128.271 42.9124 128.996 47.6077 128.961C59.3402 128.874 71.0741 128.47 82.7969 127.939C87.2853 127.736 91.751 126.893 96.2122 126.238C97.0251 126.136 97.7857 125.78 98.3839 125.22C98.9828 124.66 99.389 123.925 99.5455 123.121C100.163 120.625 100.962 118.14 101.257 115.602C102.951 101.021 102.602 86.3863 102.154 71.7566C101.802 60.2522 101.392 48.7496 101.003 37.2464C100.968 36.2116 100.897 35.1728 100.849 34.268C73.4017 33.8676 48.8907 33.4724 21.2148 33.0682H21.213ZM38.4807 21.0379C52.0098 21.5275 65.2706 21.5062 78.617 20.8833V11.9383C65.1232 11.4855 51.8792 10.9991 38.4807 12.3115V21.0379Z","fill","white"],["d","M82.2127 77.7577C82.0717 70.8105 81.7412 63.7697 81.4211 56.9597L81.4146 56.8303C81.2995 54.3613 81.1869 51.8924 81.0757 49.4233C81.0265 48.5606 80.8642 47.7079 80.5939 46.8872C80.0008 45.0115 78.6627 44.0226 76.9308 44.1862C75.8817 44.2729 74.0748 44.8129 73.7533 47.4479C73.7016 47.922 73.6757 48.3986 73.6757 48.8754C73.5722 57.4389 72.7903 85.75 72.7826 86.0385C72.6364 92.8447 72.4851 99.8798 72.3816 106.859C72.3279 108.781 72.5012 110.703 72.899 112.583C73.0911 113.579 73.6285 114.476 74.4162 115.115C75.2046 115.754 76.1928 116.094 77.2069 116.076C77.3259 116.076 77.4462 116.072 77.5671 116.063C78.5689 116.035 79.5281 115.652 80.2737 114.982C81.0188 114.312 81.5019 113.4 81.6364 112.406C81.9915 110.339 82.1862 108.247 82.2185 106.15L82.2534 101.336C82.3103 93.6124 82.3724 85.6265 82.2127 77.7577Z","fill","white"],["d","M47.6009 44.6397H47.5977C46.9524 44.6372 46.3162 44.7915 45.7437 45.0896C45.1713 45.3876 44.6798 45.8204 44.3116 46.3504C43.6881 47.4661 43.3363 48.7129 43.2847 49.9899C43.1747 51.7201 43.0594 53.4495 42.9417 55.2211C42.5375 61.3145 42.1185 67.6158 41.9388 73.8347C41.6801 82.6789 41.5928 91.666 41.5055 100.358C41.4792 103.018 41.451 105.678 41.4209 108.338C41.4194 109.427 41.5716 110.511 41.8734 111.557C42.579 114.058 44.2768 115.611 46.3037 115.611H46.3684C48.4916 115.575 50.1884 113.898 50.6897 111.339C50.9368 109.985 51.0413 108.609 51.0011 107.234C50.8885 100.171 50.7505 93.1097 50.6199 86.4012L50.5015 80.3356L50.6369 73.1316C50.7844 65.3281 50.9233 57.9518 51.0351 50.539C51.1015 49.296 50.9174 48.0524 50.4939 46.882C50.2341 46.2985 49.834 45.7884 49.3292 45.3972C48.8245 45.0059 48.2307 44.7458 47.6009 44.6397Z","fill","white"],["id","clip0_1_576"],["width","119","height","141","fill","white","transform","translate(0.777344)"]],template:function(i,o){if(i&1&&Z(0,mT,24,9,"ng-container",6)(1,_T,24,9,"ng-template",null,0,pe)(3,wT,7,0,"ng-template",null,1,pe)(5,bT,7,0,"ng-template",null,2,pe)(7,DT,9,0,"ng-template",null,3,pe)(9,xT,9,0,"ng-template",null,4,pe),i&2){let s=ce(2);A("ngIf",o.active)("ngIfElse",s)}},dependencies:[ie,Je,St,Ql,ST,G8],styles:['.container[_ngcontent-%COMP%]{width:100%;display:grid;height:100%;grid-template-areas:"canvas" "slider" "buttons";grid-template-rows:auto 32px 33px}.canvas[_ngcontent-%COMP%]{grid-area:canvas;height:135px}.canvas-fake[_ngcontent-%COMP%]{margin:0;padding:9px 16px;display:flex;justify-content:center;align-items:center;height:117px;width:208px}.canvas-fake[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:117px;width:117px;outline:1px solid orange;outline-offset:-1px}.slidercontainer[_ngcontent-%COMP%]{grid-area:slider;display:flex;padding:6px 16px;background-color:var(--background-subheader)}.slidercontainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{line-height:20px;text-align:center}.percent[_ngcontent-%COMP%]{width:50px;line-height:20px;margin-top:auto;margin-bottom:auto}.zoomin[_ngcontent-%COMP%]{width:20px}.zoomin[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{margin:0}.zoomout[_ngcontent-%COMP%]{width:20px}.zoomout[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{margin:0}.slider[_ngcontent-%COMP%]{margin:auto 8px;width:110px;width:100%;cursor:pointer;-webkit-appearance:none;appearance:none;height:5px;background:#3c3e42}input[type=range][_ngcontent-%COMP%]:focus{outline:none}input[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:#3c3e42;height:5px}input[type=range][_ngcontent-%COMP%]::-moz-range-track{background:#3c3e42;height:5px}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;margin-top:-6px;background-color:var(--accent);height:16px;width:16px;border-radius:50px}input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{border:none;background-color:var(--accent);height:16px;width:16px;border-radius:50px}.buttons[_ngcontent-%COMP%]{grid-area:buttons;height:32px;background-color:var(--background-subheader);display:grid;grid-template-columns:50px auto repeat(4,32px);gap:4px;padding-right:16px;padding-left:16px;border-bottom:1px solid rgba(0,0,0,.5)}.zoomer[_ngcontent-%COMP%]{text-align:center;margin-top:auto;margin-bottom:auto;opacity:.5;cursor:pointer}.spacer[_ngcontent-%COMP%]{width:100%}svg[_ngcontent-%COMP%]{margin-top:6px;margin-left:6px;height:20px;width:20px;opacity:.5;cursor:pointer}']});let t=e;return t})();var ns=(()=>{let e=class e{constructor(){this.mouseoverCutID=new Qe(""),this.mouseoverCutID$=this.mouseoverCutID.pipe($t(),gr()),this.mouseoverCoords=new Qe(null),this.mouseoverCoords$=this.mouseoverCoords.pipe($t(),gr())}updateMouseoverCutID(n){this.mouseoverCutID.next(n)}updateMouseoverCoords(n){this.mouseoverCoords.next(n)}getMouseoverCoords(){return this.mouseoverCoords.value}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ET=["canvas"];function IT(t,e){t&1&&me(0)}function MT(t,e){if(t&1&&(He(0),Z(1,IT,1,0,"ng-container",12),$e()),t&2){R();let r=ce(14);O(),A("ngTemplateOutlet",r)}}function TT(t,e){t&1&&(Ve(),y(0,"svg",13),k(1,"path",14)(2,"path",15),w())}function AT(t,e){t&1&&(Ve(),y(0,"svg",16)(1,"g",17),k(2,"path",18)(3,"path",19)(4,"path",20),w(),y(5,"defs")(6,"clipPath",21),k(7,"rect",22),w()()())}var OT=(()=>{let e=class e{transform(n,...i){return`w: ${n.absolute.width}, h: ${n.absolute.height}`}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=_r({name:"cutSize",type:e,pure:!0,standalone:!0});let t=e;return t})(),q8=(()=>{let e=class e{constructor(n,i){this.store=n,this.canvasService=i}ngOnChanges(n){this.drawCut()}ngAfterViewInit(){this.drawCut()}drawCut(){if(!this.canvasRef)return;let i=this.canvasRef.nativeElement.getContext("2d");if(!i)return;i.clearRect(0,0,i.canvas.width,i.canvas.height),i.imageSmoothingEnabled=!1;let o=this.activeCanvas.canvas,s=this.cut.absolute,a=s.x,l=s.y,c=s.width,u=s.height;if(c===u)i.drawImage(o,a,l,c,u,0,0,40,40);else if(c>u){let h=u/c*40,g=(40-h)/2;i.drawImage(o,a,l,c,u,0,g,40,h)}else{let d=c/u*40,f=(40-d)/2;i.drawImage(o,a,l,c,u,f,0,d,40)}}cutClicked(n){n.preventDefault(),n.stopPropagation(),this.cut.selected?this.store.selectCut(this.activeCanvas.id,void 0):this.store.selectCut(this.activeCanvas.id,this.cut)}eyeClicked(n){n.preventDefault(),n.stopPropagation();let i=M({},this.cut);i.visible=!this.cut.visible,this.store.updateCut(this.activeCanvas.id,i)}mouseover(n){let i=n?this.cut.id:"";this.canvasService.updateMouseoverCutID(i)}};e.\u0275fac=function(i){return new(i||e)(Q(_e),Q(ns))},e.\u0275cmp=oe({type:e,selectors:[["app-layers-cut"]],viewQuery:function(i,o){if(i&1&&Dr(ET,5),i&2){let s;Qn(s=Jn())&&(o.canvasRef=s.first)}},inputs:{cut:"cut",activeCanvas:"activeCanvas"},standalone:!0,features:[gn,se],decls:17,vars:10,consts:[["konva",""],["canvas",""],["eye",""],["eyeclosed",""],[1,"container",3,"click","mouseenter","mouseleave"],[1,"canvas"],["width","40","height","40"],[1,"main"],[1,"title","prevent-select"],[1,"size","prevent-select"],[1,"eye",3,"click","tooltip","position"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["width","24","height","15","viewBox","0 0 24 15","fill","none","xmlns","http://www.w3.org/2000/svg",1,"eye-normal"],["d","M12.4595 0.0192124C14.63 0.0802182 16.7069 0.559648 18.6372 1.56577C20.0555 2.29945 21.3561 3.24309 22.4956 4.36518C22.8344 4.71936 23.1541 5.09165 23.4531 5.48044C23.8222 5.93446 23.8842 6.49565 23.9092 7.04691C23.9055 7.29295 23.8339 7.53313 23.7024 7.74063C22.4448 9.84507 20.7984 11.5273 18.5446 12.5677C15.3568 14.0392 12.0887 14.3783 8.71694 13.3252C6.24358 12.5523 3.93249 11.4497 1.89889 9.8067C1.321 9.33973 0.798444 8.82492 0.433833 8.17135C0.292525 7.89987 0.168601 7.6196 0.0628248 7.33224C-0.0617866 7.0212 0.0147302 6.71933 0.178119 6.45149C0.31175 6.24537 0.465515 6.05317 0.637145 5.87777C1.84651 4.56934 3.19483 3.39809 4.65801 2.38496C6.02436 1.44152 7.56359 0.780481 9.18626 0.440257C10.2593 0.210774 11.343 -0.0286229 12.4595 0.0192124ZM1.4656 7.16838C1.83073 7.79835 2.38451 8.18441 2.93945 8.56646C4.8758 9.89963 6.99799 10.8208 9.25913 11.43C11.6382 12.071 13.9753 11.8831 16.2914 11.0943C18.627 10.2985 20.4504 8.80438 22.0162 6.94407C22.0613 6.90189 22.0932 6.84746 22.108 6.78739C22.1139 6.67149 22.1365 6.51619 22.0747 6.44455C21.3538 5.60901 20.6171 4.78612 19.6957 4.16278C15.4583 1.29783 11.0243 1.12555 6.47636 3.28951C4.70088 4.13422 3.15902 5.36519 1.71829 6.70816C1.59368 6.82343 1.54431 7.01897 1.46508 7.16838H1.4656Z","fill","white"],["d","M15.3756 6.68239C15.3849 7.27764 15.1745 7.85525 14.7852 8.30383C13.986 9.22945 13.0007 9.76837 11.7402 9.6884C11.3276 9.6691 10.9247 9.55614 10.5618 9.35795C10.1989 9.15976 9.88526 8.88152 9.64453 8.54409C9.40382 8.20665 9.24222 7.8188 9.1719 7.40962C9.10157 7.00044 9.12434 6.58054 9.23847 6.18147C9.373 5.71024 9.58398 5.26456 9.86289 4.86241C11.1087 3.10736 13.4096 3.38468 14.546 4.44433C15.1695 5.02583 15.3884 5.77236 15.3756 6.68239ZM12.1772 5.63991C11.6187 5.60998 11.1103 5.89341 10.9889 6.25028C10.8449 6.67395 10.8545 7.09529 11.1609 7.45901C11.2387 7.55171 11.3338 7.62831 11.4407 7.6845C11.6563 7.80217 11.9006 7.8559 12.1453 7.83949C12.3901 7.82307 12.6251 7.73718 12.8232 7.59177C13.5485 7.1034 13.4967 6.20929 12.7212 5.8322C12.5448 5.75469 12.363 5.69043 12.1772 5.63991Z","fill","white"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"eye-closed"],["clip-path","url(#clip0_40_26)"],["d","M6.16435 5.58635C6.16435 5.25874 5.92896 5.04813 5.76075 4.80592C5.27342 4.10452 4.7666 3.41594 4.29498 2.70422C3.91035 2.15093 3.63995 1.52717 3.49944 0.869124C3.47756 0.749184 3.48467 0.625797 3.52026 0.509155C3.55586 0.392512 3.61893 0.285985 3.70413 0.198392C3.78646 0.1096 3.89374 0.0475394 4.01204 0.0203287C4.13035 -0.00688204 4.25414 0.00200585 4.3673 0.0458353C4.7186 0.20015 4.96246 0.472402 5.19733 0.751315C6.1414 1.87239 7.08073 2.99748 8.01531 4.12661C8.91326 5.20671 9.82419 6.27661 10.6996 7.37433C11.651 8.56724 12.5675 9.78756 13.5003 10.9951C13.7617 11.3334 14.0119 11.6816 14.2932 12.0027C15.5423 13.4287 16.6627 14.9535 17.805 16.4629C18.2466 17.0462 18.7433 17.5879 19.1914 18.1666C20.2373 19.5176 21.2741 20.8756 22.302 22.2405C22.543 22.5611 22.4463 23.0322 22.1519 23.2118C22.0159 23.2827 21.8615 23.3104 21.7092 23.2913C21.557 23.2721 21.4144 23.2067 21.3007 23.1043C21.1283 22.9325 20.9628 22.7531 20.8019 22.5706C19.429 21.0126 18.0564 19.4544 16.6842 17.8959C16.6066 17.8009 16.5051 17.7281 16.3899 17.6851C16.2747 17.6419 16.1501 17.63 16.0287 17.6505C15.6066 17.7205 15.1875 17.8084 14.7665 17.886C12.4758 18.3086 10.254 17.9946 8.07881 17.2452C6.16007 16.584 4.33595 15.7268 2.68634 14.5368C2.18646 14.1854 1.71473 13.7958 1.27538 13.3719C0.934333 13.0234 0.637852 12.6344 0.392639 12.2137C-0.14668 11.3159 -0.0829795 10.898 0.657667 10.0965C2.03039 8.616 3.59367 7.32234 5.30689 6.24908C5.61176 6.05682 5.9887 5.95086 6.16435 5.58635ZM9.52374 9.39207C9.03379 8.61539 8.40706 7.95572 7.74429 7.332C7.63372 7.22773 7.39946 7.21199 7.2279 7.22564C7.04663 7.25167 6.87221 7.31258 6.71437 7.40497C4.91699 8.33753 3.30146 9.52783 1.79008 10.8638C1.73106 10.9115 1.68235 10.9705 1.64685 11.0374C1.61136 11.1043 1.58981 11.1776 1.58355 11.253C1.57728 11.3283 1.5864 11.4043 1.61037 11.476C1.63434 11.5477 1.67264 11.6139 1.723 11.6707C2.12844 12.126 2.59636 12.5223 3.11292 12.8479C4.90444 14.0395 6.85617 14.8915 8.91503 15.498C10.5761 15.9869 12.2765 16.0743 13.9929 15.8546C14.1222 15.8428 14.2461 15.7973 14.3521 15.7226C14.458 15.6478 14.5422 15.5466 14.5961 15.429C14.4274 15.2062 14.2434 14.9671 14.0637 14.7249C13.6068 14.1092 13.0949 13.6197 12.2269 13.8655C12.1058 13.882 11.9832 13.8828 11.8621 13.8675C10.5631 13.8686 8.99042 12.7977 9.21533 10.8256C9.2693 10.3508 9.41454 9.88672 9.52374 9.39167V9.39207Z","fill","white"],["d","M19.3487 16.197C18.9056 15.9579 18.6174 15.5789 18.3577 15.1445C18.2764 15.0113 18.245 14.8537 18.2691 14.6997C18.2933 14.5457 18.3715 14.4051 18.4898 14.303C18.5418 14.2581 18.5973 14.2173 18.6558 14.1812C19.3337 13.7657 19.9611 13.2735 20.5252 12.7144C22.7238 10.5486 22.6044 11.0792 20.5252 9.04304C19.2362 7.78141 17.6057 7.05614 15.8813 6.56317C14.8205 6.25997 13.7362 6.07196 12.6231 6.11482C12.3176 6.1267 12.0113 6.11981 11.7056 6.12721C11.2432 6.13858 10.8798 5.93142 10.58 5.60736C10.4162 5.43011 10.2845 5.22335 10.1376 5.03045C10.0467 4.91086 10.1577 4.63935 10.3079 4.58972C11.5006 4.1957 12.7232 4.23823 13.9415 4.38576C17.2847 4.79074 20.0949 6.30427 22.5232 8.56831C22.9205 8.93867 23.2471 9.3894 23.5763 9.82544C23.8264 10.1768 23.9585 10.5979 23.9536 11.0285C23.9585 11.265 23.9512 11.5424 23.8363 11.7343C22.7625 13.5305 21.5232 15.1765 19.5679 16.1279C19.4964 16.1557 19.4232 16.1787 19.3487 16.197Z","fill","white"],["d","M15.4976 10.6657C15.4679 10.9017 15.292 11.4323 15.2042 11.3237C14.5176 10.4791 13.4808 9.24302 12.8225 8.37615C12.7955 8.33057 12.7803 8.27899 12.7783 8.22609C12.7763 8.1732 12.7875 8.12065 12.811 8.07315C12.8526 8.03201 12.9028 8.0004 12.9579 7.98049C13.0131 7.9606 13.072 7.95289 13.1303 7.95794C13.6733 8.04394 14.1783 8.28842 14.5813 8.66039C15.2023 9.22593 15.5848 9.97362 15.4976 10.6657Z","fill","white"],["id","clip0_40_26"],["width","24","height","23.3557","fill","white"]],template:function(i,o){if(i&1){let s=ye();y(0,"div",4),z("click",function(l){return q(s),W(o.cutClicked(l))})("mouseenter",function(){return q(s),W(o.mouseover(!0))})("mouseleave",function(){return q(s),W(o.mouseover(!1))}),y(1,"div",5,0),k(3,"canvas",6,1),w(),y(5,"div",7)(6,"div",8),j(7),w(),y(8,"div",9),j(9),Re(10,"cutSize"),w()(),y(11,"div",10),z("click",function(l){return q(s),W(o.eyeClicked(l))}),Z(12,MT,2,1,"ng-container",11),w()(),Z(13,TT,3,0,"ng-template",null,2,pe)(15,AT,8,0,"ng-template",null,3,pe)}if(i&2){let s=ce(16);Rt("selected",o.cut.selected),O(7),Cn(o.cut.name),O(2),Cn(Pe(10,8,o.cut)),O(2),A("tooltip","Toggle Visibility")("position","top"),O(),A("ngIf",o.cut.visible)("ngIfElse",s)}},dependencies:[ie,Je,St,OT,en,rr],styles:['.container[_ngcontent-%COMP%]{width:240px;height:48px;display:grid;grid-template-areas:"canvas title eye" "canvas size eye";grid-template-columns:48px auto 64px;cursor:pointer;border-bottom:1px solid rgba(0,0,0,.5)}.container[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--accent)}.main[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.title[_ngcontent-%COMP%]{grid-area:title;font-size:14px;font-weight:500;line-height:17px;padding-top:5.5px;padding-bottom:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:112px}.size[_ngcontent-%COMP%]{grid-area:size;font-size:12px;line-height:15px;font-style:italic;padding-bottom:5.5px;color:#ffffff80}.eye[_ngcontent-%COMP%]{grid-area:eye;height:48px;margin-right:16px}.eye-normal[_ngcontent-%COMP%]{line-height:48px;width:24px;height:14px;margin:17px 12px}.eye-closed[_ngcontent-%COMP%]{line-height:48px;width:24px;height:24.36px;margin:11.82px 12px}.canvas[_ngcontent-%COMP%]{grid-area:canvas;padding:4px}']});let t=e;return t})();function NT(t,e){if(t&1&&(He(0),k(1,"app-layers-cut",14),$e()),t&2){let r=e.$implicit,n=R().ngIf;O(),A("cut",r)("activeCanvas",n)}}function RT(t,e){if(t&1&&(He(0),Z(1,NT,2,2,"ng-container",13),$e()),t&2){let r=R().ngIf;O(),A("ngForOf",r.cuts)}}function PT(t,e){if(t&1&&(He(0),Z(1,RT,2,1,"ng-container",12),Re(2,"async"),$e()),t&2){let r=R(),n=ce(13);O(),A("ngIf",Pe(2,2,r.activeCanvas$))("ngIfElse",n)}}function FT(t,e){t&1&&me(0)}function kT(t,e){t&1&&me(0)}function LT(t,e){t&1&&me(0)}function VT(t,e){t&1&&me(0)}function jT(t,e){t&1&&j(0,` NO CANVAS ENTITY
`)}function UT(t,e){if(t&1){let r=ye();y(0,"div",15),z("click",function(){q(r);let i=R();return W(i.adderClicked())}),Ve(),y(1,"svg",16)(2,"g",17),k(3,"path",18)(4,"path",19),w(),y(5,"defs")(6,"clipPath",20),k(7,"rect",21),w()()()()}t&2&&A("tooltip","Add Cut")("position","top")}function BT(t,e){if(t&1){let r=ye();y(0,"div",22),z("click",function(){q(r);let i=R();return W(i.removerClicked())}),Ve(),y(1,"svg",23)(2,"g",24),k(3,"path",25)(4,"path",26)(5,"path",27),w(),y(6,"defs")(7,"clipPath",28),k(8,"rect",29),w()()()()}t&2&&A("tooltip","Remove Cut")("position","top")}function HT(t,e){if(t&1){let r=ye();y(0,"div",30),z("click",function(){q(r);let i=R();return W(i.duplicateClicked())}),Ve(),y(1,"svg",31)(2,"g",32),k(3,"path",33),w(),y(4,"defs")(5,"clipPath",34),k(6,"rect",35),w()()()()}t&2&&A("tooltip","Duplicate Cut")("position","top")}function $T(t,e){if(t&1){let r=ye();y(0,"div",36),z("click",function(){q(r);let i=R();return W(i.zoomClicked())}),Ve(),y(1,"svg",37)(2,"g",38),k(3,"path",39)(4,"path",40)(5,"path",41)(6,"path",42),w(),y(7,"defs")(8,"clipPath",43),k(9,"rect",44),w()()()()}t&2&&A("tooltip","Zoom Selected Cut")("position","top")}var W8=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$.pipe(Dt(i=>{this.active=i})),this.activeCanvas$=n.activeCanvas$}adderClicked(){this.active&&(console.log("Adder",this.active),this.store.addNewCut(this.active.id))}removerClicked(){if(!this.active)return;console.log("Remover",this.active);let n=this.active.cuts?.find(i=>i.selected);this.active.cuts&&n&&this.store.removeCut(this.active.id,n.id)}duplicateClicked(){if(this.active){console.log("Duplicate");let n=this.active.cuts?.find(i=>i.selected);this.active.cuts&&n&&this.store.duplicateCut(this.active.id,n.id)}}zoomClicked(){if(!this.active)return;console.log("zoomClicked");let n=this.active.cuts?.find(i=>i.selected);this.active.cuts&&n&&this.store.zoomCut(this.active.id,n)}bgClicked(n){this.active&&this.store.selectCut(this.active.id,void 0)}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-layers-cuts"]],standalone:!0,features:[se],decls:22,vars:7,consts:[["error",""],["add",""],["remove",""],["duplicate",""],["zoom",""],[1,"container"],[1,"header"],[1,"header-text","prevent-select"],[1,"cuts",3,"click"],[4,"ngIf"],[1,"buttons"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[3,"cut","activeCanvas"],[1,"adder",3,"click","tooltip","position"],["width","138","height","164","viewBox","0 0 138 164","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_589)"],["d","M137.273 82.673C137.273 97.0745 137.192 111.477 137.315 125.878C137.257 131.183 136.718 136.472 135.704 141.679C135.346 143.92 134.553 146.067 133.372 148.001C128.405 155.697 121.501 160.577 112.222 161.587C91.9284 163.816 71.465 164.02 51.1311 162.199C43.2342 161.486 35.2579 161.444 27.5523 159.315C23.8951 158.401 20.3171 157.194 16.8527 155.706C7.92056 151.593 2.80505 144.479 1.616 134.664C1.2437 131.655 1.05786 128.625 1.05958 125.593C1.16944 96.0341 1.35943 66.472 1.47704 36.911C1.53559 30.8429 2.38153 24.808 3.99348 18.959C5.06943 14.908 7.15491 11.1983 10.0538 8.17847C13.7054 4.23851 18.7609 1.90477 24.1195 1.68615C34.3047 1.17405 44.4892 0.555105 54.6821 0.331468C64.5003 0.116259 74.3316 0.206058 84.1504 0.425156C90.9403 0.576192 97.7296 1.06481 104.498 1.64627C106.373 1.80769 108.171 2.46653 109.709 3.55485C119.117 10.6029 127.839 18.4142 135.282 27.5846C136.961 29.6492 137.818 32.2647 137.688 34.9258C137.483 49.3241 137.407 63.7254 137.289 78.1251C137.277 79.6412 137.289 81.1568 137.289 82.673H137.273ZM12.4344 82.203C11.3675 98.0702 11.2945 113.953 11.2712 129.836C11.3269 133.244 11.8445 136.628 12.8099 139.896C13.3125 141.922 14.2457 143.815 15.5454 145.445C16.8452 147.076 18.4808 148.405 20.3404 149.343C22.3187 150.443 24.4302 151.281 26.6223 151.839C31.7689 152.976 36.9239 154.064 42.2352 154.358C62.9437 155.613 83.7077 155.647 104.421 154.461C107.053 154.297 109.695 154.112 112.299 153.717C115.3 153.231 118.098 151.891 120.362 149.857C123.238 147.384 125.384 144.168 126.566 140.557C128.419 135.061 128.44 129.408 128.44 123.727C128.436 99.141 128.432 74.5553 128.429 49.9698C128.429 46.9439 128.419 43.9173 128.343 40.8947C128.278 38.3095 126.856 37.0384 123.956 36.9528C118.679 36.7972 113.397 36.7643 108.123 36.5166C106.252 36.3845 104.402 36.0368 102.611 35.4797C101.691 35.243 100.858 34.7459 100.212 34.0478C99.5655 33.3498 99.1325 32.4801 98.9651 31.5423C98.6394 29.6825 98.4785 27.7972 98.4843 25.909C98.4326 21.3773 98.4902 16.8445 98.5134 12.3115C98.5173 11.5064 97.272 9.87169 96.598 9.77122C95.8626 9.61065 95.1175 9.49851 94.3679 9.43635C76.2697 9.17706 58.1707 8.9376 40.0716 8.71721C37.0615 8.68545 34.0476 9.00009 31.0342 9.13881C27.2124 9.31383 23.6077 10.4446 20.0871 11.802C17.589 12.7597 15.5152 14.5825 14.2407 16.9409C12.5838 19.9486 11.4509 23.1169 11.8393 26.6743C12.2496 30.434 12.8577 34.2002 12.8513 37.9631C12.8241 52.7076 12.5902 67.4553 12.4344 82.203ZM109.153 17.636C108.763 18.2309 108.47 18.8853 108.288 19.5736C108.114 21.4243 108.067 23.2915 108.076 25.1525C108.05 25.6142 108.116 26.0763 108.272 26.5117C108.427 26.9469 108.668 27.3468 108.98 27.6871C109.292 28.0276 109.669 28.3017 110.088 28.4937C110.507 28.6856 110.961 28.7913 111.422 28.8045C114.007 28.8466 116.595 28.7452 119.18 28.6544C119.332 28.6177 119.473 28.5453 119.592 28.443C119.711 28.3407 119.803 28.2111 119.863 28.0657C119.927 27.8917 119.956 27.7067 119.947 27.5213C119.94 27.3359 119.895 27.1536 119.816 26.9858C117.187 23.3863 113.949 20.2784 110.247 17.8043C109.975 17.615 109.523 17.6865 109.153 17.636Z","fill","white"],["d","M52.63 92.2501C56.3898 92.2501 60.1495 92.2806 63.9086 92.2346C64.652 92.1568 65.3482 91.8333 65.887 91.3134C66.4254 90.7936 66.7756 90.1084 66.8809 89.3662C67.1226 84.4663 67.2635 79.5612 67.5556 74.6652C67.6028 72.7853 67.9072 70.9211 68.4603 69.1242C68.6348 68.5836 68.9683 68.1091 69.4174 67.7636C69.8672 67.4174 70.4106 67.2171 70.9761 67.1886C71.5415 67.1601 72.1025 67.3046 72.5845 67.6035C73.066 67.9016 73.446 68.3405 73.6728 68.861C74.2705 70.2404 74.5969 71.7223 74.6337 73.2255C74.9232 76.9903 75.0447 80.7688 75.2696 84.5389C75.3375 85.6674 75.5094 86.7908 75.6625 87.9096C76.027 90.581 77.5618 92.1717 80.0375 92.1574C83.7972 92.1354 87.5557 91.8981 91.3154 91.8612C94.3107 91.834 97.3615 91.7691 100.104 93.2309C100.583 93.4856 100.757 94.4366 100.925 95.1042C100.954 95.2922 100.939 95.4847 100.882 95.6662C100.825 95.8471 100.726 96.0131 100.595 96.1505C100.072 96.6898 99.4197 97.0846 98.6998 97.2972C96.4716 97.6018 94.2189 97.7788 91.9707 97.8773C87.8348 98.0575 83.6951 98.1113 79.5599 98.2896C78.6235 98.3881 77.7537 98.8218 77.1088 99.5102C76.4645 100.199 76.0884 101.098 76.0496 102.042C75.7265 107.696 75.5042 113.355 75.1623 119.007C75.0492 120.876 74.7184 122.734 74.4366 124.589C74.2499 125.82 72.2136 127.291 71.095 127.104C69.884 126.901 68.1379 125.324 67.9834 124.155C67.7378 122.293 67.4664 120.423 67.4018 118.55C67.2008 112.893 67.1116 107.232 66.9359 101.573C66.868 100.825 66.5514 100.122 66.037 99.577C65.5226 99.0312 64.8399 98.6746 64.0992 98.5651C59.5911 98.3278 55.0792 98.1625 50.5718 97.9169C47.5701 97.7516 44.5703 97.5286 41.575 97.2622C40.0241 97.1254 38.2664 95.2806 38.753 94.3452C38.9799 93.8422 39.3438 93.4137 39.8026 93.1084C40.2614 92.8037 40.7967 92.6339 41.3469 92.6203C45.106 92.5872 48.8658 92.6086 52.6249 92.6086L52.63 92.2501Z","fill","white"],["id","clip0_1_589"],["width","137","height","164","fill","white","transform","translate(0.777344)"],[1,"remover",3,"click","tooltip","position"],["width","120","height","141","viewBox","0 0 120 141","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_576)"],["d","M11.5447 32.2823C9.35739 31.9305 7.54846 31.7222 5.77836 31.3361C2.60934 30.6453 0.988722 29.1086 0.949918 26.938C0.90982 24.6587 2.59503 22.7092 5.87594 22.292C10.5616 21.6963 15.3056 21.5295 20.03 21.2921C22.5846 21.1628 25.1507 21.2695 28.1082 21.2695C27.6794 19.2916 27.3724 17.7509 27.009 16.2245C26.2431 13.1665 26.6502 9.93253 28.1499 7.15974C30.1548 3.31135 33.21 0.966791 37.5696 0.821263C45.5318 0.555646 53.4971 0.406041 61.4658 0.372408C66.7409 0.347184 72.0177 0.592906 77.2931 0.718385C78.0466 0.736495 78.8026 0.733267 79.5535 0.788891C84.9344 1.18602 88.3776 3.94844 89.6148 9.22106C90.1749 11.6084 90.2467 14.1134 90.4976 16.5699C90.627 17.8376 90.6645 19.1143 90.7563 20.58C91.6242 20.7109 92.4993 20.7908 93.3769 20.8193C99.1891 20.655 104.999 20.4131 110.812 20.2863C112.31 20.2218 113.809 20.3725 115.263 20.734C116.431 21.0072 117.48 21.649 118.255 22.5645C119.03 23.48 119.49 24.6206 119.567 25.8177C119.768 27.0519 119.583 28.318 119.038 29.4433C118.493 30.5687 117.614 31.4986 116.521 32.1065C115.619 32.6562 114.629 33.0624 113.507 33.6199C113.507 36.7542 113.401 39.8628 113.525 42.9615C114.263 61.3478 115.277 79.7315 114.594 98.1391C114.347 104.796 113.896 111.473 112.986 118.065C112.481 121.727 111.006 125.296 109.663 128.789C109.028 130.464 108.025 131.975 106.728 133.211C105.431 134.447 103.872 135.375 102.169 135.928C99.021 137.007 95.7892 137.824 92.507 138.369C89.5152 138.752 86.5046 138.965 83.4895 139.006C71.7674 139.589 60.049 140.279 48.3204 140.659C43.3759 140.869 38.4226 140.655 33.5146 140.02C20.8883 138.243 14.0256 131.285 12.0272 118.648C11.4351 115.148 11.1059 111.607 11.0423 108.058C10.9086 87.7206 10.8602 67.383 10.8973 47.0453C10.9038 42.2177 11.3093 37.3887 11.5447 32.2823ZM21.213 33.0682C21.795 43.107 22.2262 92.2559 23.389 107.055C23.7318 111.419 24.7369 115.741 25.5971 120.052C26.4547 124.348 29.3579 126.846 33.5196 127.519C38.1762 128.271 42.9124 128.996 47.6077 128.961C59.3402 128.874 71.0741 128.47 82.7969 127.939C87.2853 127.736 91.751 126.893 96.2122 126.238C97.0251 126.136 97.7857 125.78 98.3839 125.22C98.9828 124.66 99.389 123.925 99.5455 123.121C100.163 120.625 100.962 118.14 101.257 115.602C102.951 101.021 102.602 86.3863 102.154 71.7566C101.802 60.2522 101.392 48.7496 101.003 37.2464C100.968 36.2116 100.897 35.1728 100.849 34.268C73.4017 33.8676 48.8907 33.4724 21.2148 33.0682H21.213ZM38.4807 21.0379C52.0098 21.5275 65.2706 21.5062 78.617 20.8833V11.9383C65.1232 11.4855 51.8792 10.9991 38.4807 12.3115V21.0379Z","fill","white"],["d","M82.2127 77.7577C82.0717 70.8105 81.7412 63.7697 81.4211 56.9597L81.4146 56.8303C81.2995 54.3613 81.1869 51.8924 81.0757 49.4233C81.0265 48.5606 80.8642 47.7079 80.5939 46.8872C80.0008 45.0115 78.6627 44.0226 76.9308 44.1862C75.8817 44.2729 74.0748 44.8129 73.7533 47.4479C73.7016 47.922 73.6757 48.3986 73.6757 48.8754C73.5722 57.4389 72.7903 85.75 72.7826 86.0385C72.6364 92.8447 72.4851 99.8798 72.3816 106.859C72.3279 108.781 72.5012 110.703 72.899 112.583C73.0911 113.579 73.6285 114.476 74.4162 115.115C75.2046 115.754 76.1928 116.094 77.2069 116.076C77.3259 116.076 77.4462 116.072 77.5671 116.063C78.5689 116.035 79.5281 115.652 80.2737 114.982C81.0188 114.312 81.5019 113.4 81.6364 112.406C81.9915 110.339 82.1862 108.247 82.2185 106.15L82.2534 101.336C82.3103 93.6124 82.3724 85.6265 82.2127 77.7577Z","fill","white"],["d","M47.6009 44.6397H47.5977C46.9524 44.6372 46.3162 44.7915 45.7437 45.0896C45.1713 45.3876 44.6798 45.8204 44.3116 46.3504C43.6881 47.4661 43.3363 48.7129 43.2847 49.9899C43.1747 51.7201 43.0594 53.4495 42.9417 55.2211C42.5375 61.3145 42.1185 67.6158 41.9388 73.8347C41.6801 82.6789 41.5928 91.666 41.5055 100.358C41.4792 103.018 41.451 105.678 41.4209 108.338C41.4194 109.427 41.5716 110.511 41.8734 111.557C42.579 114.058 44.2768 115.611 46.3037 115.611H46.3684C48.4916 115.575 50.1884 113.898 50.6897 111.339C50.9368 109.985 51.0413 108.609 51.0011 107.234C50.8885 100.171 50.7505 93.1097 50.6199 86.4012L50.5015 80.3356L50.6369 73.1316C50.7844 65.3281 50.9233 57.9518 51.0351 50.539C51.1015 49.296 50.9174 48.0524 50.4939 46.882C50.2341 46.2985 49.834 45.7884 49.3292 45.3972C48.8245 45.0059 48.2307 44.7458 47.6009 44.6397Z","fill","white"],["id","clip0_1_576"],["width","119","height","141","fill","white","transform","translate(0.777344)"],[1,"duplicate",3,"click","tooltip","position"],["width","151","height","173","viewBox","0 0 151 173","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_1076)"],["d","M30.9232 153.398C25.9083 153.062 21.2596 152.78 16.6154 152.431C13.3687 152.186 10.2998 151.464 7.57837 149.459C3.00697 146.09 1.56868 141.264 1.45764 136.007C1.29465 128.332 1.36022 120.646 1.56152 112.971C1.76671 105.186 2.0875 97.3959 2.65373 89.6298C3.85958 73.0868 4.3797 56.5257 4.83879 39.947C5.16786 31.9356 6.64063 24.0128 9.2122 16.4196C11.359 9.78579 15.6758 5.67804 22.633 4.53533C24.2765 4.26477 25.9219 3.95521 27.5791 3.81993C50.8388 1.97287 74.0727 -0.472549 97.463 0.405459C102.453 0.593417 107.451 0.999201 112.406 1.62356C118.56 2.39881 121.757 5.86334 121.977 12.0576C122.155 17.1357 121.886 22.2301 121.81 27.7778C122.815 27.7778 124.008 27.6887 125.186 27.7947C128.943 28.1322 132.725 28.3527 136.439 28.9654C142.402 29.9513 146.049 33.544 147.631 39.4325C148.915 44.4993 149.683 49.6836 149.923 54.9056C150.962 71.9558 149.786 88.9202 148.223 105.895C147.611 112.529 147.573 119.228 147.435 125.902C147.297 132.576 147.5 139.263 147.258 145.933C147.131 149.71 146.673 153.467 145.891 157.163C144.143 165.312 138.661 170.196 130.151 171.171C124.199 171.921 118.213 172.362 112.216 172.494C94.7721 172.676 77.3227 172.758 59.8816 172.485C54.1517 172.396 48.381 171.399 42.7388 170.278C36.1317 168.965 32.0472 163.932 31.3102 157.17C31.1771 155.969 31.0622 154.766 30.9232 153.398ZM42.1304 105.059H41.7044C41.4797 112.397 41.2546 119.735 41.0291 127.073C40.7538 135.633 40.4401 144.191 40.1934 152.752C40.1525 154.189 40.3927 155.633 40.459 157.076C40.5888 159.93 42.155 161.708 44.8232 162.227C49.3901 163.117 53.9849 164.166 58.607 164.406C68.2513 164.906 77.9247 165.201 87.5786 165.067C99.5656 164.9 111.549 164.269 123.527 163.708C126.073 163.54 128.597 163.116 131.059 162.443C134.088 161.671 136.161 159.649 136.683 156.506C137.389 152.801 137.844 149.051 138.044 145.284C138.262 137.614 138.034 129.932 138.177 122.261C138.285 116.482 138.437 110.684 139.001 104.936C140.466 89.9771 141.451 75.0022 140.733 59.9668C140.468 54.4224 140.112 48.8753 138.642 43.4636C137.981 41.0305 136.759 39.5275 134.086 39.4781C127.658 39.359 121.224 38.9747 114.801 39.0996C103.697 39.3149 92.6058 39.8527 81.5078 40.2214C73.6253 40.4816 65.7383 40.6117 57.8596 40.9538C54.3245 41.1072 50.7128 41.2972 47.4908 43.0057C46.383 43.591 44.8609 44.551 44.6901 45.5422C44.2325 48.6629 43.4543 51.7279 42.368 54.6885C42.1904 55.4482 42.1427 56.2326 42.2271 57.0083C42.1862 59.5663 42.1375 62.1248 42.1356 64.6827C42.126 78.1396 42.1243 91.5985 42.1304 105.059ZM30.7978 143.928C30.9232 141.672 31.0434 139.9 31.1167 138.126C31.4938 129.01 31.865 119.894 32.2304 110.777C32.8103 96.6584 33.3427 82.5381 33.9986 68.4236C34.4115 59.539 34.6986 50.6261 36.6038 41.8935C36.9548 40.4047 37.6252 39.0103 38.5687 37.8072C41.2358 34.4555 45.0751 32.2443 49.309 31.6215C54.8915 30.6969 60.5239 30.1038 66.1766 29.8454C80.6045 29.169 95.0441 28.7541 109.479 28.2195C110.341 28.1876 111.198 28.0243 112.384 27.8851C112.736 22.5832 112.797 17.4317 111.688 11.8788C106.129 11.5341 100.605 11.0605 95.0708 10.8706C73.5896 10.1324 52.2291 12.3483 30.8336 13.6744C28.296 13.8311 25.7881 14.4314 23.2556 14.7325C20.3238 15.0818 18.7823 16.8625 17.9278 19.5213C15.7652 26.07 14.4365 32.8659 13.9732 39.748C13.007 55.9592 12.0154 72.1737 11.4238 88.4019C10.8803 103.295 10.8167 118.213 10.6258 133.121C10.6562 135.122 10.8956 137.114 11.3401 139.066C11.8551 141.637 13.281 142.885 15.9148 143.141C19.3401 143.474 22.7765 143.702 26.2115 143.913C27.6258 144.003 29.0517 143.928 30.7978 143.928Z","fill","white"],["id","clip0_1_1076"],["width","150","height","173","fill","white","transform","translate(0.777344)"],[1,"zoom",3,"click","tooltip","position"],["width","175","height","178","viewBox","0 0 175 178","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_928)"],["d","M172.628 58.3672C172.09 56.1786 170.977 54.4981 169.497 53.6354C168.935 53.3056 168.311 53.0957 167.665 53.0187C167.018 52.9417 166.363 52.9992 165.74 53.1878C163.734 53.7607 161.485 55.5381 162.163 60.7528C162.694 64.8338 163.134 69.0034 163.56 73.0311C163.742 74.7501 163.926 76.4684 164.112 78.1873C163.431 89.6209 162.677 99.9293 160.365 110.194C157.345 123.602 151.105 136.241 141.82 147.757C134.288 157.098 124.665 162.887 112.398 165.453C102.246 167.502 91.8336 167.91 81.554 166.662C73.1975 165.705 63.4003 164.183 54.0923 160.154C43.3159 155.49 35.6885 149.982 30.0868 142.819C21.7986 132.191 15.8741 119.902 12.7122 106.782C10.5717 98.4507 10.0012 89.7917 11.0304 81.251C12.6073 68.6825 16.8759 56.3314 24.4627 42.3792C27.1333 37.4547 30.7425 33.1062 35.085 29.5814C45.6544 20.9861 56.1223 15.0835 67.0862 11.5352C74.8832 9.01135 83.4887 8.21802 93.4042 9.11062C99.9935 9.70374 106.397 11.6774 112.589 13.5867C113.976 14.0141 115.364 14.4415 116.755 14.8553L117.395 15.0503C118.58 15.4548 119.803 15.7377 121.044 15.8948C121.868 15.9676 123.577 15.5089 123.903 14.5305C124.057 13.9713 124.088 13.385 123.992 12.8127C123.897 12.2404 123.678 11.6959 123.351 11.2175C122.511 10.1799 121.426 9.37021 120.194 8.86259C116.055 7.13781 112.311 5.60327 108.406 4.29815C100.973 1.80415 93.1816 0.553224 85.3445 0.595264C72.7745 0.700671 60.4405 4.03284 49.5142 10.2749C45.4792 12.5363 41.9132 14.6378 38.6123 16.6997C28.8955 22.7693 21.8345 29.8783 17.0259 38.4327C11.2548 48.6969 7.2682 58.1562 4.83671 67.3488C1.9544 78.2477 0.918874 86.7456 1.47839 94.9004C2.44865 109.016 6.92724 122.993 15.1751 137.628C18.1465 143.033 21.7672 148.051 25.956 152.57C34.7155 161.86 45.8142 168.432 59.8784 172.659C70.6949 175.921 81.9273 177.58 93.2211 177.583C98.0821 177.582 102.939 177.278 107.763 176.674C126.693 174.307 141.269 166.074 152.316 151.504C161.157 139.846 167.013 128.179 170.219 115.839C173.873 101.771 175.23 86.4487 174.368 68.9962C174.136 65.4044 173.553 61.8444 172.628 58.3672Z","fill","white"],["d","M101.249 33.6853C102.025 33.7665 102.801 33.849 103.577 33.9218C104.274 33.9868 106.132 34.1614 106.753 32.347C107.017 31.6636 107.007 30.9044 106.726 30.2278C106.446 29.5512 105.916 29.0096 105.247 28.7161C104.02 28.0928 102.72 27.6255 101.377 27.3248C95.2353 26.0261 88.9254 25.7349 82.6911 26.4626C71.0616 27.8352 61.2971 30.8588 52.839 35.7071C41.6021 42.1475 34.6505 50.3699 31.5871 60.8479C31.1181 62.4544 30.4874 64.0693 29.9298 65.4942C25.1299 77.441 23.9335 90.5422 26.4894 103.167C28.2953 112.091 30.5238 119.294 35.5284 125.45C47.0195 139.582 60.0874 147.555 75.4788 149.827C78.7971 150.316 82.2066 150.48 85.4971 150.638C86.9965 150.71 88.5463 150.785 90.0631 150.889H90.1078H90.124C102.015 150.643 113.69 147.64 124.234 142.115C126.763 140.85 129.093 139.218 131.148 137.272C137.646 130.858 141.741 124.777 144.034 118.137C144.496 116.798 145.107 115.468 145.698 114.182C145.879 113.787 146.061 113.393 146.238 112.997C151.534 101.214 151.486 88.3308 146.092 73.6127C145.642 72.3751 144.937 71.2474 144.023 70.3028C143.436 69.6434 142.683 69.1549 141.843 68.8885C141.002 68.6228 140.107 68.5891 139.25 68.7911C138.433 69.0535 137.702 69.5362 137.139 70.1859C136.575 70.8355 136.2 71.6274 136.053 72.4765C135.691 74.0213 135.959 75.7409 136.195 77.2584L136.249 77.5995C136.524 79.3899 136.857 81.1972 137.179 82.946C137.726 85.9142 138.292 88.9843 138.581 92.0155C139.112 97.0223 138.444 102.084 136.633 106.779C135.022 111.008 133.198 115.151 131.168 119.194C127.811 125.69 124.137 129.946 119.601 132.576C116.049 134.638 112.038 136.104 108.159 137.521L106.631 138.082C99.7742 140.61 92.3969 140.615 85.2202 140.619H85.1653C74.1289 140.619 65.7238 138.171 58.719 132.916C57.5779 132.059 56.378 131.257 55.2175 130.482C53.9329 129.623 52.6048 128.736 51.3719 127.783C44.6887 122.619 40.3221 116.804 38.0232 109.999C35.3169 101.995 32.4844 91.3782 34.6099 80.2234C35.3089 76.881 36.1776 73.5776 37.2128 70.3249C37.8422 68.2272 38.492 66.0581 39.0405 63.8972C41.2825 55.0706 46.7166 48.2339 55.6547 42.9972C67.7116 35.9324 81.1911 32.6504 95.6829 33.2208C97.5341 33.2942 99.421 33.493 101.249 33.6853Z","fill","white"],["d","M69.9032 65.4094C72.8321 63.7211 75.9389 62.3662 79.1666 61.3702C82.4959 60.3749 85.9992 59.7019 89.3867 59.051C90.2599 58.8827 91.1331 58.7151 92.0038 58.5417C93.1131 58.3214 94.7897 57.9875 94.824 56.0185C94.8505 54.4737 93.8292 53.4374 92.0937 53.2458C91.1816 53.1433 90.2638 53.107 89.3465 53.1373C83.1873 53.3699 76.9919 54.8076 69.8514 57.664C63.6318 60.0529 58.5651 64.7529 55.7007 70.7903C50.5402 81.4242 50.2347 92.798 54.7949 104.595C56.0789 107.916 58.0104 112.155 61.5817 115.494C69.583 122.974 79.3173 126.765 90.5167 126.765C91.0477 126.765 91.5801 126.78 92.1131 126.797C92.6034 126.813 93.1015 126.83 93.6008 126.83C94.1979 126.834 94.7949 126.802 95.388 126.732C103.192 125.764 109.302 123.137 114.068 118.699C123.016 110.367 127.062 99.2099 126.099 85.5358C125.963 83.6083 125.018 81.7029 124.186 80.023C123.434 78.5067 121.713 77.3491 119.997 78.1968C118.835 78.9101 117.986 80.0385 117.621 81.3554C117.397 82.2733 117.32 83.2211 117.394 84.1624C117.406 84.6217 117.417 85.0557 117.394 85.4799C117.337 86.5245 117.311 87.5867 117.286 88.615C117.29 90.9777 117.107 93.3372 116.739 95.6701C114.442 107.931 107.562 115.13 96.2897 117.069C88.3485 118.433 80.5347 116.948 73.0682 112.652C70.1891 110.995 67.2621 109.037 65.3553 105.949C59.7821 96.9245 58.405 87.3164 61.2614 77.3913C62.874 71.7745 65.7848 67.7423 69.9032 65.4094Z","fill","white"],["d","M145.799 23.715C145.894 23.2109 145.996 22.7068 146.098 22.2033C146.452 20.629 146.706 19.0338 146.858 17.4272C147.068 14.585 145.758 13.5755 143.574 12.8674C142.733 12.5694 141.828 12.5014 140.952 12.6701C140.075 12.8388 139.26 13.2382 138.588 13.8275C132.403 19.0162 126.165 24.2744 120.049 29.4553C117.849 31.3204 117.073 33.7077 117.623 36.9676C117.975 39.0633 118.193 41.2273 118.404 43.3204C118.565 44.9114 118.732 46.5555 118.955 48.1705C119.131 49.4392 118.774 50.2993 117.641 51.3433L117.135 51.8092C114.006 54.689 110.773 57.6663 107.734 60.7456C102.323 66.2282 96.8672 71.8449 91.5857 77.2766C89.0786 79.8575 86.5688 82.4372 84.0571 85.0156C82.2615 86.8574 82.6393 88.2755 83.2732 89.1408C83.5073 89.489 83.8223 89.7742 84.191 89.9724C84.5597 90.1699 84.9711 90.2738 85.389 90.2751C86.2435 90.2335 87.0643 89.9282 87.7389 89.4C88.9149 88.5237 90.0288 87.5661 91.0728 86.5345C97.1214 80.8008 103.166 75.0619 109.207 69.3192L119.026 59.9919C120.015 59.0545 120.721 58.6018 121.976 58.6538C127.333 58.8149 132.778 58.8109 138.044 58.8051C139.539 58.8025 141.034 58.8025 142.53 58.8051H142.542C143.464 58.8291 144.378 58.6437 145.218 58.2627C146.059 57.8817 146.802 57.3149 147.393 56.6048C151.662 51.7111 156.081 46.8024 160.219 42.2264C162.252 39.9793 164.01 37.6374 163.223 33.7064C162.511 30.1724 162.034 28.6087 158.076 28.5866C156.009 28.5833 153.913 28.6931 151.887 28.8088C150.741 28.8737 149.594 28.9388 148.446 28.9817C147.52 29.0155 146.601 29.0082 145.535 28.9991L144.726 28.9926C144.809 28.5859 144.892 28.1872 144.974 27.7961C145.268 26.3786 145.545 25.0487 145.799 23.715ZM155.361 36.7077L155.521 36.7194L144.44 50.8028H125.844C125.79 50.6144 125.731 50.4229 125.672 50.2287C125.401 49.4594 125.228 48.659 125.155 47.8463C125.073 45.696 125.077 43.4996 125.08 41.376C125.08 40.102 125.084 38.8282 125.069 37.5556C125.053 36.2992 125.236 35.2955 126.172 34.4835C129.674 31.4471 133.164 28.3944 136.868 25.154L139.995 22.4203C139.964 22.9056 139.937 23.2583 139.885 23.5981C139.735 24.5615 139.568 25.5224 139.4 26.4832C139.083 28.3119 138.753 30.203 138.554 32.0876C138.378 33.7494 138.61 34.8809 139.283 35.6442C139.956 36.4075 141.02 36.7707 142.652 36.8006C145.035 36.8461 147.456 36.7778 149.795 36.7135C151.063 36.6791 152.332 36.6447 153.6 36.6265C154.12 36.6252 154.636 36.6597 155.36 36.7103L155.361 36.7077Z","fill","white"],["id","clip0_1_928"],["width","174","height","178","fill","white","transform","translate(0.777344)"]],template:function(i,o){if(i&1){let s=ye();y(0,"div",5)(1,"div",6)(2,"div",7),j(3," Cuts "),w()(),y(4,"div",8),z("click",function(l){return q(s),W(o.bgClicked(l))}),Z(5,PT,3,4,"ng-container",9),Re(6,"async"),w(),y(7,"div",10),Z(8,FT,1,0,"ng-container",11)(9,kT,1,0,"ng-container",11)(10,LT,1,0,"ng-container",11)(11,VT,1,0,"ng-container",11),w()(),Z(12,jT,1,0,"ng-template",null,0,pe)(14,UT,8,2,"ng-template",null,1,pe)(16,BT,9,2,"ng-template",null,2,pe)(18,HT,7,2,"ng-template",null,3,pe)(20,$T,10,2,"ng-template",null,4,pe)}if(i&2){let s=ce(15),a=ce(17),l=ce(19),c=ce(21);O(5),A("ngIf",Pe(6,5,o.active$)),O(3),A("ngTemplateOutlet",c),O(),A("ngTemplateOutlet",s),O(),A("ngTemplateOutlet",l),O(),A("ngTemplateOutlet",a)}},dependencies:[ie,Do,Je,St,Et,q8,en,rr],styles:['.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-areas:"header" "cuts" "buttons";grid-template-rows:32px auto 33px}.cuts[_ngcontent-%COMP%]{grid-area:cuts;overflow-x:hidden;overflow-y:auto;max-height:calc(100vh - 670px)}.header[_ngcontent-%COMP%]{grid-area:header;background-color:var(--background-subheader);height:32px}.header-text[_ngcontent-%COMP%]{line-height:32px;text-align:center;margin:auto;font-weight:500}.spacer[_ngcontent-%COMP%]{width:240px;height:100%;min-height:32px}.buttons[_ngcontent-%COMP%]{position:relative;grid-area:buttons;height:32px;background-color:var(--background-subheader);display:grid;grid-template-columns:repeat(3,32px);justify-content:end;gap:4px;padding-right:16px;border-bottom:1px solid rgba(0,0,0,.5)}.adder[_ngcontent-%COMP%], .remover[_ngcontent-%COMP%], .duplicate[_ngcontent-%COMP%]{width:32px}.zoom[_ngcontent-%COMP%]{width:32px;height:32px;position:absolute;left:16px}div[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{margin-top:6px;margin-left:6px;height:20px;width:20px;opacity:.5;cursor:pointer}']});let t=e;return t})();var Y8=(()=>{let e=class e{constructor(){this.worker=new Worker(new URL("worker-E7PUOM2F.js",import.meta.url),{type:"module"}),this.handleWorker()}handleWorker(){this.worker.addEventListener("message",({data:n})=>{console.log("Worker finished",n);let i=n;this.downloadResult(i)})}downloadResult(n){let i=n.img,o=n.result;for(let s=0;s<o.length;s++){let a=o[s],l=a.fileType.split("/").slice(-1)[0],c=document.createElement("a"),u=`${i.meta.name}-${a.cut.name}.${l}`;c.download=u,c.href=a.dataURL,c.click()}}getFileSize(n){return window.atob(n.split(",")[1]).length}downloadSelectedCut(){if(console.log("downloadSelectedCut"),!this.active||!this.activeCanvas){console.log("ERROR: refs missing");return}let n=this.active.cuts.findIndex(s=>s.selected);if(n<0){console.log("ERROR: No Cut selected");return}let i=this.active.cuts[n],o={};this.worker.postMessage({active:this.active,cuts:[i],options:{}})}downloadAllCuts(){console.log("downloadAllCuts"),!(!this.active||!this.activeCanvas)&&this.active.cuts.length>0&&this.worker.postMessage({active:this.active,cuts:this.active.cuts,options:{}})}downloadAllVisibleCuts(){if(console.log("downloadAllVisibleCuts"),!this.active||!this.activeCanvas)return;let n=this.active.cuts.filter(i=>i.visible);n.length>0&&this.worker.postMessage({active:this.active,cuts:n,options:{}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=oe({type:e,selectors:[["app-exporter"]],inputs:{active:"active",activeCanvas:"activeCanvas"},standalone:!0,features:[se],decls:0,vars:0,template:function(i,o){},dependencies:[ie]});let t=e;return t})();var GT=["exporter"];function zT(t,e){t&1&&me(0)}function qT(t,e){t&1&&me(0)}function WT(t,e){t&1&&me(0)}function YT(t,e){t&1&&me(0)}function KT(t,e){if(t&1&&(He(0),y(1,"app-layer-box",8),Z(2,zT,1,0,"ng-container",9)(3,qT,1,0,"ng-container",9)(4,WT,1,0,"ng-container",9)(5,YT,1,0,"ng-container",9),k(6,"app-exporter",10,5),w(),k(8,"div",11),$e()),t&2){let r=e.ngIf,n=R().ngIf;R();let i=ce(6),o=ce(8),s=ce(10),a=ce(12);O(),A("headerText","Export"),O(),A("ngTemplateOutlet",i),O(),A("ngTemplateOutlet",o),O(),A("ngTemplateOutlet",s),O(),A("ngTemplateOutlet",a),O(),A("active",r)("activeCanvas",n)}}function ZT(t,e){if(t&1&&(He(0),Z(1,KT,9,7,"ng-container",7),Re(2,"async"),$e()),t&2){let r=R();O(),A("ngIf",Pe(2,1,r.active$))}}function XT(t,e){t&1&&(Ve(),y(0,"svg",12)(1,"g",13),k(2,"path",14)(3,"path",15),w(),y(4,"defs")(5,"clipPath",16),k(6,"rect",17),w()()())}function QT(t,e){t&1&&me(0)}function JT(t,e){if(t&1){let r=ye();y(0,"div",18),z("click",function(){q(r);let i=R();return W(i.onClickSelected())}),y(1,"div",19)(2,"div",20),j(3,"Download Selected"),w(),y(4,"div",21),j(5,"size: 548kb"),w()(),y(6,"div",22),Z(7,QT,1,0,"ng-container",9),w()()}if(t&2){R();let r=ce(4);O(7),A("ngTemplateOutlet",r)}}function eA(t,e){t&1&&me(0)}function tA(t,e){if(t&1){let r=ye();y(0,"div",18),z("click",function(){q(r);let i=R();return W(i.onClickAll())}),y(1,"div",19)(2,"div",20),j(3,"Download All"),w(),y(4,"div",21),j(5,"size: 2.48mb"),w()(),y(6,"div",22),Z(7,eA,1,0,"ng-container",9),w()()}if(t&2){R();let r=ce(4);O(7),A("ngTemplateOutlet",r)}}function nA(t,e){t&1&&me(0)}function rA(t,e){if(t&1){let r=ye();y(0,"div",18),z("click",function(){q(r);let i=R();return W(i.onClickAllVisible())}),y(1,"div",19)(2,"div",20),j(3,"Download All Visible"),w(),y(4,"div",21),j(5,"size: 1.69"),w()(),y(6,"div",22),Z(7,nA,1,0,"ng-container",9),w()()}if(t&2){R();let r=ce(4);O(7),A("ngTemplateOutlet",r)}}function iA(t,e){t&1&&me(0)}function oA(t,e){if(t&1){let r=ye();y(0,"div",18),z("click",function(){q(r);let i=R();return W(i.onClickAs())}),y(1,"div",19)(2,"div",20),j(3,"Download..."),w(),y(4,"div",21),j(5,"..."),w()(),y(6,"div",22),Z(7,iA,1,0,"ng-container",9),w()()}if(t&2){R();let r=ce(4);O(7),A("ngTemplateOutlet",r)}}var K8=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$,this.activeCanvas$=n.activeCanvas$}onClickSelected(){this.exporterRef.downloadSelectedCut()}onClickAll(){this.exporterRef.downloadAllCuts()}onClickAllVisible(){this.exporterRef.downloadAllVisibleCuts()}onClickAs(){}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-layers-export"]],viewQuery:function(i,o){if(i&1&&Dr(GT,5),i&2){let s;Qn(s=Jn())&&(o.exporterRef=s.first)}},standalone:!0,features:[se],decls:13,vars:3,consts:[["iconDownload",""],["exportActive",""],["exportAll",""],["exportAllVisible",""],["exportAs",""],["exporter",""],[1,"container"],[4,"ngIf"],[1,"exports",3,"headerText"],[4,"ngTemplateOutlet"],[3,"active","activeCanvas"],[1,"buttons"],["width","158","height","146","viewBox","0 0 158 146","fill","none","xmlns","http://www.w3.org/2000/svg",1,"icon-download"],["clip-path","url(#clip0_1_595)"],["d","M70.5401 108.42C69.3341 107.513 68.082 106.667 66.7903 105.886L66.5126 105.725C63.2038 103.799 59.7829 101.808 56.3218 100.016C55.4323 99.5558 54.5377 99.0461 53.6722 98.5518C51.2997 97.1984 48.8474 95.7998 46.035 95.128C45.9112 95.0982 45.7815 95.1047 45.6611 95.1467C45.5409 95.188 45.4351 95.263 45.3564 95.3631L44.0193 97.0511C43.9436 97.1468 43.8959 97.2617 43.8813 97.3832C43.8666 97.504 43.8857 97.6267 43.9363 97.7372C44.0285 97.9394 44.105 98.1449 44.1802 98.3445C44.3357 98.8438 44.5791 99.3116 44.8991 99.7257C52.1892 108.196 61.1181 115.77 73.8469 124.284C74.6234 124.777 75.4363 125.212 76.2778 125.586C77.3988 126.146 78.6321 126.45 79.8868 126.474C81.5716 126.453 83.1922 125.824 84.447 124.705C84.7155 124.479 84.9893 124.258 85.2631 124.038C85.8535 123.564 86.4633 123.073 87.0238 122.527C88.5698 121.024 90.123 119.526 91.6832 118.035C95.8191 114.066 100.095 109.961 104.095 105.722C106.574 102.979 108.877 100.084 110.993 97.055C111.699 96.086 112.405 95.1163 113.123 94.1609L113.203 94.0549C113.618 93.5136 114.588 92.2461 113.158 90.7647C113.04 90.6433 112.881 90.5709 112.711 90.5619C110.291 90.4424 108.679 91.8539 107.124 93.228C106.542 93.7681 105.924 94.2668 105.272 94.7197C102.835 96.3941 100.509 98.223 98.3097 100.196L97.9081 100.541C96.7838 101.505 95.6984 102.54 94.6487 103.539C93.6457 104.495 92.6077 105.483 91.5489 106.398C90.8197 107.028 90.1346 107.726 89.4729 108.4C88.2364 109.778 86.8136 110.977 85.2449 111.963C85.2358 111.891 85.2274 111.823 85.219 111.754C85.1314 111.196 85.0866 110.634 85.0847 110.07C85.1878 106.448 85.3001 102.827 85.422 99.2043C85.6095 93.4199 85.8035 87.4384 85.9313 81.5512C85.9715 79.7107 86.0131 77.8689 86.0565 76.0271C86.438 59.5536 86.8318 42.5255 85.3358 25.7872C84.7992 19.7792 83.889 13.7166 83.0093 7.85141L82.6402 5.38277C82.4157 4.44857 82.0037 3.56944 81.4283 2.7987C81.0766 2.23408 80.6783 1.59394 80.2326 0.777372C80.1723 0.667426 80.0827 0.576769 79.9731 0.515555C79.8635 0.454342 79.7389 0.424669 79.613 0.431018C79.4878 0.437367 79.3665 0.478926 79.264 0.550885C79.1608 0.622843 79.0804 0.722499 79.0324 0.837936C77.5136 4.44013 77.4643 7.54494 77.4209 10.2834C77.406 11.2402 77.3917 12.1449 77.3203 13.0429C77.1977 14.5881 77.0485 16.1315 76.8993 17.6735C76.7105 19.62 76.5159 21.633 76.3803 23.6214C76.1856 26.4852 76.0637 29.3992 75.9469 32.2165C75.9093 33.1106 75.871 34.0043 75.8327 34.8984L75.7912 35.8364C75.6413 39.2242 75.4869 42.7268 75.3734 46.1759C75.2689 49.3698 75.1885 52.7454 75.1223 56.7992C75.0795 59.3833 75.0574 61.9711 75.0354 64.5584L75.0029 68.0818C74.9913 69.2536 74.977 70.4255 74.9608 71.5974C74.9277 74.1434 74.8959 76.7765 74.8959 79.3683C74.8991 82.7024 74.9199 86.6509 75.0432 90.6646C75.0938 92.3262 75.1917 94.009 75.2871 95.639C75.3948 97.4827 75.5057 99.3858 75.5466 101.259C75.5719 102.388 75.6647 103.538 75.7542 104.65C76.026 107.03 76.0403 109.431 75.7964 111.814C73.9558 110.824 72.1984 109.689 70.5401 108.42Z","fill","white"],["d","M154.191 82.8569C153.744 82.6101 153.249 82.4621 152.739 82.4234C152.229 82.3853 151.717 82.4576 151.238 82.6346C151.144 82.6605 151.057 82.7063 150.983 82.7684C150.909 82.831 150.85 82.9092 150.81 82.9971C149.077 86.744 148.595 106.975 148.244 121.748C148.106 127.519 147.995 132.177 147.842 134.43C147.03 134.507 146.264 134.589 145.533 134.666C143.717 134.86 142.147 135.025 140.568 135.063C134.253 135.213 126.785 135.366 119.282 135.366H119.171C114.222 135.366 109.273 135.373 104.323 135.386C88.7154 135.414 72.5762 135.446 56.7108 135.16C47.3609 134.99 37.8546 134.392 28.661 133.812C24.7951 133.567 20.7975 133.316 16.8634 133.102C16.1357 133.045 15.4118 132.947 14.6952 132.809C14.4357 132.765 14.1697 132.72 13.8901 132.675C13.8389 132.333 13.7843 131.996 13.7305 131.661C13.5519 130.672 13.4265 129.673 13.3548 128.67C13.1926 125.565 13.0584 122.459 12.9235 119.352C12.6886 113.938 12.446 108.34 12.0554 102.841C11.6402 96.9756 11.0485 87.1264 10.7339 81.78C10.6799 80.7722 10.2443 79.8212 9.51481 79.1203C8.78534 78.4194 7.8161 78.0195 6.80236 78.0014C5.76153 77.9794 4.75231 78.3574 3.98422 79.057C3.21613 79.7573 2.74817 80.7244 2.67751 81.7586C2.03719 91.7157 0.623532 116.375 1.3229 130.279L1.36772 131.235C1.391 133.381 1.63708 135.52 2.10209 137.617C3.0655 141.327 5.29401 142.99 9.55186 143.181C12.9312 143.333 16.31 143.511 19.6881 143.69C25.0728 143.975 30.6449 144.272 36.1308 144.446C48.1595 144.833 59.0509 145.054 69.4271 145.128C74.0521 145.162 78.6765 145.205 83.3015 145.257C91.5927 145.343 100.003 145.431 108.457 145.431C119.85 145.431 131.323 145.272 142.687 144.74C145.152 144.67 147.609 144.442 150.044 144.055C153.921 143.365 156.099 140.984 156.341 137.168C156.435 135.679 156.557 134.071 156.681 132.446C156.848 130.242 157.022 127.964 157.13 125.88C157.052 111.441 155.603 86.7369 155.324 84.7988C155.288 84.4125 155.169 84.0391 154.973 83.7038C154.777 83.3685 154.51 83.0791 154.191 82.8569Z","fill","white"],["id","clip0_1_595"],["width","157","height","146","fill","white","transform","translate(0.777344)"],[1,"sub-container","prevent-select",3,"click"],[1,"main"],[1,"title"],[1,"size"],[1,"icon"]],template:function(i,o){i&1&&(y(0,"div",6),Z(1,ZT,3,3,"ng-container",7),Re(2,"async"),w(),Z(3,XT,7,0,"ng-template",null,0,pe)(5,JT,8,1,"ng-template",null,1,pe)(7,tA,8,1,"ng-template",null,2,pe)(9,rA,8,1,"ng-template",null,3,pe)(11,oA,8,1,"ng-template",null,4,pe)),i&2&&(O(),A("ngIf",Pe(2,1,o.activeCanvas$)))},dependencies:[ie,Je,St,Et,yc,en,Y8],styles:['.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-areas:"cuts" "buttons";grid-template-rows:auto 33px}.exports[_ngcontent-%COMP%]{grid-area:cuts}.buttons[_ngcontent-%COMP%]{grid-area:buttons;height:32px;background-color:var(--background-subheader);display:grid;grid-template-columns:32px 32px;justify-content:end;gap:4px;padding-right:16px;border-bottom:1px solid rgba(0,0,0,.5)}.sub-container[_ngcontent-%COMP%]{width:240px;height:48px;display:grid;grid-template-areas:"title icon" "size icon";grid-template-columns:auto 64px;cursor:pointer;border-bottom:1px solid rgba(0,0,0,.5)}.sub-container[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--accent)}.main[_ngcontent-%COMP%]{padding-left:16px;padding-right:8px}.title[_ngcontent-%COMP%]{grid-area:title;font-size:14px;font-weight:500;line-height:17px;padding-top:5.5px;padding-bottom:5px}.size[_ngcontent-%COMP%]{grid-area:size;font-size:12px;line-height:15px;font-style:italic;padding-bottom:5.5px;color:#ffffff80}.icon[_ngcontent-%COMP%]{grid-area:icon;height:48px;margin-right:16px}.icon-download[_ngcontent-%COMP%]{line-height:48px;width:24px;height:22.32px;margin:12.84px 12px}']});let t=e;return t})();var Z8=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-layers"]],standalone:!0,features:[se],decls:6,vars:1,consts:[[1,"container"],[1,"navigation",3,"headerText"],[1,"cuts"],[1,"export"],[1,"footer"]],template:function(i,o){i&1&&(y(0,"div",0)(1,"app-layer-box",1),k(2,"app-canvas-navigation"),w(),k(3,"app-layers-cuts",2)(4,"app-layers-export",3)(5,"div",4),w()),i&2&&(O(),A("headerText","Navigation"))},dependencies:[ie,yc,z8,W8,K8],styles:['.container[_ngcontent-%COMP%]{display:grid;grid-template-areas:"navigation" "cuts" "export" "footer";grid-template-rows:232px auto 261px 32px;justify-content:stretch;height:100%;width:100%;max-width:240px}.navigation[_ngcontent-%COMP%]{grid-area:navigation}.cuts[_ngcontent-%COMP%]{grid-area:cuts}.export[_ngcontent-%COMP%]{grid-area:export}.footer[_ngcontent-%COMP%]{grid-area:footer;background-color:var(--background-header)}']});let t=e;return t})();function sA(t,e){t&1&&me(0)}function aA(t,e){t&1&&me(0)}function lA(t,e){t&1&&me(0)}function cA(t,e){if(t&1&&(He(0),Z(1,lA,1,0,"ng-container",10),$e()),t&2){R(2);let r=ce(8);O(),A("ngTemplateOutlet",r)}}function uA(t,e){if(t&1){let r=ye();y(0,"div",6),z("click",function(i){q(r);let o=R();return W(o.onClick(i))})("mouseleave",function(){q(r);let i=R();return W(i.onMouseLeave())}),k(1,"img",7),y(2,"div",8),j(3),w(),y(4,"div",9),j(5),Re(6,"dateDelta"),w(),Z(7,sA,1,0,"ng-container",10)(8,aA,1,0,"ng-container",10)(9,cA,2,1,"ng-container",11),w()}if(t&2){let r=R(),n=ce(4),i=ce(6),o=ce(10);A("tooltip",r.image.meta.name)("position","top"),O(),A("src",r.image.file.dataURL,q2),O(2),Cn(r.image.meta.name),O(2),Cn(Pe(6,9,r.image.meta.date)),O(2),A("ngTemplateOutlet",n),O(),A("ngTemplateOutlet",i),O(),A("ngIf",r.image.meta.active)("ngIfElse",o)}}function dA(t,e){if(t&1){let r=ye();y(0,"div",12)(1,"div",13)(2,"span"),j(3),w(),y(4,"button",14),z("click",function(i){q(r);let o=R();return W(o.onClickUndo(i))}),j(5,"Undo"),w(),y(6,"button",14),z("click",function(i){q(r);let o=R();return W(o.onClickDeleteAtOnce(i))}),j(7,"Delete"),w()(),y(8,"div",8),j(9),w(),y(10,"div",9),j(11),Re(12,"dateDelta"),w()()}if(t&2){let r=R();A("tooltip",r.image.meta.name)("position","top"),O(3),Jt("Auto-deletion in ",r.deletionSecondsLeft," second(s)..."),O(6),Cn(r.image.meta.name),O(2),Cn(Pe(12,5,r.image.meta.date))}}function fA(t,e){if(t&1){let r=ye();y(0,"div",15),z("click",function(i){q(r);let o=R();return W(o.onClickClose(i))}),Ve(),y(1,"svg",16),k(2,"path",17),w()()}}function hA(t,e){if(t&1){let r=ye();y(0,"div",18),z("click",function(i){q(r);let o=R();return W(o.onClickMenu(i))}),Ve(),y(1,"svg",19),k(2,"path",20)(3,"path",21)(4,"path",22),w()()}}function pA(t,e){if(t&1){let r=ye();y(0,"div",24),z("click",function(i){q(r);let o=R(2);return W(o.stopClick(i))}),y(1,"div",25),z("click",function(i){q(r);let o=R(2);return W(o.onClickSelect(i))}),j(2,"Select"),w(),y(3,"div",25),z("click",function(i){q(r);let o=R(2);return W(o.onClickSetActive(i,!1))}),j(4,"Deactivate"),w(),k(5,"div",26),y(6,"div",25),z("click",function(i){q(r);let o=R(2);return W(o.onClickDownload(i))}),j(7,"Download Project"),w(),y(8,"div",25),z("click",function(i){q(r);let o=R(2);return W(o.onClickDuplicate(i))}),j(9,"Duplicate"),w(),y(10,"div",25),z("click",function(i){q(r);let o=R(2);return W(o.onClickDelete(i))}),j(11,"Delete"),w()()}}function gA(t,e){if(t&1&&Z(0,pA,12,0,"div",23),t&2){let r=R();A("ngIf",r.showContext)}}function mA(t,e){if(t&1){let r=ye();y(0,"div",24),z("click",function(i){q(r);let o=R(2);return W(o.stopClick(i))}),y(1,"div",25),z("click",function(i){q(r);let o=R(2);return W(o.onClickSelect(i))}),j(2,"Select"),w(),y(3,"div",25),z("click",function(i){q(r);let o=R(2);return W(o.onClickSetActive(i,!0))}),j(4,"Activate"),w(),k(5,"div",26),y(6,"div",25),z("click",function(i){q(r);let o=R(2);return W(o.onClickDownload(i))}),j(7,"Download Project"),w(),y(8,"div",25),z("click",function(i){q(r);let o=R(2);return W(o.onClickDuplicate(i))}),j(9,"Duplicate"),w(),y(10,"div",25),z("click",function(i){q(r);let o=R(2);return W(o.onClickDelete(i))}),j(11,"Delete"),w()()}}function vA(t,e){if(t&1&&Z(0,mA,12,0,"div",23),t&2){let r=R();A("ngIf",r.showContext)}}var CA=(()=>{let e=class e{transform(n){let o=new Date().valueOf()-n.valueOf(),s=Math.floor(o/(1e3*60*60*24));if(s===0)return"< 1 day ago";switch(s){case 0:return"< 1 day ago";case 1:return"1 day ago";default:return`${s} days ago`}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=_r({name:"dateDelta",type:e,pure:!0,standalone:!0});let t=e;return t})(),X8=(()=>{let e=class e{constructor(n){this.store=n,this.destroy$=new Oe,this.showContext=!1,this.markedForDeletion=!1,this.deletionSecondsLeft=42,this.deletionTimeSeconds=9,this.deletionTimer=hd(1e3).pipe(Zt(this.deletionTimeSeconds),no(-1),ot(this.destroy$))}ngOnDestroy(){this.destroy$.next(1),this.destroy$.complete(),this.markedForDeletion&&this.deleteImage()}markForDeletion(n){n?(this.markedForDeletion=!0,this.destroy$.next(1),this.deletionTimer.subscribe(i=>{let o=this.deletionTimeSeconds-1-i;this.deletionSecondsLeft=o,o===0&&this.deleteImage()})):(this.markedForDeletion=!1,this.destroy$.next(1))}deleteImage(){console.log("DELETE",this.image.meta.name),this.store.deleteImage(this.image.id)}onClick(n){console.log("click",this.image.meta.name),this.store.setActiveImage(this.image.id)}onClickClose(n){n.preventDefault(),n.stopPropagation(),console.log("close",this.image.meta.name),this.image.meta.active?this.store.closeImage(this.image.id):this.markForDeletion(!0)}onClickMenu(n){n.preventDefault(),n.stopPropagation(),console.log("menu",this.image.meta.name),this.showContext=!this.showContext}onMouseLeave(){this.showContext=!1}stopClick(n){n.preventDefault(),n.stopPropagation()}onClickSelect(n){n.preventDefault(),n.stopPropagation(),this.store.setActiveImage(this.image.id)}onClickSetActive(n,i){n.preventDefault(),n.stopPropagation(),i?this.store.openImage(this.image.id):this.store.closeImage(this.image.id)}onClickDownload(n){n.preventDefault(),n.stopPropagation()}onClickDelete(n){n.preventDefault(),n.stopPropagation(),this.markForDeletion(!0)}onClickDuplicate(n){n.preventDefault(),n.stopPropagation(),this.store.duplicateImage(this.image.id)}onClickUndo(n){n.preventDefault(),n.stopPropagation(),this.markForDeletion(!1)}onClickDeleteAtOnce(n){n.preventDefault(),n.stopPropagation(),this.deleteImage()}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-history-icon"]],inputs:{image:"image"},standalone:!0,features:[se],decls:11,vars:2,consts:[["marked",""],["close",""],["menu",""],["context",""],["contextInactive",""],["class","container pointer",3,"tooltip","position","click","mouseleave",4,"ngIf","ngIfElse"],[1,"container","pointer",3,"click","mouseleave","tooltip","position"],["loading","lazy",1,"nondrag",3,"src"],[1,"name"],[1,"subtext"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[1,"container",3,"tooltip","position"],[1,"deletion"],[3,"click"],[1,"close",3,"click"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.7833 9.42434C6.51111 10.5633 5.26703 11.6665 4.03539 12.7834C3.32188 13.4304 2.63391 14.1055 1.92206 14.7543C1.73246 14.9316 1.51459 15.0756 1.27744 15.1806C1.1605 15.2297 0.907965 15.1806 0.850375 15.0906C0.774175 14.9712 0.796704 14.7594 0.838036 14.6035C0.868105 14.4899 0.990534 14.3959 1.08289 14.3047C2.83934 12.5753 4.59659 10.847 6.35461 9.11977C6.55187 8.92605 6.75479 8.73823 6.98143 8.52311C6.21317 7.67166 5.44371 6.85006 4.70913 5.99792C3.53675 4.63729 2.3879 3.25641 1.22933 1.884C1.18721 1.83412 1.15099 1.77953 1.10848 1.72965C0.905737 1.48998 0.762803 1.23166 0.993655 0.940942C1.16652 0.723268 1.57978 0.755779 1.86754 1.0519C2.58419 1.78917 3.2823 2.54429 3.97456 3.30522C5.23861 4.69384 6.49281 6.09148 7.75235 7.48422C7.80627 7.53488 7.8636 7.58176 7.92395 7.62452C8.89789 6.69364 9.86105 5.7658 10.8323 4.84591C11.9586 3.77963 13.0889 2.71755 14.2232 1.65966C14.6486 1.26201 14.9898 1.19034 15.2509 1.42235C15.5215 1.6627 15.4963 2.06426 15.0648 2.49479C13.8981 3.65896 12.7032 4.79486 11.5094 5.93202C10.6 6.7986 9.67613 7.65024 8.70826 8.5554C9.49474 9.36886 10.247 10.1797 11.0356 10.953C11.7931 11.6957 12.5929 12.3954 13.3653 13.1228C13.6673 13.3966 13.95 13.6909 14.2116 14.0036C14.4226 14.2661 14.4537 14.5918 14.1944 14.8507C13.9388 15.1059 13.6429 15.0157 13.3964 14.8225C12.9249 14.4721 12.4729 14.096 12.0424 13.696C10.7248 12.4056 9.43042 11.0915 8.12758 9.78594C8.02454 9.68284 7.9261 9.57466 7.7833 9.42434Z","fill","white"],[1,"menu",3,"click"],["width","42","height","9","viewBox","0 0 42 9","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M20.1158 8.90739C20.7109 8.90646 21.2999 8.78743 21.8483 8.55719C22.3968 8.32695 22.8938 7.99012 23.3104 7.56639C23.7078 7.16722 24.0199 6.69184 24.228 6.16905C24.4361 5.64626 24.5359 5.08688 24.5211 4.52464C24.4553 2.27326 22.3313 0.116673 20.0649 0.000466535C19.607 -0.00710588 19.1522 0.0775734 18.7279 0.249404C18.3035 0.421236 17.9185 0.676739 17.5956 1.00051C17.0892 1.48766 16.6845 2.06975 16.4046 2.71336C16.1248 3.35698 15.9753 4.04946 15.9648 4.75084C15.9481 5.29443 16.0405 5.83588 16.2366 6.34339C16.4326 6.85095 16.7283 7.31433 17.1064 7.70639C17.501 8.09546 17.9695 8.40205 18.4845 8.60829C18.9995 8.8145 19.5505 8.91622 20.1055 8.90739H20.1158Z","fill","white"],["d","M33.7599 7.25295C34.5247 7.9064 35.504 8.25616 36.5109 8.2354C36.8693 8.23457 37.2263 8.19712 37.5767 8.12371C38.2979 7.99436 38.9793 7.70026 39.5674 7.2645C40.1558 6.82871 40.6345 6.26305 40.9669 5.61191C41.2233 5.07791 41.3319 4.48547 41.2817 3.8956C41.2316 3.30573 41.0244 2.73983 40.6816 2.25641C39.6784 0.677785 37.4452 -0.102174 35.5967 0.480241C33.7374 1.06645 32.4458 3.08334 32.526 5.27543C32.5281 5.33705 32.5468 5.39705 32.5793 5.4495C32.6429 5.55088 32.709 5.68405 32.7837 5.83198C33.0172 6.36233 33.3482 6.84429 33.7599 7.25295Z","fill","white"],["d","M3.44327 8.4497C3.59426 8.46856 3.74629 8.47801 3.89846 8.47797C4.7807 8.47059 5.63435 8.16511 6.31984 7.61146C6.77042 7.25328 7.1455 6.80973 7.42326 6.30639C7.70107 5.80304 7.87617 5.2498 7.93843 4.67866C8.17227 2.49211 6.70484 0.396602 4.73487 0.101774C4.22188 0.030812 3.69987 0.0645223 3.20038 0.20086C2.70089 0.337198 2.23438 0.573333 1.82923 0.894891C1.33045 1.28339 0.914875 1.76756 0.606889 2.31884C0.298899 2.87008 0.104719 3.47732 0.0359975 4.10459C-0.0343565 4.61408 -0.00134922 5.13246 0.132947 5.62904C0.267244 6.12559 0.500116 6.59025 0.817846 6.99546C1.13558 7.40066 1.53163 7.73811 1.9826 7.98794C2.43357 8.23773 2.9303 8.39473 3.44327 8.4497Z","fill","white"],["class","context",3,"click",4,"ngIf"],[1,"context",3,"click"],[1,"entry","prevent-select",3,"click"],[1,"spacer"]],template:function(i,o){if(i&1&&Z(0,uA,10,11,"div",5)(1,dA,13,7,"ng-template",null,0,pe)(3,fA,3,0,"ng-template",null,1,pe)(5,hA,5,0,"ng-template",null,2,pe)(7,gA,1,1,"ng-template",null,3,pe)(9,vA,1,1,"ng-template",null,4,pe),i&2){let s=ce(2);A("ngIf",!o.markedForDeletion)("ngIfElse",s)}},dependencies:[ie,Je,St,CA,en,rr],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;padding:4px;width:168px;max-width:168px;height:200px;max-height:200px;box-sizing:border-box;position:relative}.pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{width:160px;height:160px;object-fit:contain;border-radius:25px}.name[_ngcontent-%COMP%]{font-size:14px;text-align:center;overflow:hidden;text-overflow:ellipsis}.subtext[_ngcontent-%COMP%]{font-size:12px;font-style:italic;text-align:center;color:#ffffff80}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:24px;height:24px;border-radius:50%;background-color:#000000b0;text-align:center;display:none}.close[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;margin:4px}.close[_ngcontent-%COMP%]:hover{background-color:#000}.menu[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;width:60px;height:24px;border-radius:25px;background-color:#000000b0;display:none}.menu[_ngcontent-%COMP%]:hover{background-color:#000}.menu[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;margin:8px 8px 8px 10px}.container[_ngcontent-%COMP%]:hover   .close[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]:hover   .menu[_ngcontent-%COMP%]{display:block}.context[_ngcontent-%COMP%]{position:absolute;top:34px;left:40px;background-color:#000000f2;width:160px;z-index:69}.entry[_ngcontent-%COMP%]{font-size:14px;padding:4px}.entry[_ngcontent-%COMP%]:hover{background-color:var(--accent)}.spacer[_ngcontent-%COMP%]{height:8px}.deletion[_ngcontent-%COMP%]{width:160px;height:160px;border-radius:25px;position:relative;box-sizing:border-box;display:grid;grid-auto-flow:row;grid-auto-rows:46px 46px 46px;gap:4px;align-items:center;justify-content:center}.deletion[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:12px;width:95px;height:48px;text-align:center}.deletion[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100px;height:40px;background-color:var(--background-tools);border-radius:25px;border:none;color:#ffffff80;font-family:Inter;font-size:14px;margin-bottom:4px;cursor:pointer}.deletion[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:nth-child(2){color:#ffffffe6}"]});let t=e;return t})();function yA(t,e){t&1&&me(0)}function _A(t,e){t&1&&me(0)}function wA(t,e){if(t&1&&k(0,"app-history-icon",20),t&2){let r=e.$implicit;A("image",r)}}function bA(t,e){if(t&1&&(y(0,"div",18),Z(1,wA,1,1,"app-history-icon",19),w()),t&2){let r=e.ngIf;O(),A("ngForOf",r)}}function DA(t,e){if(t&1&&k(0,"app-history-icon",20),t&2){let r=e.$implicit;A("image",r)}}function xA(t,e){if(t&1&&(y(0,"div",18),Z(1,DA,1,1,"app-history-icon",19),w()),t&2){let r=e.ngIf;O(),A("ngForOf",r)}}function SA(t,e){t&1&&(Ve(),y(0,"svg",21)(1,"g",22),k(2,"path",23)(3,"path",24),w(),y(4,"defs")(5,"clipPath",25),k(6,"rect",26),w()()())}function EA(t,e){t&1&&(Ve(),y(0,"svg",27),k(1,"path",28),w())}function IA(t,e){if(t&1){let r=ye();y(0,"div",4)(1,"div",5),j(2,"Open Files"),w(),y(3,"div",29)(4,"input",9),z("change",function(i){q(r);let o=R();return W(o.onChange(i))}),w(),y(5,"label",10)(6,"div",30),Ve(),y(7,"svg",31)(8,"g",32),k(9,"path",33)(10,"path",34),w(),y(11,"defs")(12,"clipPath",35),k(13,"rect",36),w()()(),_2(),y(14,"div"),j(15," Choose a file..."),w()()()(),y(16,"div",37),j(17," History "),w()()}}var Q8=(()=>{let e=class e{constructor(n){this.store=n,this.imagesOpen$=n.imagesOpen$,this.imagesClosed$=n.imagesClosed$}onDrop(n){return Pt(this,null,function*(){if(n.preventDefault(),n.dataTransfer?.files){let i=n.dataTransfer.files;this.store.openFileList(i)}})}onDragOver(n){n.stopPropagation(),n.preventDefault(),console.log("dragover")}readFileAsDataUr(n){return Pt(this,null,function*(){return new Promise(o=>{let s=new FileReader;s.onloadend=a=>{let l=s.result;o(l)},s.readAsDataURL(n)})})}onChange(n){console.log(n);let o=n.target.files;this.store.openFileList(o)}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-new-image"]],standalone:!0,features:[se],decls:34,vars:8,consts:[["picture",""],["plus",""],["old",""],[1,"outer"],[1,"container"],[1,"header"],[1,"logo"],[1,"input","frame"],[4,"ngTemplateOutlet"],["type","file","name","file","id","file","accept",".jpg, .jpeg, .png","multiple","",1,"inputfile",3,"change"],["for","file"],[1,"btn-primary"],[1,"info"],[1,"active","frame"],[1,"subheader"],["class","icongrid",4,"ngIf"],[1,"history","frame"],[1,"subheader-infotext"],[1,"icongrid"],[3,"image",4,"ngFor","ngForOf"],[3,"image"],["width","96","height","96","viewBox","0 0 96 96","fill","none","xmlns","http://www.w3.org/2000/svg",1,"picture"],["clip-path","url(#clip0_143_80)"],["d","M31.7564 32.788C33.4545 34.3588 35.5334 35.0591 38.4987 35.0591C38.5129 35.0605 38.5272 35.0605 38.5413 35.0591C38.6326 35.0507 38.7445 35.0428 38.8712 35.034C39.2074 35.0104 39.6678 34.9772 40.12 34.91C41.4214 34.7364 42.6746 34.3017 43.805 33.6317C44.9359 32.9617 45.9206 32.0701 46.701 31.01C47.4451 29.9594 47.9713 28.7692 48.2477 27.5101C48.5242 26.2511 48.5453 24.9491 48.3103 23.6816C47.8143 20.7852 46.4381 18.9344 44.2257 18.182C42.7168 17.6728 41.1182 17.4854 39.5332 17.632C37.948 17.7786 36.4106 18.2558 35.0196 19.0332C33.6824 19.7646 32.5147 20.7722 31.5933 21.9895C30.6719 23.2069 30.0178 24.6064 29.6739 26.096C29.0684 28.6976 29.7691 30.95 31.7564 32.788ZM39.9392 22.6372C40.0188 22.6372 40.1009 22.6372 40.1801 22.6372C41.519 22.6372 42.5766 22.802 43.088 24.1488C43.347 24.8815 43.3824 25.6751 43.1888 26.428C42.9956 27.1809 42.5825 27.8586 42.003 28.374C40.5526 29.6964 37.4523 30.0496 35.745 29.0876C34.6523 28.4724 34.3193 27.7068 34.5954 26.4456C35.159 23.8704 36.8568 22.6612 39.9392 22.6372Z","fill","white"],["d","M20.3696 94.8472C21.3539 94.8072 22.3741 94.7672 23.3639 94.7672C29.4139 94.7976 34.9429 94.858 40.2665 94.952C48.791 95.1024 57.4944 95.2868 66.1312 95.5C66.8366 95.5384 67.5377 95.6368 68.2264 95.794C68.5646 95.8608 68.9036 95.9272 69.241 95.9816C69.2625 95.9852 69.284 95.9868 69.3055 95.9868H73.381C73.4013 95.9868 73.4212 95.9852 73.4411 95.9824C74.2581 95.8624 75.0779 95.7528 75.8977 95.6444C77.6699 95.4104 79.5031 95.1684 81.2848 94.79C89.4675 93.0544 96.0306 84.6444 95.9147 76.0416C95.8374 70.2892 95.8525 64.438 95.8673 58.7792C95.8776 54.718 95.888 50.5192 95.8649 46.3888C95.843 42.6128 95.7095 38.7768 95.5805 35.0688L95.498 32.6867C95.4685 31.7939 95.4422 30.9006 95.4183 30.0068C95.3387 27.0672 95.255 24.0275 94.9662 21.0511C94.6615 18.1188 94.115 15.2169 93.333 12.3751C91.1585 4.29512 83.4542 0.498752 76.7868 0.323152C74.8811 0.273152 72.952 0.40828 71.0849 0.53868C69.6812 0.63708 68.2296 0.73868 66.808 0.75948C62.9377 0.81628 59.0005 0.839484 55.1951 0.863484C50.186 0.893884 45.0064 0.92594 39.9124 1.03194L39.1458 1.04835C31.843 1.20035 24.2909 1.3571 16.8901 1.9335C8.91095 2.5547 3.6214 6.38992 1.16762 13.3335C0.755871 14.3895 0.514604 15.5048 0.452977 16.6371L0.413151 19.9795C0.291657 29.7439 0.165783 39.8412 0.19526 49.7732C0.208007 54.2332 0.357772 58.7644 0.50277 63.1464C0.582438 65.6028 0.668085 68.1424 0.726641 70.6392C0.791172 73.3592 0.813893 75.6464 0.715503 77.9628C0.356999 86.3696 7.66175 94.4376 16.0381 94.89C17.4844 94.9672 18.9515 94.9064 20.3696 94.8472ZM5.37209 23.7732C5.32266 20.2222 6.15997 16.7155 7.80755 13.5732C9.31168 10.7812 11.5268 9.03988 14.2144 8.53828C18.4683 7.74428 22.6334 7.02192 26.8279 6.90832C37.4879 6.61872 48.3301 6.44908 58.8145 6.28508C64.1008 6.20212 69.3868 6.11452 74.6728 6.02228C77.501 5.96948 80.3029 6.80392 83.5052 8.64552C86.9994 10.6543 88.1136 14.2772 88.7426 17.5564C90.0631 24.4428 90.6466 30.2159 90.5793 35.7239C90.5526 37.8957 90.5327 40.0728 90.5196 42.256C90.3694 42.1172 90.224 41.9732 90.067 41.8424C87.9993 40.118 85.8725 38.3967 83.8151 36.7323C81.3358 34.7259 78.7721 32.6523 76.2976 30.5591C73.0687 27.8295 71.1845 27.8991 68.2312 30.8583C61.2073 37.8939 54.0228 45.0628 47.0746 51.9956L39.2191 59.8356L39.0801 59.7208C38.8239 59.5092 38.616 59.3376 38.4064 59.1688C37.3086 58.2804 36.2125 57.39 35.1182 56.498C32.4493 54.3244 29.6856 52.0772 26.9299 49.914C24.9302 48.3444 23.4994 48.366 21.6523 49.9892C16.2372 54.7492 10.764 59.6024 5.44495 64.322C5.39078 51.7964 5.35098 37.926 5.37209 23.7732ZM5.99311 69.3508C7.02879 68.4772 8.06232 67.6004 9.09379 66.7212C11.0433 65.064 13.0589 63.3504 15.0629 61.694C17.2088 59.9196 19.4271 58.1368 21.5726 56.414C22.4561 55.7036 23.3434 54.9892 24.2343 54.2712C25.4253 55.236 26.6071 56.1928 27.7795 57.1404C30.8396 59.6144 33.7304 61.9504 36.659 64.3604C38.9801 66.2712 40.3896 66.2004 42.4614 64.0748C43.1557 63.362 43.8389 62.6376 44.5216 61.9148C45.4155 60.9664 46.3396 59.986 47.2737 59.052C54.3303 51.9988 61.5192 44.8416 68.4714 37.9199L71.5028 34.9019C71.7956 34.6099 72.1107 34.3291 72.3636 34.1019L72.3871 34.0811C73.6821 35.0987 74.968 36.112 76.2442 37.1211C80.0611 40.1356 83.6665 42.9832 87.4073 45.8196C88.355 46.4788 89.3954 46.9924 90.4937 47.3436C90.4702 54.8596 90.4972 62.374 90.5255 69.7232C90.5343 71.9584 90.5423 74.1932 90.5494 76.4276C90.5666 81.8432 86.2235 87.772 81.0649 89.374C77.2046 90.546 73.1738 91.0476 69.1454 90.8564C63.6611 90.6304 58.0847 90.3652 52.694 90.1092C50.4497 90.0024 48.2051 89.8956 45.96 89.7892H45.9413L39.8801 89.7864C36.6158 89.7848 33.3516 89.7836 30.0879 89.7832C26.5459 89.7832 23.0039 89.7856 19.4618 89.7912H19.4196C15.4011 89.7912 12.3877 88.7772 9.9391 86.6028C6.93602 83.9348 5.52506 80.28 5.49837 75.1C5.4892 73.3644 5.48044 71.5876 5.47168 69.78C5.64735 69.64 5.82301 69.494 5.99311 69.3508Z","fill","white"],["id","clip0_143_80"],["width","96","height","96","fill","white"],["width","12","height","12","viewBox","0 0 12 12","fill","none","xmlns","http://www.w3.org/2000/svg",1,"plus"],["d","M2.6902 4.83036C3.41475 4.83036 4.1393 4.83623 4.86372 4.82736C5.00698 4.81237 5.14115 4.75003 5.24499 4.64985C5.34873 4.54966 5.41623 4.41762 5.43653 4.27458C5.4831 3.33031 5.51025 2.38504 5.56654 1.44151C5.57563 1.07924 5.63429 0.719973 5.74089 0.373694C5.77452 0.26951 5.83878 0.178069 5.92533 0.111486C6.01201 0.0447784 6.11674 0.00617788 6.22571 0.000681385C6.33468 -0.00481512 6.44278 0.0230421 6.53568 0.0806304C6.62846 0.138094 6.70169 0.222665 6.7454 0.322976C6.8606 0.588807 6.92349 0.874375 6.93059 1.16407C6.98638 1.8896 7.00979 2.61777 7.05313 3.3443C7.06621 3.56179 7.09933 3.77828 7.12885 3.99389C7.19909 4.50869 7.49486 4.81524 7.97196 4.81249C8.69651 4.80825 9.42081 4.76252 10.1454 4.7554C10.7226 4.75016 11.3105 4.73767 11.839 5.01936C11.9313 5.06846 11.965 5.25171 11.9972 5.38038C12.0028 5.41661 11.9999 5.45371 11.9889 5.48869C11.9779 5.52354 11.959 5.55552 11.9336 5.582C11.8328 5.68594 11.7072 5.76201 11.5684 5.80299C11.139 5.8617 10.7049 5.8958 10.2716 5.91479C9.47461 5.94952 8.67683 5.95989 7.87992 5.99424C7.69947 6.01323 7.53185 6.0968 7.40756 6.22947C7.2834 6.36226 7.21092 6.5354 7.20344 6.71741C7.14118 7.80696 7.09834 8.89752 7.03246 9.98682C7.01066 10.3468 6.9469 10.705 6.8926 11.0624C6.85661 11.2997 6.4642 11.5832 6.24863 11.5471C6.01525 11.508 5.67875 11.204 5.64899 10.9788C5.60166 10.62 5.54936 10.2596 5.5369 9.89875C5.49817 8.80845 5.48099 7.71764 5.44711 6.62709C5.43404 6.48293 5.37301 6.34739 5.27388 6.24233C5.17475 6.13715 5.04319 6.06844 4.90045 6.04733C4.03169 6.00161 3.16219 5.96975 2.29355 5.92241C1.71508 5.89056 1.13698 5.84758 0.55976 5.79624C0.260874 5.76988 -0.077864 5.41436 0.0159116 5.2341C0.0596487 5.13716 0.129763 5.05459 0.218183 4.99575C0.306604 4.93704 0.409757 4.90431 0.515799 4.90169C1.24023 4.89532 1.96478 4.89944 2.6892 4.89944L2.6902 4.83036Z","fill","white"],[1,"input"],[1,"grid"],["width","138","height","164","viewBox","0 0 138 164","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_589)"],["d","M137.273 82.673C137.273 97.0745 137.192 111.477 137.315 125.878C137.257 131.183 136.718 136.472 135.704 141.679C135.346 143.92 134.553 146.067 133.372 148.001C128.405 155.697 121.501 160.577 112.222 161.587C91.9284 163.816 71.465 164.02 51.1311 162.199C43.2342 161.486 35.2579 161.444 27.5523 159.315C23.8951 158.401 20.3171 157.194 16.8527 155.706C7.92056 151.593 2.80505 144.479 1.616 134.664C1.2437 131.655 1.05786 128.625 1.05958 125.593C1.16944 96.0341 1.35943 66.472 1.47704 36.911C1.53559 30.8429 2.38153 24.808 3.99348 18.959C5.06943 14.908 7.15491 11.1983 10.0538 8.17847C13.7054 4.23851 18.7609 1.90477 24.1195 1.68615C34.3047 1.17405 44.4892 0.555105 54.6821 0.331468C64.5003 0.116259 74.3316 0.206058 84.1504 0.425156C90.9403 0.576192 97.7296 1.06481 104.498 1.64627C106.373 1.80769 108.171 2.46653 109.709 3.55485C119.117 10.6029 127.839 18.4142 135.282 27.5846C136.961 29.6492 137.818 32.2647 137.688 34.9258C137.483 49.3241 137.407 63.7254 137.289 78.1251C137.277 79.6412 137.289 81.1568 137.289 82.673H137.273ZM12.4344 82.203C11.3675 98.0702 11.2945 113.953 11.2712 129.836C11.3269 133.244 11.8445 136.628 12.8099 139.896C13.3125 141.922 14.2457 143.815 15.5454 145.445C16.8452 147.076 18.4808 148.405 20.3404 149.343C22.3187 150.443 24.4302 151.281 26.6223 151.839C31.7689 152.976 36.9239 154.064 42.2352 154.358C62.9437 155.613 83.7077 155.647 104.421 154.461C107.053 154.297 109.695 154.112 112.299 153.717C115.3 153.231 118.098 151.891 120.362 149.857C123.238 147.384 125.384 144.168 126.566 140.557C128.419 135.061 128.44 129.408 128.44 123.727C128.436 99.141 128.432 74.5553 128.429 49.9698C128.429 46.9439 128.419 43.9173 128.343 40.8947C128.278 38.3095 126.856 37.0384 123.956 36.9528C118.679 36.7972 113.397 36.7643 108.123 36.5166C106.252 36.3845 104.402 36.0368 102.611 35.4797C101.691 35.243 100.858 34.7459 100.212 34.0478C99.5655 33.3498 99.1325 32.4801 98.9651 31.5423C98.6394 29.6825 98.4785 27.7972 98.4843 25.909C98.4326 21.3773 98.4902 16.8445 98.5134 12.3115C98.5173 11.5064 97.272 9.87169 96.598 9.77122C95.8626 9.61065 95.1175 9.49851 94.3679 9.43635C76.2697 9.17706 58.1707 8.9376 40.0716 8.71721C37.0615 8.68545 34.0476 9.00009 31.0342 9.13881C27.2124 9.31383 23.6077 10.4446 20.0871 11.802C17.589 12.7597 15.5152 14.5825 14.2407 16.9409C12.5838 19.9486 11.4509 23.1169 11.8393 26.6743C12.2496 30.434 12.8577 34.2002 12.8513 37.9631C12.8241 52.7076 12.5902 67.4553 12.4344 82.203ZM109.153 17.636C108.763 18.2309 108.47 18.8853 108.288 19.5736C108.114 21.4243 108.067 23.2915 108.076 25.1525C108.05 25.6142 108.116 26.0763 108.272 26.5117C108.427 26.9469 108.668 27.3468 108.98 27.6871C109.292 28.0276 109.669 28.3017 110.088 28.4937C110.507 28.6856 110.961 28.7913 111.422 28.8045C114.007 28.8466 116.595 28.7452 119.18 28.6544C119.332 28.6177 119.473 28.5453 119.592 28.443C119.711 28.3407 119.803 28.2111 119.863 28.0657C119.927 27.8917 119.956 27.7067 119.947 27.5213C119.94 27.3359 119.895 27.1536 119.816 26.9858C117.187 23.3863 113.949 20.2784 110.247 17.8043C109.975 17.615 109.523 17.6865 109.153 17.636Z","fill","white"],["d","M52.63 92.2501C56.3898 92.2501 60.1495 92.2806 63.9086 92.2346C64.652 92.1568 65.3482 91.8333 65.887 91.3134C66.4254 90.7936 66.7756 90.1084 66.8809 89.3662C67.1226 84.4663 67.2635 79.5612 67.5556 74.6652C67.6028 72.7853 67.9072 70.9211 68.4603 69.1242C68.6348 68.5836 68.9683 68.1091 69.4174 67.7636C69.8672 67.4174 70.4106 67.2171 70.9761 67.1886C71.5415 67.1601 72.1025 67.3046 72.5845 67.6035C73.066 67.9016 73.446 68.3405 73.6728 68.861C74.2705 70.2404 74.5969 71.7223 74.6337 73.2255C74.9232 76.9903 75.0447 80.7688 75.2696 84.5389C75.3375 85.6674 75.5094 86.7908 75.6625 87.9096C76.027 90.581 77.5618 92.1717 80.0375 92.1574C83.7972 92.1354 87.5557 91.8981 91.3154 91.8612C94.3107 91.834 97.3615 91.7691 100.104 93.2309C100.583 93.4856 100.757 94.4366 100.925 95.1042C100.954 95.2922 100.939 95.4847 100.882 95.6662C100.825 95.8471 100.726 96.0131 100.595 96.1505C100.072 96.6898 99.4197 97.0846 98.6998 97.2972C96.4716 97.6018 94.2189 97.7788 91.9707 97.8773C87.8348 98.0575 83.6951 98.1113 79.5599 98.2896C78.6235 98.3881 77.7537 98.8218 77.1088 99.5102C76.4645 100.199 76.0884 101.098 76.0496 102.042C75.7265 107.696 75.5042 113.355 75.1623 119.007C75.0492 120.876 74.7184 122.734 74.4366 124.589C74.2499 125.82 72.2136 127.291 71.095 127.104C69.884 126.901 68.1379 125.324 67.9834 124.155C67.7378 122.293 67.4664 120.423 67.4018 118.55C67.2008 112.893 67.1116 107.232 66.9359 101.573C66.868 100.825 66.5514 100.122 66.037 99.577C65.5226 99.0312 64.8399 98.6746 64.0992 98.5651C59.5911 98.3278 55.0792 98.1625 50.5718 97.9169C47.5701 97.7516 44.5703 97.5286 41.575 97.2622C40.0241 97.1254 38.2664 95.2806 38.753 94.3452C38.9799 93.8422 39.3438 93.4137 39.8026 93.1084C40.2614 92.8037 40.7967 92.6339 41.3469 92.6203C45.106 92.5872 48.8658 92.6086 52.6249 92.6086L52.63 92.2501Z","fill","white"],["id","clip0_1_589"],["width","137","height","164","fill","white","transform","translate(0.777344)"],[1,"history"]],template:function(i,o){if(i&1){let s=ye();y(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),j(4,"Image Cutter"),w()(),y(5,"div",7),Z(6,yA,1,0,"ng-container",8),y(7,"input",9),z("change",function(l){return q(s),W(o.onChange(l))}),w(),y(8,"label",10)(9,"button",11)(10,"span"),Z(11,_A,1,0,"ng-container",8),j(12," Add Image(s) "),w()()(),y(13,"button"),j(14,"Add Examples"),w()(),k(15,"div",12),y(16,"div",13)(17,"div",14),j(18,"Active Projects"),w(),Z(19,bA,2,1,"div",15),Re(20,"async"),w(),y(21,"div",16)(22,"div",14),j(23,"Inactive Projects"),w(),y(24,"div",17),j(25,"Might delete later."),w(),Z(26,xA,2,1,"div",15),Re(27,"async"),w()()(),Z(28,SA,7,0,"ng-template",null,0,pe)(30,EA,2,0,"ng-template",null,1,pe)(32,IA,18,0,"ng-template",null,2,pe)}if(i&2){let s=ce(29),a=ce(31);O(6),A("ngTemplateOutlet",s),O(5),A("ngTemplateOutlet",a),O(8),A("ngIf",Pe(20,4,o.imagesOpen$)),O(7),A("ngIf",Pe(27,6,o.imagesClosed$))}},dependencies:[ie,Do,Je,St,Et,X8],styles:['.outer[_ngcontent-%COMP%]{width:100%;height:100%;padding:24px;box-sizing:border-box}.container[_ngcontent-%COMP%]{margin:auto;max-width:1108px;border-radius:25px;background-color:var(--background-tools);display:grid;justify-content:stretch;gap:20px;padding:20px;grid-template-areas:"header header" "input info" "active active" "history history";grid-template-rows:48px auto auto auto;grid-template-columns:auto;overflow-y:auto}.header[_ngcontent-%COMP%]{grid-area:header;height:40px;font-size:large;font-weight:500;text-align:center}.logo[_ngcontent-%COMP%]{font-size:24px;font-weight:400;line-height:32px;text-align:left}.input[_ngcontent-%COMP%]{grid-area:input;max-width:280px;display:grid;grid-auto-flow:row;padding:20px;justify-content:center;align-items:center}.frame[_ngcontent-%COMP%]{border-radius:25px;background-color:var(--background-header)}button[_ngcontent-%COMP%]{width:240px;height:40px;background-color:var(--background-tools);border-radius:25px;border:none;color:#ffffff80;font-family:Inter;font-size:14px}.btn-primary[_ngcontent-%COMP%]{background-color:var(--accent);color:#fff}button[_ngcontent-%COMP%]:nth-of-type(1){margin-bottom:12px}label[_ngcontent-%COMP%]{cursor:pointer}button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:relative}.plus[_ngcontent-%COMP%]{position:absolute;left:-16px;top:3.57px}.picture[_ngcontent-%COMP%]{margin:4px auto 24px}.inputfile[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{cursor:pointer}.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.grid[_ngcontent-%COMP%]{display:grid;justify-content:center;align-items:center;height:100%}.grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:24px}.info[_ngcontent-%COMP%]{grid-area:info}.active[_ngcontent-%COMP%]{grid-area:active;display:grid;grid-auto-flow:row;padding:20px}.icongrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,168px);gap:12px}app-history-icon[_ngcontent-%COMP%]{width:168px}.history[_ngcontent-%COMP%]{grid-area:history;display:grid;grid-auto-flow:row;padding:20px}']});let t=e;return t})();var rt=Qu(Ip());function MA(t,e){if(t&1&&(y(0,"p"),j(1),w()),t&2){let r=e.ngIf;O(),uh(" x: ",r.x,", y: ",r.y,"")}}function TA(t,e){if(t&1&&(y(0,"div",1)(1,"p"),j(2),Re(3,"percent"),w(),Z(4,MA,2,2,"p",2),Re(5,"async"),w()),t&2){let r=e.ngIf,n=R();O(2),dh(" w: ",r.file.width,", h: ",r.file.height,", z: ",Pe(3,4,r.meta.zoom)," "),O(2),A("ngIf",Pe(5,6,n.mouseoverCoords$))}}var J8=(()=>{let e=class e{constructor(n,i){this.store=n,this.canvasService=i,this.active$=n.active$,this.mouseoverCoords$=i.mouseoverCoords$}};e.\u0275fac=function(i){return new(i||e)(Q(_e),Q(ns))},e.\u0275cmp=oe({type:e,selectors:[["app-canvas-info"]],standalone:!0,features:[se],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf"]],template:function(i,o){i&1&&(Z(0,TA,6,8,"div",0),Re(1,"async")),i&2&&A("ngIf",Pe(1,1,o.active$))},dependencies:[ie,Je,Et,Ql],styles:[".container[_ngcontent-%COMP%]{height:32px;padding:0 8px}p[_ngcontent-%COMP%]{height:16px;margin:0;padding:0;font-size:12px;font-family:Inter}"]});let t=e;return t})();var e6=(()=>{let e=class e{constructor(){this.pressedKeys=new Set,this.pressedKeysSubject=new Qe(new Set),this.pressedKeys$=this.pressedKeysSubject.pipe(gr()),this.keyDownSubject=new Qe(""),this.keyDown$=this.keyDownSubject.pipe(gr()),this.keyDownRepeatSubject=new Qe(""),this.keyDownRepeat$=this.keyDownRepeatSubject.pipe(gr()),this.keyUpSubject=new Qe(""),this.keyUp$=this.keyUpSubject.pipe(gr()),console.log("KeypressService init"),this.setupEvents()}setupEvents(){window.addEventListener("keydown",n=>{let i=n.key;this.keyDownRepeatSubject.next(i),n.repeat||(this.pressedKeys.add(i),this.updateSubject(),this.keyDownSubject.next(i))}),window.addEventListener("keyup",n=>{this.pressedKeys.delete(n.key),this.updateSubject(),this.keyUpSubject.next(n.key)})}updateSubject(){this.pressedKeysSubject.next(this.pressedKeys)}isKeyPressed(n){return this.pressedKeys.has(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OA=["scroll"],NA=["large"],t6=(()=>{let e=class e{onResize(n){this.resizeStage(),this.updateScale(),this.updateScroll(),this.updateBGPosition()}constructor(n,i,o){this.store=n,this.keypressService=i,this.canvasService=o,this.destroy$=new Oe,this.id="-42",this.moveUpdater=new Oe,this.zoom=1,this.scroll={x:.5,y:.5},this.mouseoverCutID="",this.scrollUpdater=new Oe,this.pointerCoordsUpdater=new Oe,this.rectColor="#171719",this.rectColorSelected="#00A5A5",console.log("constructor");let s=this;this.scrollHandler=function(a){s.onScroll(a)}}initSubs(){this.store.activeFile$.pipe(ot(this.destroy$)).subscribe(a=>{this.imageFile=a;let l=this.store.store.query(es());l&&(this.id=l.id),this.drawCheckered(),this.drawStageBG(),this.updateScale(),this.updateScroll(),this.updateBGPosition()}),this.store.zoom$.pipe(ot(this.destroy$)).subscribe(a=>{this.zoom=a||1,this.updateScale(),this.updateScroll(),this.updateBGPosition(),this.updateTransformerText()}),this.store.scroll$.pipe(ot(this.destroy$)).subscribe(a=>{this.scroll=a,this.updateScale(),this.updateScroll(),this.updateBGPosition()}),this.scrollRef.nativeElement.addEventListener("scroll",this.scrollHandler),this.scrollUpdater.pipe(zn(0),ot(this.destroy$)).subscribe(a=>{let l=a.x,c=a.y;this.store.updateScroll(this.image.id,l,c)}),this.store.selectedCut$.pipe(ot(this.destroy$)).subscribe(a=>{this.selectedCut=a,this.showTransformerText(!!a),this.updateSelectedCut()}),this.store.nonSelectedCuts$.pipe(ot(this.destroy$)).subscribe(a=>{this.nonSelectedCuts=a,this.updateNonSelectedCuts()}),this.canvasService.mouseoverCutID$.pipe(ot(this.destroy$)).subscribe(a=>{this.mouseoverCutID=a,this.updateMouseoverCut()}),this.pointerCoordsUpdater.pipe(Xa(25,Gn,{leading:!0,trailing:!0}),ot(this.destroy$)).subscribe(a=>{let l=this.getRelativePointerCoords();l&&(l.x=Math.round(l.x),l.y=Math.round(l.y)),this.canvasService.updateMouseoverCoords(l)}),this.keypressService.keyDownRepeat$.pipe(ot(this.destroy$)).subscribe(a=>{}),this.moveUpdater.pipe(Xa(150),ot(this.destroy$)).subscribe(a=>{this.store.updateCut(this.id,a)})}ngAfterViewInit(){return Pt(this,null,function*(){console.log("ngAfterViewInit"),this.stage||(this.initStage(),this.resizeStage(),this.initTransformer(),this.initTransformerText(),this.initHoverText()),this.initSubs()})}ngOnChanges(n){return Pt(this,null,function*(){})}ngOnDestroy(){this.destroy$.next(1),this.destroy$.complete()}handleKeypress(n){switch(n){case"ArrowUp":{this.moveSelectedCut(0,-1);break}case"ArrowDown":{this.moveSelectedCut(0,1);break}case"ArrowLeft":{this.moveSelectedCut(-1,0);break}case"ArrowRight":{this.moveSelectedCut(1,0);break}default:break}}initStage(){console.log("initStage"),this.stage=new rt.default.Stage({height:300,width:300,container:"konva"}),this.layerCheckered=new rt.default.Layer({imageSmoothingEnabled:!1}),this.stage.add(this.layerCheckered);let n=new rt.default.Layer({imageSmoothingEnabled:!1});this.layerBG=n,this.stage.add(this.layerBG),this.layerCuts=new rt.default.Layer,this.stage.add(this.layerCuts),this.layerSelected=new rt.default.Layer,this.stage.add(this.layerSelected);let i=this;this.stage.on("wheel",function(o){let s=o.evt;i.onMouseWheel(s)}),this.stage.on("pointermove",function(o){i.updatePointerCoords()}),this.stage.on("pointerleave",function(o){})}leave(){this.updatePointerCoords()}resizeStage(){let n=window.innerHeight,i=window.innerWidth,o=24,s=n-32-48-32-32-2*o,a=i-48-240-2*o;this.stage.height(s),this.stage.width(a)}drawCheckered(){return Pt(this,null,function*(){if(!this.imageFile)return;let n=this.layerCheckered;n.findOne("#bg")&&n.destroyChildren();let o=this.imageFile,s=this,a=this.stage,l=1e3,c=Math.ceil(o.width/l),u=Math.ceil(o.height/l),d=new rt.default.Rect({x:0,y:0,width:o.width,height:o.height,draggable:!1,id:"bg",fill:"rgba(0, 0, 0, 0)"});n.add(d);let f="../../../../assets/img/checkered.png",h=new URL(f,import.meta.url);console.log(f,h.toString());let v=yield(b=>new Promise((x,T)=>{let I=new Image;I.onload=function(){x(I)},I.src=b}))(h.toString());for(let b=0;b<c;b++)for(let x=0;x<u;x++){let T=Math.min(l,o.width-b*l),I=Math.min(l,o.height-x*l),P=new rt.default.Rect({x:b*l,y:x*l,width:T,height:I,fillPatternImage:v});n.add(P)}n.cache()})}drawStageBG(){if(!this.imageFile)return;let n=this.layerBG;this.layerBG.findOne("#bg")&&n.destroyChildren();let o=this.imageFile,s=this,a=this.stage;rt.default.Image.fromURL(o.dataURL,function(l){let c=o.width/2,u=o.height/2;l.setAttrs({x:c,y:u,scaleX:1,scaleY:1,offsetX:c,offsetY:u,id:"bg"}),s.bgImageRef=l,a.offset({x:c,y:u}),l.on("pointerclick",function(){let d=a.getPointerPosition();s.image.meta.tool!="select"&&s.store.selectCut(s.id,void 0)}),n.add(l)})}getStageCenter(){let n=this.stage.width()/2,i=this.stage.height()/2;return{x:n,y:i}}getRelativePointerCoords(){if(this.bgImageRef){let n=this.bgImageRef.getRelativePointerPosition();return!n||(n.x=Math.ceil(n.x),n.y=Math.ceil(n.y),n.x<=0||n.x>this.image.file.width||n.y<=0||n.y>this.image.file.height)?null:n}else return null}updatePointerCoords(n){this.pointerCoordsUpdater.next(null)}updateScale(){if(!this.largeRef||!this.imageFile)return;let n=this.zoom,i=24,o=this.imageFile,s=o.width*n+2*i,a=o.height*n+2*i,l=this.largeRef.nativeElement;l.style.width=`${s}px`,l.style.height=`${a}px`}updateScroll(){if(this.scrollRef){let n=this.scrollRef.nativeElement;n.removeEventListener("scroll",this.scrollHandler);let i=(n.scrollWidth-n.clientWidth)*this.scroll.x;n.scrollLeft=i;let o=(n.scrollHeight-n.clientHeight)*this.scroll.y;n.scrollTop=o,n.addEventListener("scroll",this.scrollHandler)}}onScroll(n){let i=this.scrollRef.nativeElement,o=0;i.scrollWidth===i.clientWidth?o=this.image.meta.scrollX:o=i.scrollLeft/(i.scrollWidth-i.clientWidth);let s=0;i.scrollHeight===i.clientHeight?s=this.image.meta.scrollY:s=i.scrollTop/(i.scrollHeight-i.clientHeight),(this.image.meta.scrollX!=o||this.image.meta.scrollY!=s)&&(this.scroll={x:o,y:s},this.scrollUpdater.next(this.scroll),this.updateScale(),this.updateScroll(),this.updateBGPosition())}updateBGPosition(){if(!this.scrollRef)return;let n=this.scrollRef.nativeElement,i=this.getStageCenter(),o=this.zoom;this.stage.scale({x:o,y:o});let s=this.scroll.x,a=this.scroll.y,l=i.x;n.scrollWidth===n.clientWidth||(l=i.x+(.5-s)*(n.scrollWidth-n.clientWidth)),this.stage.x(l);let c=i.y;n.scrollHeight===n.clientHeight||(c=i.y+(.5-a)*(n.scrollHeight-n.clientHeight)),this.stage.y(c)}initTransformer(){let n=new rt.default.Transformer({ignoreStroke:!0,rotateEnabled:!1,flipEnabled:!1,enabledAnchors:["middle-right","bottom-center","bottom-right"],keepRatio:!1,shiftBehavior:"keepRatio"});this.transformer=n;let i=new rt.default.Text({x:0,y:0,draggable:!1}),o=function(){let h=["x: "+a.x(),"y: "+a.y(),"rotation: "+a.rotation(),"width: "+a.width(),"height: "+a.height(),"scaleX: "+a.scaleX(),"scaleY: "+a.scaleY()];i.text(h.join(`
`))},s=function(){},a=new rt.default.Rect({x:0,y:50,width:10,height:10,stroke:"#00A5A5",strokeWidth:5,strokeScaleEnabled:!1,id:"cut1",draggable:!0});this.rect=a,this.layerSelected.add(a),n.nodes([a]),this.layerSelected.add(n),o(),s();let l=this,c=function(){l.updateSelectedCutStore()};a.on("mouseenter",function(){l.updateCursor("move")}),a.on("mouseleave",function(){l.updateCursor("default")}),a.on("dragmove",function(){let h=Math.round(a.x()),g=Math.round(a.y());a.x(h),a.y(g),o(),s(),l.updateTransformerText()}),a.on("dragend",function(){c()});let u=0,d=0,f=function(){let h=Math.round(a.x()),g=Math.round(a.y()),v=Math.max(2,Math.round(a.width()*a.scaleX())),b=Math.max(2,Math.round(a.height()*a.scaleY()));a.scaleX(1),a.scaleY(1),a.width(v),a.height(b),a.x(h),a.y(g)};a.on("transformstart",function(){u=a.x(),d=a.y()}),a.on("transform",function(){n.getActiveAnchor()&&(f(),o(),s(),l.updateTransformerText())}),a.on("transformend",function(){c()})}initTransformerText(){let n=this.transformer,i={x:0,y:0,draggable:!1,fontFamily:"Inter",fontSize:16,fill:"orange",padding:0},o=new rt.default.Text(i);this.transformerTextOrigin=o,this.layerSelected.add(o);let s=new rt.default.Text(i);this.transformerTextY=s,this.layerSelected.add(s);let a={x:0,y:0},l={fill:"#24262B"};{let c=new rt.default.Label(a);this.transformerLabelOrigin=c,this.layerSelected.add(c);let u=new rt.default.Tag(l);c.add(u);let d=new rt.default.Text(i);this.transformerTextOrigin=d,c.add(d)}{let c=new rt.default.Label(a);this.transformerLabelX=c,this.layerSelected.add(c);let u=new rt.default.Tag(l);c.add(u);let d=new rt.default.Text(i);this.transformerTextX=d,c.add(d)}{let c=new rt.default.Label(a);this.transformerLabelY=c,this.layerSelected.add(c);let u=new rt.default.Tag(l);c.add(u);let d=new rt.default.Text(i);this.transformerTextY=d,c.add(d)}}showTransformerText(n){let i=this.layerSelected,o=this.transformerLabelOrigin,s=this.transformerLabelX,a=this.transformerLabelY;n?(i.add(o),i.add(s),i.add(a)):(o.remove(),s.remove(),a.remove())}updateTransformerText(){let n=this.rect,i=this.zoom,s=Math.max(16/i,5);{let a=this.transformerTextOrigin,l=this.transformerLabelOrigin,c=["x:"+n.x(),"y:"+n.y()];a.text(c.join(`
`)),a.fontSize(s),l.x(n.x()),l.y(n.y());let u=1;l.offsetY(l.height()+u),l.offsetX(l.width()+u)}{let a=this.transformerTextX,l=this.transformerLabelX,c=n.width();a.text(`${c}`),a.fontSize(s),l.x(n.x()+c/2),l.y(n.y());let u=2;l.offsetX(l.width()/2),l.offsetY(l.height()+u)}{let a=this.transformerTextY,l=this.transformerLabelY,c=n.height();a.text(`${c}`),a.fontSize(s),l.x(n.x()),l.y(n.y()+c/2),l.offsetX(l.width()+2)}}updateSelectedCut(){let n=this.layerSelected,i=this.rect;i.remove();let o=this.transformer;o.remove();let s=this.selectedCut;if(!s)return;let a=s.absolute;i.x(a.x),i.y(a.y),i.width(a.width),i.height(a.height),n.add(i),n.add(o),this.updateTransformerText()}updateSelectedCutStore(){let n=this.selectedCut,i=this.rect;if(!n)return;let o=M({},n);o.absolute.x=i.x(),o.absolute.y=i.y(),o.absolute.height=i.height(),o.absolute.width=i.width(),o.relative=dr(o.absolute,{x:this.imageFile.width,y:this.imageFile.height}),this.store.updateCut(this.id,o)}moveSelectedCut(n,i){let o=this.selectedCut;if(!o)return;let s=M({},o);o.type==="absolute"&&(s.absolute.x=s.absolute.x+n,s.absolute.y=s.absolute.y+i,this.moveUpdater.next(s),this.selectedCut=s,this.updateSelectedCut())}updateNonSelectedCuts(){let n=this.layerCuts;n.removeChildren();let i=n.find(""),o=this.nonSelectedCuts;if(!o||o.length<1)return;let s={stroke:this.rectColor,strokeWidth:3,strokeScaleEnabled:!1,id:"123",draggable:!1},a=this;o.forEach(l=>{if(l.visible){let c=l.absolute,u=new rt.default.Rect(J(M({},s),{x:c.x,y:c.y,width:c.width,height:c.height,id:l.id,name:"rect"}));u.dash([8,1]),u.setAttr("cut",l),u.on("mouseenter",function(){a.updateCursor("pointer"),a.updateHoverLabel(u),u.stroke(a.rectColorSelected)}),u.on("mouseleave",function(){a.updateCursor("default"),a.updateHoverLabel(void 0),u.stroke(a.rectColor)}),u.on("pointerclick",function(d){a.onRectPointerClick(l)}),n.add(u)}})}updateMouseoverCut(){let n=this.mouseoverCutID,o=this.layerCuts.find(".rect"),s=!1;o.forEach(a=>{a.getAttr("cut").id===n?(a.stroke(this.rectColorSelected),this.updateHoverLabel(a),s=!0):a.stroke(this.rectColor)}),!s&&this.updateHoverLabel(void 0)}updateCursor(n){this.stage.container().style.cursor=n}onRectPointerClick(n){this.updateHoverLabel(void 0),this.store.selectCut(this.id,n)}initHoverText(){let n=this.layerCuts,i=new rt.default.Label({});this.hoverLabel=i;let o=new rt.default.Tag({fill:"#24262B",pointerDirection:"down",pointerWidth:3,pointerHeight:3,lineJoin:"round"});this.hoverTag=o,i.add(o);let s=new rt.default.Text({x:0,y:0,draggable:!1,fontFamily:"Inter",fontSize:16,fill:"orange",padding:0});this.hoverText=s,i.add(s)}updateHoverLabel(n){let i=this.layerCuts,o=this.hoverLabel,s=this.hoverTag,a=this.hoverText;if(o.remove(),s.remove(),a.remove(),!n)return;let l=n.getAttr("cut");a.text(l.name);let c=this.zoom,d=Math.max(16/c,5);a.fontSize(d);let f=2;o.x(n.x()+n.width()/2),o.y(n.y()),o.add(s),o.add(a),i.add(o)}onMouseWheel(n){let i=n.deltaX,o=n.deltaY;this.keypressService.isKeyPressed("Shift")?this.handleWheel(o,0):this.handleWheel(0,o)}handleWheel(n,i){if(!this.scrollRef)return;let o=this.scrollRef.nativeElement,s=o.scrollWidth-o.clientWidth,a=o.scrollHeight-o.clientHeight,l=this.image.meta.scrollX,c=this.image.meta.scrollY,u=this.image.meta.scrollX,d=this.image.meta.scrollY;if(s>0&&Math.abs(n)>0){let f=.069*Math.sign(n);u=Math.min(Math.max(l+f,0),1)}if(a>0&&Math.abs(i)>0){let f=.069*Math.sign(i);d=Math.min(Math.max(c+f,0),1)}(this.image.meta.scrollX!=u||this.image.meta.scrollY!=d)&&(this.scroll={x:u,y:d},this.scrollUpdater.next(this.scroll),this.updateScale(),this.updateScroll(),this.updateBGPosition())}};e.\u0275fac=function(i){return new(i||e)(Q(_e),Q(e6),Q(ns))},e.\u0275cmp=oe({type:e,selectors:[["app-canvas"]],viewQuery:function(i,o){if(i&1&&(Dr(OA,5),Dr(NA,5)),i&2){let s;Qn(s=Jn())&&(o.scrollRef=s.first),Qn(s=Jn())&&(o.largeRef=s.first)}},hostBindings:function(i,o){i&1&&z("resize",function(a){return o.onResize(a)},!1,Ll)},inputs:{image:"image"},standalone:!0,features:[gn,se],decls:6,vars:0,consts:[["scroll",""],["large",""],["id","konva",1,"konva",3,"mouseleave"],["id","scroll-container",3,"wheel"],["id","large-container"],[1,"info"]],template:function(i,o){if(i&1){let s=ye();y(0,"div",2),z("mouseleave",function(){return q(s),W(o.leave())}),w(),y(1,"div",3,0),z("wheel",function(l){return q(s),W(o.onMouseWheel(l))}),k(3,"div",4,1),w(),k(5,"app-canvas-info",5)}},dependencies:[ie,J8],styles:["#scroll-container[_ngcontent-%COMP%]{display:block;width:100%;height:100%;overflow:auto}#large-container[_ngcontent-%COMP%]{width:300px;height:300px;overflow:hidden}.konva[_ngcontent-%COMP%]{position:absolute;top:136px;left:72px}.info[_ngcontent-%COMP%]{position:absolute;left:48px;bottom:0}.checkered-box[_ngcontent-%COMP%]{position:absolute;inset:136px 264px 56px 72px;display:flex;align-items:center;justify-content:center;overflow:hidden}.checkered[_ngcontent-%COMP%]{width:100px;height:100px;--bgColor: rgba(255, 255, 255);--squareColor: rgba(100, 100, 100, .5);--squareSize: 5px;background-color:var(--backgroundColor);background-image:linear-gradient(45deg,var(--squareColor) 25%,transparent 25%),linear-gradient(135deg,var(--squareColor) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,var(--squareColor) 75%),linear-gradient(135deg,transparent 75%,var(--squareColor) 75%);background-size:calc(2 * var(--squareSize)) calc(2 * var(--squareSize));background-position:0 0,var(--squareSize) 0,var(--squareSize) calc(-1 * var(--squareSize)),0 calc(-1 * var(--squareSize))}"]});let t=e;return t})();function RA(t,e){if(t&1&&(He(0),k(1,"app-canvas",2),$e()),t&2){let r=e.ngIf;O(),A("image",r)}}function PA(t,e){t&1&&k(0,"app-new-image",3)}var n6=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-main"]],standalone:!0,features:[se],decls:4,vars:4,consts:[["newImage",""],[4,"ngIf","ngIfElse"],[3,"image"],[1,"place"]],template:function(i,o){if(i&1&&(Z(0,RA,2,1,"ng-container",1),Re(1,"async"),Z(2,PA,1,0,"ng-template",null,0,pe)),i&2){let s=ce(3);A("ngIf",Pe(1,2,o.active$))("ngIfElse",s)}},dependencies:[ie,Je,Et,Q8,t6],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}.grid[_ngcontent-%COMP%]{display:grid}.place[_ngcontent-%COMP%]{place-self:center}"]});let t=e;return t})();var r6=(()=>{let e=class e{constructor(n){this.store=n}onDrop(n){return Pt(this,null,function*(){if(n.preventDefault(),console.log("onDrop"),n.dataTransfer?.files){let i=n.dataTransfer.files;this.store.openFileList(i)}this.store.updateShowDropzone(!1)})}onDragOver(n){n.stopPropagation(),n.preventDefault(),this.store.store.getValue().showDropzone||this.store.updateShowDropzone(!0)}onDragLeave(n){this.store.updateShowDropzone(!1)}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-drop-image"]],standalone:!0,features:[se],decls:2,vars:0,consts:[[1,"dropzone",3,"drop","dragover","dragleave"]],template:function(i,o){i&1&&(y(0,"div",0),z("drop",function(a){return o.onDrop(a)})("dragover",function(a){return o.onDragOver(a)})("dragleave",function(a){return o.onDragLeave(a)}),j(1,"Drop to open File(s)"),w())},dependencies:[ie],styles:[".dropzone[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0009;display:grid;align-items:center;justify-content:center;font-size:52px}"]});let t=e;return t})();function FA(t,e){t&1&&me(0)}function kA(t,e){if(t&1){let r=ye();y(0,"div",3),z("click",function(i){q(r);let o=R();return W(o.onClose(i))}),Ve(),y(1,"svg",4)(2,"g",5),k(3,"path",6),w(),y(4,"defs")(5,"clipPath",7),k(6,"rect",8),w()()()()}}var i6=(()=>{let e=class e{constructor(n){this.store=n,this.selected=!0}onClick(){this.selected||this.store.setActiveImage(this.image.id)}onClose(n){n.preventDefault(),n.stopPropagation(),this.store.closeImage(this.image.id)}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-tabs"]],inputs:{image:"image",selected:"selected"},standalone:!0,features:[se],decls:6,vars:6,consts:[["closeTemplate",""],[1,"tab",3,"click","tooltip","position"],[4,"ngTemplateOutlet"],[1,"svg-container",3,"click"],["width","130","height","127","viewBox","0 0 130 127","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_1098)"],["d","M62.3646 76.0631C51.1449 86.1077 40.1729 95.837 29.3108 105.688C23.0181 111.394 16.9507 117.348 10.6727 123.07C9.00056 124.633 7.07912 125.904 4.98761 126.829C3.95624 127.262 1.72909 126.829 1.22118 126.036C0.549153 124.983 0.747845 123.114 1.11236 121.74C1.37755 120.738 2.45728 119.909 3.27184 119.104C18.7625 103.852 34.2602 88.6096 49.7646 73.377C51.5043 71.6685 53.294 70.0121 55.2928 68.1149C48.5172 60.6057 41.7311 53.3598 35.2527 45.8445C24.9131 33.8447 14.7811 21.6664 4.5633 9.56263C4.19187 9.12275 3.87237 8.64128 3.49748 8.2014C1.70944 6.08771 0.448859 3.80952 2.48481 1.24556C4.0094 -0.674173 7.65404 -0.387446 10.1919 2.22415C16.5122 8.72629 22.669 15.386 28.7743 22.0968C39.9223 34.3434 50.9834 46.6697 62.0917 58.9527C62.5673 59.3995 63.0729 59.8129 63.6051 60.19C72.1946 51.9803 80.6889 43.7974 89.2543 35.6846C99.1879 26.2808 109.156 16.914 119.16 7.5841C122.912 4.07715 125.921 3.44504 128.223 5.49119C130.61 7.61095 130.388 11.1524 126.582 14.9494C116.292 25.2166 105.754 35.2344 95.2266 45.2634C87.2063 52.9059 79.0581 60.4168 70.5221 68.3997C77.4583 75.5738 84.0924 82.7244 91.0477 89.5444C97.7282 96.095 104.782 102.266 111.594 108.681C114.257 111.095 116.751 113.691 119.058 116.449C120.918 118.764 121.193 121.637 118.906 123.919C116.652 126.171 114.043 125.375 111.868 123.671C107.71 120.581 103.723 117.264 99.9272 113.736C88.3067 102.356 76.8911 90.7662 65.401 79.2521C64.4923 78.3429 63.624 77.3888 62.3646 76.0631Z","fill","white"],["id","clip0_1_1098"],["width","129","height","127","fill","white","transform","translate(0.777344)"]],template:function(i,o){if(i&1){let s=ye();y(0,"div",1),z("click",function(){return q(s),W(o.onClick())}),y(1,"p"),j(2),w(),Z(3,FA,1,0,"ng-container",2),w(),Z(4,kA,7,0,"ng-template",null,0,pe)}if(i&2){let s=ce(5);Rt("selected",o.selected),A("tooltip",o.image.meta.name)("position","bottom"),O(2),Jt(" ",o.image.meta.name,""),O(),A("ngTemplateOutlet",s)}},dependencies:[ie,St,en,rr],styles:[".tab[_ngcontent-%COMP%]{padding:0 28px 0 10px;color:#ffffff80;cursor:pointer;overflow:hidden;position:relative;min-width:26px;max-width:250px}.tab[_ngcontent-%COMP%]:hover{color:#ffffffe6}.tab[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;line-height:32px;margin:0;padding:0;height:32px}.selected[_ngcontent-%COMP%]{color:#ffffffe6;cursor:default;background-color:var(--background-tools)}.svg-container[_ngcontent-%COMP%]{height:32px;width:32px;position:absolute;top:0;right:0;cursor:pointer}svg[_ngcontent-%COMP%]{height:18px;width:18px;margin-left:7px;margin-top:7px;display:none}.tab[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{display:block}"]});let t=e;return t})();function LA(t,e){if(t&1&&(He(0),k(1,"app-tabs",11),$e()),t&2){let r=e.$implicit,n=R(2).ngIf;O(),A("image",r)("selected",r.id===n)}}function VA(t,e){if(t&1&&(He(0),Z(1,LA,2,2,"ng-container",10),$e()),t&2){let r=e.ngIf;O(),A("ngForOf",r)}}function jA(t,e){if(t&1){let r=ye();He(0),Z(1,VA,2,1,"ng-container",2),Re(2,"async"),y(3,"div",3),z("click",function(){q(r);let i=R();return W(i.onClick())}),Ve(),y(4,"svg",4)(5,"g",5),k(6,"path",6)(7,"path",7),w(),y(8,"defs")(9,"clipPath",8),k(10,"rect",9),w()()()(),$e()}if(t&2){let r=e.ngIf,n=R();O(),A("ngIf",Pe(2,3,n.imagesOpen$)),O(2),Rt("selected",r==="-1")}}var o6=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$,this.imagesOpen$=n.imagesOpen$,this.activeID$=n.active$.pipe(ue(i=>i?i.id:"-1"))}onClick(){this.store.setActiveImage("-1")}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-tabbar"]],standalone:!0,features:[se],decls:4,vars:3,consts:[[1,"container"],[1,"tabs"],[4,"ngIf"],[1,"adder",3,"click"],["width","138","height","164","viewBox","0 0 138 164","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_589)"],["d","M137.273 82.673C137.273 97.0745 137.192 111.477 137.315 125.878C137.257 131.183 136.718 136.472 135.704 141.679C135.346 143.92 134.553 146.067 133.372 148.001C128.405 155.697 121.501 160.577 112.222 161.587C91.9284 163.816 71.465 164.02 51.1311 162.199C43.2342 161.486 35.2579 161.444 27.5523 159.315C23.8951 158.401 20.3171 157.194 16.8527 155.706C7.92056 151.593 2.80505 144.479 1.616 134.664C1.2437 131.655 1.05786 128.625 1.05958 125.593C1.16944 96.0341 1.35943 66.472 1.47704 36.911C1.53559 30.8429 2.38153 24.808 3.99348 18.959C5.06943 14.908 7.15491 11.1983 10.0538 8.17847C13.7054 4.23851 18.7609 1.90477 24.1195 1.68615C34.3047 1.17405 44.4892 0.555105 54.6821 0.331468C64.5003 0.116259 74.3316 0.206058 84.1504 0.425156C90.9403 0.576192 97.7296 1.06481 104.498 1.64627C106.373 1.80769 108.171 2.46653 109.709 3.55485C119.117 10.6029 127.839 18.4142 135.282 27.5846C136.961 29.6492 137.818 32.2647 137.688 34.9258C137.483 49.3241 137.407 63.7254 137.289 78.1251C137.277 79.6412 137.289 81.1568 137.289 82.673H137.273ZM12.4344 82.203C11.3675 98.0702 11.2945 113.953 11.2712 129.836C11.3269 133.244 11.8445 136.628 12.8099 139.896C13.3125 141.922 14.2457 143.815 15.5454 145.445C16.8452 147.076 18.4808 148.405 20.3404 149.343C22.3187 150.443 24.4302 151.281 26.6223 151.839C31.7689 152.976 36.9239 154.064 42.2352 154.358C62.9437 155.613 83.7077 155.647 104.421 154.461C107.053 154.297 109.695 154.112 112.299 153.717C115.3 153.231 118.098 151.891 120.362 149.857C123.238 147.384 125.384 144.168 126.566 140.557C128.419 135.061 128.44 129.408 128.44 123.727C128.436 99.141 128.432 74.5553 128.429 49.9698C128.429 46.9439 128.419 43.9173 128.343 40.8947C128.278 38.3095 126.856 37.0384 123.956 36.9528C118.679 36.7972 113.397 36.7643 108.123 36.5166C106.252 36.3845 104.402 36.0368 102.611 35.4797C101.691 35.243 100.858 34.7459 100.212 34.0478C99.5655 33.3498 99.1325 32.4801 98.9651 31.5423C98.6394 29.6825 98.4785 27.7972 98.4843 25.909C98.4326 21.3773 98.4902 16.8445 98.5134 12.3115C98.5173 11.5064 97.272 9.87169 96.598 9.77122C95.8626 9.61065 95.1175 9.49851 94.3679 9.43635C76.2697 9.17706 58.1707 8.9376 40.0716 8.71721C37.0615 8.68545 34.0476 9.00009 31.0342 9.13881C27.2124 9.31383 23.6077 10.4446 20.0871 11.802C17.589 12.7597 15.5152 14.5825 14.2407 16.9409C12.5838 19.9486 11.4509 23.1169 11.8393 26.6743C12.2496 30.434 12.8577 34.2002 12.8513 37.9631C12.8241 52.7076 12.5902 67.4553 12.4344 82.203ZM109.153 17.636C108.763 18.2309 108.47 18.8853 108.288 19.5736C108.114 21.4243 108.067 23.2915 108.076 25.1525C108.05 25.6142 108.116 26.0763 108.272 26.5117C108.427 26.9469 108.668 27.3468 108.98 27.6871C109.292 28.0276 109.669 28.3017 110.088 28.4937C110.507 28.6856 110.961 28.7913 111.422 28.8045C114.007 28.8466 116.595 28.7452 119.18 28.6544C119.332 28.6177 119.473 28.5453 119.592 28.443C119.711 28.3407 119.803 28.2111 119.863 28.0657C119.927 27.8917 119.956 27.7067 119.947 27.5213C119.94 27.3359 119.895 27.1536 119.816 26.9858C117.187 23.3863 113.949 20.2784 110.247 17.8043C109.975 17.615 109.523 17.6865 109.153 17.636Z","fill","white"],["d","M52.63 92.2501C56.3898 92.2501 60.1495 92.2806 63.9086 92.2346C64.652 92.1568 65.3482 91.8333 65.887 91.3134C66.4254 90.7936 66.7756 90.1084 66.8809 89.3662C67.1226 84.4663 67.2635 79.5612 67.5556 74.6652C67.6028 72.7853 67.9072 70.9211 68.4603 69.1242C68.6348 68.5836 68.9683 68.1091 69.4174 67.7636C69.8672 67.4174 70.4106 67.2171 70.9761 67.1886C71.5415 67.1601 72.1025 67.3046 72.5845 67.6035C73.066 67.9016 73.446 68.3405 73.6728 68.861C74.2705 70.2404 74.5969 71.7223 74.6337 73.2255C74.9232 76.9903 75.0447 80.7688 75.2696 84.5389C75.3375 85.6674 75.5094 86.7908 75.6625 87.9096C76.027 90.581 77.5618 92.1717 80.0375 92.1574C83.7972 92.1354 87.5557 91.8981 91.3154 91.8612C94.3107 91.834 97.3615 91.7691 100.104 93.2309C100.583 93.4856 100.757 94.4366 100.925 95.1042C100.954 95.2922 100.939 95.4847 100.882 95.6662C100.825 95.8471 100.726 96.0131 100.595 96.1505C100.072 96.6898 99.4197 97.0846 98.6998 97.2972C96.4716 97.6018 94.2189 97.7788 91.9707 97.8773C87.8348 98.0575 83.6951 98.1113 79.5599 98.2896C78.6235 98.3881 77.7537 98.8218 77.1088 99.5102C76.4645 100.199 76.0884 101.098 76.0496 102.042C75.7265 107.696 75.5042 113.355 75.1623 119.007C75.0492 120.876 74.7184 122.734 74.4366 124.589C74.2499 125.82 72.2136 127.291 71.095 127.104C69.884 126.901 68.1379 125.324 67.9834 124.155C67.7378 122.293 67.4664 120.423 67.4018 118.55C67.2008 112.893 67.1116 107.232 66.9359 101.573C66.868 100.825 66.5514 100.122 66.037 99.577C65.5226 99.0312 64.8399 98.6746 64.0992 98.5651C59.5911 98.3278 55.0792 98.1625 50.5718 97.9169C47.5701 97.7516 44.5703 97.5286 41.575 97.2622C40.0241 97.1254 38.2664 95.2806 38.753 94.3452C38.9799 93.8422 39.3438 93.4137 39.8026 93.1084C40.2614 92.8037 40.7967 92.6339 41.3469 92.6203C45.106 92.5872 48.8658 92.6086 52.6249 92.6086L52.63 92.2501Z","fill","white"],["id","clip0_1_589"],["width","137","height","164","fill","white","transform","translate(0.777344)"],[4,"ngFor","ngForOf"],[3,"image","selected"]],template:function(i,o){i&1&&(y(0,"div",0)(1,"div",1),Z(2,jA,11,5,"ng-container",2),Re(3,"async"),w()()),i&2&&(O(2),A("ngIf",Pe(3,1,o.activeID$)))},dependencies:[ie,Do,Je,Et,i6],styles:[".container[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(0,0,0,.5)}.tabs[_ngcontent-%COMP%]{width:100%;display:grid;grid-auto-flow:column;grid-auto-columns:minmax(64px,250px)}.tabs-drop[_ngcontent-%COMP%]{width:64px;text-align:center;line-height:32px}app-tabs[_ngcontent-%COMP%]{border-right:1px solid rgba(0,0,0,.5)}.adder[_ngcontent-%COMP%]{width:64px;border-right:1px solid rgba(0,0,0,.5);text-align:center;cursor:pointer}.adder[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{height:24px;width:auto;margin-top:4px}.adder[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > g[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#ffffff80}.adder[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%] > g[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#ffffffe6}.selected[_ngcontent-%COMP%]{cursor:default;background-color:var(--background-tools)}.selected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] > g[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#ffffffe6}"]});let t=e;return t})();function UA(t,e){t&1&&me(0)}function BA(t,e){if(t&1){let r=ye();He(0),y(1,"div",11)(2,"span"),j(3,"Pos: "),w(),y(4,"div",12)(5,"span"),j(6,"X"),w(),y(7,"input",13),z("change",function(i){q(r);let o=R().ngIf,s=R();return W(s.inputChange(i,"posX",o))})("input",function(i){q(r);let o=R().ngIf,s=R();return W(s.input(i,"posX",o))}),w()(),y(8,"div",12)(9,"span"),j(10,"Y"),w(),y(11,"input",14),z("change",function(i){q(r);let o=R().ngIf,s=R();return W(s.inputChange(i,"posY",o))})("input",function(i){q(r);let o=R().ngIf,s=R();return W(s.input(i,"posY",o))}),w()()(),y(12,"div",15)(13,"span"),j(14,"Size: "),w(),y(15,"div",12)(16,"span"),j(17,"W"),w(),y(18,"input",16),z("change",function(i){q(r);let o=R().ngIf,s=R();return W(s.inputChange(i,"sizeX",o))})("input",function(i){q(r);let o=R().ngIf,s=R();return W(s.input(i,"sizeX",o))}),w()(),y(19,"div",12)(20,"span"),j(21,"H"),w(),y(22,"input",17),z("change",function(i){q(r);let o=R().ngIf,s=R();return W(s.inputChange(i,"sizeY",o))})("input",function(i){q(r);let o=R().ngIf,s=R();return W(s.input(i,"sizeY",o))}),w()()(),$e()}if(t&2){let r=R().ngIf;O(7),A("value",r.absolute.x),O(4),A("value",r.absolute.y),O(7),A("value",r.absolute.width),O(4),A("value",r.absolute.height)}}function HA(t,e){if(t&1){let r=ye();He(0),y(1,"div",11)(2,"span"),j(3,"Coords: "),w(),y(4,"div",12)(5,"span"),j(6,"Top"),w(),y(7,"input",18),z("input",function(i){q(r);let o=R().ngIf,s=R();return W(s.input(i,"top",o))}),w()(),y(8,"div",12)(9,"span"),j(10,"Bottom"),w(),y(11,"input",19),z("input",function(i){q(r);let o=R().ngIf,s=R();return W(s.input(i,"bottom",o))}),w()(),y(12,"div",12)(13,"span"),j(14,"Left"),w(),y(15,"input",20),z("input",function(i){q(r);let o=R().ngIf,s=R();return W(s.input(i,"left",o))}),w()(),y(16,"div",12)(17,"span"),j(18,"Right"),w(),y(19,"input",21),z("input",function(i){q(r);let o=R().ngIf,s=R();return W(s.input(i,"right",o))}),w()()(),$e()}if(t&2){let r=R().ngIf,n=R();O(7),A("step",1/n.active.file.height)("value",r.relative.top),O(4),A("step",1/n.active.file.height)("value",r.relative.bottom),O(4),A("step",1/n.active.file.width)("value",r.relative.left),O(4),A("step",1/n.active.file.width)("value",r.relative.right)}}function $A(t,e){if(t&1){let r=ye();He(0),y(1,"div",2),k(2,"div",3),y(3,"div",4)(4,"span"),j(5,"Cut: "),w(),y(6,"div",5),Z(7,UA,1,0,"ng-container",6),y(8,"input",7),z("change",function(i){let o=q(r).ngIf,s=R();return W(s.onNameChange(i,o))})("mouseenter",function(){q(r);let i=R();return W(i.onHover(!0))})("mouseleave",function(){q(r);let i=R();return W(i.onHover(!1))}),w()()(),y(9,"div",8)(10,"div"),j(11,"Type: "),w(),y(12,"button",9),z("click",function(){let i=q(r).ngIf,o=R();return W(o.setAbsolute(!0,i))}),j(13,"Absolute"),w(),y(14,"button",9),z("click",function(){let i=q(r).ngIf,o=R();return W(o.setAbsolute(!1,i))}),j(15,"Relative"),w()(),Z(16,BA,23,4,"ng-container",1)(17,HA,20,8,"ng-container",1),k(18,"div",10),w(),$e()}if(t&2){let r=e.ngIf;R();let n=ce(3);O(7),A("ngTemplateOutlet",n),O(),A("value",r.name),O(4),Rt("selected",r.type==="absolute"),O(2),Rt("selected",r.type==="relative"),O(2),A("ngIf",r.type==="absolute"),O(),A("ngIf",r.type==="relative")}}function GA(t,e){if(t&1&&(Ve(),y(0,"svg",22)(1,"g",23),k(2,"path",24),w(),y(3,"defs")(4,"clipPath",25),k(5,"rect",26),w()()()),t&2){let r=R();Rt("hide",!r.nameInputHover)}}var s6=(()=>{let e=class e{constructor(n){this.store=n,this.nameInputHover=!1,this.selectedCut$=n.selectedCut$}inputChange(n,i,o){}input(n,i,o){let s=n.target,a=s.id,l=Math.min(Number(s.max),Math.max(Number(s.min),Number(s.value)));this.changeStoreValues(a,o,l),s.value=String(l)}onNameChange(n,i){let o=n.target,s=o.value;if(s==="")o.value=i.name;else{let a=JSON.parse(JSON.stringify(i));a.name=s,this.store.updateCut(this.active.id,a)}}onHover(n){this.nameInputHover=n}changeStoreValues(n,i,o){let s=M({},i),a={x:this.active.file.width,y:this.active.file.height};switch(n){case"posX":{s.absolute.x=o,s.relative=dr(s.absolute,a);break}case"posY":{s.absolute.y=o,s.relative=dr(s.absolute,a);break}case"sizeX":{s.absolute.width=o,s.relative=dr(s.absolute,a);break}case"sizeY":{s.absolute.height=o,s.relative=dr(s.absolute,a);break}case"top":{s.relative.top=o,s.absolute=_a(s.relative,a);break}case"bottom":{s.relative.bottom=o,s.absolute=_a(s.relative,a);break}case"left":{s.relative.left=o,s.absolute=_a(s.relative,a);break}case"right":{s.relative.right=o,s.absolute=_a(s.relative,a);break}default:return}this.store.updateCut(this.active.id,s)}setAbsolute(n,i){let o=M({},i);o.type=n?"absolute":"relative",this.store.updateCut(this.active.id,o)}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-toolbar-cuts"]],inputs:{active:"active"},standalone:!0,features:[se],decls:4,vars:3,consts:[["pencil",""],[4,"ngIf"],[1,"container"],[1,"spacer"],[1,"name","flex"],[1,"name-box","flex","border"],[4,"ngTemplateOutlet"],["type","text",3,"change","mouseenter","mouseleave","value"],[1,"type","flex"],[3,"click"],[1,"buttons"],[1,"flex"],[1,"input-box","flex","border"],["type","number","id","posX","name","posX","min","0","max","9999",3,"change","input","value"],["type","number","id","posY","name","posY","min","0","max","9999",3,"change","input","value"],[1,"size","flex"],["type","number","id","sizeX","name","sizeX","min","1","max","9999",3,"change","input","value"],["type","number","id","sizeY","name","sizeY","min","1","max","9999",3,"change","input","value"],["type","number","id","top","name","top","min","0","max","1",3,"input","step","value"],["type","number","id","bottom","name","bottom","min","0","max","1",3,"input","step","value"],["type","number","id","left","name","left","min","0","max","1",3,"input","step","value"],["type","number","id","right","name","right","min","0","max","1",3,"input","step","value"],["width","151","height","149","viewBox","0 0 151 149","fill","none","xmlns","http://www.w3.org/2000/svg",1,"pencil"],["clip-path","url(#clip0_1_780)"],["d","M6.22296 148.379C3.07752 148.346 1.42875 146.746 1.36875 143.992C1.35956 143.214 1.4585 142.439 1.66283 141.688C3.96892 132.991 6.41008 124.328 8.58249 115.597C9.52763 111.362 11.5886 107.456 14.5525 104.281C22.6355 95.8167 30.5868 87.2255 38.7645 78.8548C60.2764 56.8356 82.8369 35.9202 105.99 15.6347C111.017 11.2304 115.963 6.72785 121.106 2.46216C124.166 -0.0753939 125.338 -0.0174305 128.429 2.61577C132.838 6.3733 137.087 10.3208 141.363 14.2319C143.665 16.3368 145.872 18.5452 148.139 20.6884C151.074 23.4635 151.067 26.4284 148.27 29.3727C143.817 34.0574 139.483 38.8507 135.025 43.5282C133.42 45.2121 131.568 46.6572 129.889 48.2728C103.622 73.5526 77.36 98.837 51.1023 124.126C46.9336 128.138 42.7597 132.147 38.4873 136.048C37.3799 136.986 36.1105 137.713 34.7413 138.195C26.5282 141.351 18.2938 144.451 10.0381 147.494C8.78969 147.881 7.51462 148.178 6.22296 148.379ZM29.0705 121.225L117.54 36.3145C115.605 34.5037 113.763 32.7782 111.597 30.7494C81.2117 57.9162 53.5695 87.7082 24.8432 116.675L29.0705 121.225ZM37.2984 129.668C66.8293 101.17 96.4713 73.5389 124.781 44.6338L122.193 41.3415C91.6589 68.8067 62.6163 97.2189 32.8583 124.735L37.2984 129.668ZM20.8472 113.027C49.0772 83.3287 77.4108 54.5732 107.13 26.88L104.078 24.1727C73.938 51.0805 45.3091 79.3681 17.8734 108.998C18.5817 109.881 19.0779 110.464 19.5338 111.08C19.9349 111.617 20.2871 112.188 20.8499 113.027H20.8472ZM142.692 26.0009C137.769 19.7201 127.209 9.38968 124.087 7.75458L110.143 19.8777L131.274 38.5073C135.146 34.2702 138.87 30.1898 142.695 26.0009H142.692ZM13.7634 112.814C12.6763 118.399 11.694 123.266 10.8194 128.152C10.7119 128.898 10.8934 129.657 11.3268 130.273C13.3349 132.776 15.4661 135.181 17.6333 137.714L30.6253 132.753L13.7634 112.814Z","fill","rgba(255, 255, 255, 0.9)"],["id","clip0_1_780"],["width","150","height","149","fill","white","transform","translate(0.777344)"]],template:function(i,o){i&1&&(Z(0,$A,19,8,"ng-container",1),Re(1,"async"),Z(2,GA,6,2,"ng-template",null,0,pe)),i&2&&A("ngIf",Pe(1,1,o.selectedCut$))},dependencies:[ie,Je,St,Et],styles:[".container[_ngcontent-%COMP%]{height:48px;display:grid;grid-template-columns:repeat(6,max-content);gap:4px}.flex[_ngcontent-%COMP%]{display:flex;align-items:center}.spacer[_ngcontent-%COMP%]{width:80px;width:48px}.border[_ngcontent-%COMP%]{border-radius:5px;border:1px solid rgba(255,255,255,.25)}.name[_ngcontent-%COMP%]{height:48px}.name-box[_ngcontent-%COMP%]{box-sizing:border-box;height:26px;width:128px;background-color:var(--background-header);color:#ffffff80;text-align:right;vertical-align:middle;margin-left:4px;margin-right:4px}.name-box[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:96px;padding:1px 6px;margin:0;overflow:hidden;text-overflow:ellipsis}.pencil[_ngcontent-%COMP%]{height:16px;width:16px;margin-left:4px}.hide[_ngcontent-%COMP%]{opacity:0}.type[_ngcontent-%COMP%]{line-height:32px}.type[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px}.type[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{box-sizing:border-box;width:64px;height:26px;background-color:var(--background-header);color:#ffffff80;border:0;cursor:pointer}.type[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{color:#ffffffe6}.type[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:nth-of-type(1){border-radius:5px 0 0 5px}.type[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:nth-of-type(2){margin-left:2px;border-radius:0 5px 5px 0}.type[_ngcontent-%COMP%] > button.selected[_ngcontent-%COMP%]{background-color:var(--accent);color:#fff}.flex[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:18px;margin-left:4px;margin-right:4px}.input-box[_ngcontent-%COMP%]{box-sizing:border-box;height:26px;background-color:var(--background-header);color:#ffffff80;margin-left:4px;margin-right:4px}.input-box[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:18px}.input-box[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:3.25rem;margin-left:2px}input[_ngcontent-%COMP%]{padding:1px 6px;margin:0;color:#ffffff80;text-align:right;background:none;border:0;border-radius:0}input[_ngcontent-%COMP%]:hover{color:#ffffffe6}input[_ngcontent-%COMP%]:focus{color:#ffffffe6}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{margin-left:4px}input[_ngcontent-%COMP%]:focus{outline:none}"]});let t=e;return t})();var zA={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},D$=J(M({},zA),{"[class.ng-submitted]":"isSubmitted"});var qA=new Ne("CallSetDisabledState",{providedIn:"root",factory:()=>a6}),a6="always";var WA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Rn({});let t=e;return t})();var l6=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:qA,useValue:n.callSetDisabledState??a6}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Rn({imports:[WA]});let t=e;return t})();function YA(t,e){t&1&&me(0)}function KA(t,e){if(t&1&&(Ve(),y(0,"svg",5)(1,"g",6),k(2,"path",7),w(),y(3,"defs")(4,"clipPath",8),k(5,"rect",9),w()()()),t&2){let r=R();Rt("hide",!r.inputHover)}}var c6=(()=>{let e=class e{constructor(){this.inputHover=!1,this.name="*NAME*",this.value="*PLACEHOLDER*",this.valueChange=new qt}onChange(n){let i=n.target,o=i.value;o===""?i.value=this.value:(this.value=o,this.valueChange.emit(o))}onHover(n){this.inputHover=n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=oe({type:e,selectors:[["app-toolbar-input-text"]],inputs:{name:"name",value:"value"},outputs:{valueChange:"valueChange"},standalone:!0,features:[se],decls:8,vars:3,consts:[["pencil",""],[1,"name","flex"],[1,"name-box","flex","border"],[4,"ngTemplateOutlet"],["type","text",3,"change","mouseenter","mouseleave","value"],["width","151","height","149","viewBox","0 0 151 149","fill","none","xmlns","http://www.w3.org/2000/svg",1,"pencil"],["clip-path","url(#clip0_1_780)"],["d","M6.22296 148.379C3.07752 148.346 1.42875 146.746 1.36875 143.992C1.35956 143.214 1.4585 142.439 1.66283 141.688C3.96892 132.991 6.41008 124.328 8.58249 115.597C9.52763 111.362 11.5886 107.456 14.5525 104.281C22.6355 95.8167 30.5868 87.2255 38.7645 78.8548C60.2764 56.8356 82.8369 35.9202 105.99 15.6347C111.017 11.2304 115.963 6.72785 121.106 2.46216C124.166 -0.0753939 125.338 -0.0174305 128.429 2.61577C132.838 6.3733 137.087 10.3208 141.363 14.2319C143.665 16.3368 145.872 18.5452 148.139 20.6884C151.074 23.4635 151.067 26.4284 148.27 29.3727C143.817 34.0574 139.483 38.8507 135.025 43.5282C133.42 45.2121 131.568 46.6572 129.889 48.2728C103.622 73.5526 77.36 98.837 51.1023 124.126C46.9336 128.138 42.7597 132.147 38.4873 136.048C37.3799 136.986 36.1105 137.713 34.7413 138.195C26.5282 141.351 18.2938 144.451 10.0381 147.494C8.78969 147.881 7.51462 148.178 6.22296 148.379ZM29.0705 121.225L117.54 36.3145C115.605 34.5037 113.763 32.7782 111.597 30.7494C81.2117 57.9162 53.5695 87.7082 24.8432 116.675L29.0705 121.225ZM37.2984 129.668C66.8293 101.17 96.4713 73.5389 124.781 44.6338L122.193 41.3415C91.6589 68.8067 62.6163 97.2189 32.8583 124.735L37.2984 129.668ZM20.8472 113.027C49.0772 83.3287 77.4108 54.5732 107.13 26.88L104.078 24.1727C73.938 51.0805 45.3091 79.3681 17.8734 108.998C18.5817 109.881 19.0779 110.464 19.5338 111.08C19.9349 111.617 20.2871 112.188 20.8499 113.027H20.8472ZM142.692 26.0009C137.769 19.7201 127.209 9.38968 124.087 7.75458L110.143 19.8777L131.274 38.5073C135.146 34.2702 138.87 30.1898 142.695 26.0009H142.692ZM13.7634 112.814C12.6763 118.399 11.694 123.266 10.8194 128.152C10.7119 128.898 10.8934 129.657 11.3268 130.273C13.3349 132.776 15.4661 135.181 17.6333 137.714L30.6253 132.753L13.7634 112.814Z","fill","rgba(255, 255, 255, 0.9)"],["id","clip0_1_780"],["width","150","height","149","fill","white","transform","translate(0.777344)"]],template:function(i,o){if(i&1){let s=ye();y(0,"div",1)(1,"span"),j(2),w(),y(3,"div",2),Z(4,YA,1,0,"ng-container",3),y(5,"input",4),z("change",function(l){return q(s),W(o.onChange(l))})("mouseenter",function(){return q(s),W(o.onHover(!0))})("mouseleave",function(){return q(s),W(o.onHover(!1))}),w()()(),Z(6,KA,6,2,"ng-template",null,0,pe)}if(i&2){let s=ce(7);O(2),Jt("",o.name," "),O(2),A("ngTemplateOutlet",s),O(),A("value",o.value)}},dependencies:[ie,St,l6],styles:[".flex[_ngcontent-%COMP%]{display:flex;align-items:center}.border[_ngcontent-%COMP%]{border-radius:5px;border:1px solid rgba(255,255,255,.25)}.name[_ngcontent-%COMP%]{height:48px}.name-box[_ngcontent-%COMP%]{box-sizing:border-box;height:26px;width:128px;background-color:var(--background-header);color:#ffffff80;text-align:right;vertical-align:middle;margin-left:4px;margin-right:4px}.name-box[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:96px;padding:1px 6px;margin:0;overflow:hidden;text-overflow:ellipsis}.pencil[_ngcontent-%COMP%]{height:16px;width:16px;margin-left:4px}.hide[_ngcontent-%COMP%]{opacity:0}input[_ngcontent-%COMP%]{padding:1px 6px;margin:0;color:#ffffff80;text-align:right;background:none;border:0;border-radius:0}input[_ngcontent-%COMP%]:hover{color:#ffffffe6}input[_ngcontent-%COMP%]:focus{color:#ffffffe6}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{margin-left:4px}input[_ngcontent-%COMP%]:focus{outline:none}"]});let t=e;return t})();function ZA(t,e){if(t&1){let r=ye();He(0),y(1,"div",1),k(2,"div",2)(3,"div",3),y(4,"app-toolbar-input-text",4),z("valueChange",function(i){q(r);let o=R();return W(o.onNameChange(i))}),w()(),$e()}if(t&2){let r=R();O(4),A("name","Name:")("value",r.active.meta.name)}}var u6=(()=>{let e=class e{constructor(n){this.store=n}onNameChange(n){console.log("onNameChange",n),this.store.updateName(this.active.id,n)}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-toolbar-select"]],inputs:{active:"active"},standalone:!0,features:[se],decls:1,vars:1,consts:[[4,"ngIf"],[1,"container"],[1,"spacer"],[1,"name","flex"],[3,"valueChange","name","value"]],template:function(i,o){i&1&&Z(0,ZA,5,2,"ng-container",0),i&2&&A("ngIf",o.active)},dependencies:[ie,Je,c6],styles:[".container[_ngcontent-%COMP%]{height:48px;display:grid;grid-template-columns:repeat(6,max-content);gap:4px}.flex[_ngcontent-%COMP%]{display:flex;align-items:center}.spacer[_ngcontent-%COMP%]{width:80px;width:48px}.border[_ngcontent-%COMP%]{border-radius:5px;border:1px solid rgba(255,255,255,.25)}"]});let t=e;return t})();function XA(t,e){if(t&1&&(He(0),k(1,"app-toolbar-select",3),$e()),t&2){let r=R().ngIf;O(),A("active",r)}}function QA(t,e){t&1&&(He(0),j(1,"marquee"),$e())}function JA(t,e){if(t&1&&(He(0),k(1,"app-toolbar-cuts",3),$e()),t&2){let r=R().ngIf;O(),A("active",r)}}function eO(t,e){t&1&&(He(0),j(1,"cut"),$e())}function tO(t,e){if(t&1&&(He(0)(1,1),Z(2,XA,2,1,"ng-container",2)(3,QA,2,0,"ng-container",2)(4,JA,2,1,"ng-container",2)(5,eO,2,0,"ng-container",2),$e()()),t&2){let r=e.ngIf;O(),A("ngSwitch",r.meta.tool),O(),A("ngSwitchCase","select"),O(),A("ngSwitchCase","marquee"),O(),A("ngSwitchCase","move"),O(),A("ngSwitchCase","cut")}}var d6=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-toolbar"]],standalone:!0,features:[se],decls:2,vars:3,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"active"]],template:function(i,o){i&1&&(Z(0,tO,6,5,"ng-container",0),Re(1,"async")),i&2&&A("ngIf",Pe(1,1,o.active$))},dependencies:[ie,Je,Eh,e3,Et,s6,u6]});let t=e;return t})();function nO(t,e){if(t&1&&(y(0,"div",12),me(1,8),w()),t&2){R(2);let r=ce(5);A("tooltip","Move")("position","right"),O(),A("ngTemplateOutlet",r)}}function rO(t,e){if(t&1&&(y(0,"div",9),me(1,8),w()),t&2){R(2);let r=ce(5);A("tooltip","Move")("position","right"),O(),A("ngTemplateOutlet",r)}}function iO(t,e){if(t&1){let r=ye();y(0,"div",5),k(1,"div",6),y(2,"div",7),z("click",function(){let i=q(r).ngIf,o=R();return W(o.toolClicked(i.id,"select"))}),me(3,8),w(),y(4,"div",9),me(5,8),w(),Z(6,nO,2,3,"div",10)(7,rO,2,3,"div",11),y(8,"div",9),me(9,8),w(),j(10),w()}if(t&2){let r=e.ngIf;R();let n=ce(3),i=ce(7),o=ce(9);O(2),Rt("selected",r.meta.tool==="select"),A("tooltip","Select")("position","right"),O(),A("ngTemplateOutlet",n),O(),Rt("selected",r.meta.tool==="marquee"),A("tooltip","Marquee(NYI)")("position","right"),O(),A("ngTemplateOutlet",i),O(),A("ngIf",r.meta.tool==="move"),O(),A("ngIf",r.meta.tool!="move"),O(),Rt("selected",r.meta.tool==="cut"),A("tooltip","Cut")("position","right"),O(),A("ngTemplateOutlet",o),O(),Jt(" ",r.meta.tool,`
`)}}function oO(t,e){t&1&&(Ve(),y(0,"svg",13)(1,"g",14),k(2,"path",15),w(),y(3,"defs")(4,"clipPath",16),k(5,"rect",17),w()()())}function sO(t,e){t&1&&(Ve(),y(0,"svg",13)(1,"g",18),k(2,"path",19),w(),y(3,"defs")(4,"clipPath",20),k(5,"rect",17),w()()())}function aO(t,e){t&1&&(Ve(),y(0,"svg",21)(1,"g",22),k(2,"path",23),w(),y(3,"defs")(4,"clipPath",24),k(5,"rect",25),w()()())}function lO(t,e){t&1&&(Ve(),y(0,"svg",26),k(1,"path",27),w())}var f6=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$}toolClicked(n,i){console.log("toolClicked",i),this.store.selectCut(n,void 0)}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-tools"]],standalone:!0,features:[se],decls:10,vars:3,consts:[["select",""],["move",""],["marquee",""],["cut",""],["class","grid prevent-select",4,"ngIf"],[1,"grid","prevent-select"],[1,"spacer"],[1,"tool",3,"click","tooltip","position"],[3,"ngTemplateOutlet"],[1,"tool","deactivated",3,"tooltip","position"],["class","tool selected",3,"tooltip","position",4,"ngIf"],["class","tool deactivated",3,"tooltip","position",4,"ngIf"],[1,"tool","selected",3,"tooltip","position"],["width","41","height","40","viewBox","0 0 41 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_166_9)"],["d","M21.7483 20.587C18.8283 20.587 15.944 20.6453 13.0631 20.5699C10.2397 20.4966 7.41846 20.3087 4.59933 20.1255C3.80074 20.0458 3.00925 19.9082 2.23131 19.7138C1.91183 19.6441 1.6085 19.516 1.33706 19.3364C0.700185 18.909 0.748353 18.16 1.40975 17.7731C1.48609 17.7285 1.56731 17.6916 1.64714 17.6535C8.12592 14.5161 14.5889 11.3458 21.0888 8.25181C25.9563 5.93471 30.8672 3.70584 35.7691 1.45935C36.7634 1.00363 37.7912 0.609949 38.8262 0.250461C40.0112 -0.160991 40.8041 0.466333 40.6151 1.68497C40.405 3.04036 40.1043 4.38222 39.8373 5.72889C38.6674 11.6316 37.5483 17.5449 36.3011 23.4319C35.6966 26.2844 34.8375 29.0841 34.1187 31.9138C33.6945 33.5841 33.3653 35.2786 32.9031 36.9378C32.6375 37.8 32.2898 38.6355 31.8644 39.4335C31.5789 40.0041 31.1949 40.0489 30.5963 39.7767C29.3001 39.1889 28.5041 38.1562 28.0006 36.8993C26.5438 33.2627 24.8251 29.7284 23.6441 25.9831C23.0728 24.174 22.389 22.3993 21.7483 20.587ZM38.0058 2.82634C26.7318 7.63762 15.8459 12.9248 4.88958 18.0858C5.17612 18.1747 5.47408 18.2227 5.77445 18.2285C9.28592 18.2468 12.7979 18.2889 16.3091 18.2583C18.3017 18.2412 20.293 18.0928 22.2855 18.0207C23.0989 17.9913 23.6768 18.3868 23.7391 19.1294C23.8293 20.208 24.2721 21.1596 24.6806 22.126C26.5495 26.5458 28.4278 30.9619 30.3154 35.3738C30.3573 35.4576 30.4081 35.5367 30.4665 35.6101C33.6641 24.9048 36.0338 13.9889 38.0058 2.82687V2.82634Z","fill","white"],["id","clip0_166_9"],["width","40","height","40","fill","white","transform","translate(0.777344)"],["clip-path","url(#clip0_169_11)"],["d","M36.3009 14.0946C35.7916 13.5347 35.1523 13.0934 34.5337 12.6665C34.4107 12.5815 34.2888 12.4969 34.1668 12.4115C34.0125 12.3029 33.8076 12.3305 33.5724 12.3619C33.464 12.3766 33.3412 12.3933 33.2122 12.3987C33.1831 12.3999 33.1547 12.4087 33.1301 12.4243C33.1054 12.4399 33.0852 12.4618 33.0713 12.4877C33.0576 12.5137 33.0506 12.5428 33.0512 12.5722C33.052 12.6017 33.0602 12.6305 33.0752 12.6558C33.2323 12.9202 33.3769 13.1716 33.5151 13.4111C33.8052 13.9139 34.0791 14.389 34.3776 14.8347C34.6499 15.2417 34.949 15.6371 35.2388 16.0194C35.4511 16.3004 35.6707 16.5897 35.8765 16.8805C36.0258 17.0912 36.1944 17.2902 36.3574 17.4826C36.6705 17.815 36.9314 18.1942 37.1311 18.6067L37.0847 18.6415C37.0491 18.6687 37.0047 18.7024 36.9987 18.7066C32.7165 18.8048 28.175 18.9031 22.2756 19.0253C22.2654 19.0195 22.2504 19.0087 22.2398 19.0015L22.2093 18.9806C22.1814 18.9616 22.1547 18.9408 22.1293 18.9185V15.8313C22.1293 13.062 22.1289 10.2877 22.1285 7.50831C22.1285 7.05431 22.127 6.60038 22.1242 6.14649C22.1213 5.4698 22.1182 4.79309 22.1206 4.12383C22.1386 4.08677 22.16 4.05149 22.1845 4.01839L22.2019 3.99228C22.2983 4.05839 22.3949 4.1222 22.4914 4.18666C22.7957 4.3898 23.1105 4.59988 23.3965 4.8293C24.6728 5.85244 26.127 6.59788 27.5332 7.31987C27.9022 7.50912 28.2711 7.69838 28.6374 7.89259C28.734 7.95284 28.8418 7.99234 28.9541 8.00869C29.0664 8.02504 29.1809 8.01787 29.2904 7.98763C29.383 7.95329 29.4676 7.89995 29.5387 7.83094C29.6101 7.76193 29.6664 7.67876 29.7045 7.58664C29.7134 7.56793 29.719 7.54773 29.7208 7.52699C29.7219 7.51344 29.7245 7.49972 29.727 7.48616C29.744 7.41942 29.7417 7.34917 29.7206 7.28367L29.6927 7.20929C29.645 7.06312 29.5796 6.92358 29.4978 6.79393C27.7077 4.18335 25.2465 2.25492 22.8529 0.559546C21.9569 -0.075331 21.0569 -0.0482097 20.18 0.639889C20.0759 0.721542 19.9698 0.800699 19.8636 0.879873C19.6563 1.03458 19.4418 1.19392 19.2432 1.37243C18.9735 1.61486 18.7027 1.85575 18.4303 2.09509C17.6192 2.81228 16.7803 3.55393 16.0056 4.33856C15.1077 5.24765 14.2587 6.23129 13.4371 7.18269C13.2777 7.36749 13.1181 7.5521 12.9583 7.73656L12.9116 7.78929C12.732 7.99061 12.3962 8.36532 12.8197 8.88135C12.8407 8.90694 12.8687 8.92575 12.9001 8.93539C12.9316 8.94502 12.9652 8.94509 12.9967 8.93558C13.6437 8.74038 14.1586 8.32615 14.6566 7.92565C14.8868 7.74053 15.1247 7.5493 15.3686 7.38633C16.0393 6.93873 16.6863 6.4361 17.3115 5.94965C17.4754 5.82238 17.6395 5.69524 17.8037 5.5683C18.077 5.35805 18.3312 5.13573 18.6001 4.90053C19.0111 4.5262 19.446 4.17963 19.902 3.86302C19.9102 3.89839 19.9183 3.93213 19.9258 3.96453C19.9629 4.08787 19.9833 4.21573 19.9864 4.34466C19.9018 5.9078 19.8436 7.4979 19.7874 9.03542C19.6669 12.329 19.5425 15.7333 19.1507 19.0429C17.4955 19.4411 12.6739 19.7372 5.85575 19.8576C5.56396 19.8575 5.27241 19.8423 4.98214 19.8122C4.89103 19.8048 4.796 19.797 4.69592 19.7891C4.75033 19.7038 4.80183 19.6221 4.85036 19.5439C5.00316 19.2876 5.17084 19.0406 5.35255 18.8044C6.38831 17.5213 7.03422 16.0186 7.57789 14.586C7.64984 14.3534 7.68294 14.1103 7.67582 13.8667C7.68023 13.7316 7.68516 13.5789 7.69985 13.4121C7.70245 13.3826 7.69735 13.3528 7.68507 13.3259C7.6728 13.2989 7.65376 13.2757 7.62986 13.2585C7.60597 13.2413 7.57804 13.2308 7.54886 13.2279C7.5197 13.2251 7.49032 13.23 7.46361 13.2422C7.32907 13.3038 7.20612 13.3506 7.09739 13.3921C6.90338 13.4481 6.72316 13.5447 6.56841 13.6757C4.79221 15.4095 3.14364 17.2724 1.63584 19.2495C0.683351 20.518 0.695614 21.3676 1.68272 22.4968C2.93481 23.9289 4.07258 25.1368 5.16124 26.1894C5.64793 26.6598 6.25985 26.9973 6.85169 27.3236C6.95214 27.3786 7.0519 27.434 7.15095 27.4895C7.24604 27.5517 7.35263 27.5933 7.46421 27.6122C7.57577 27.631 7.68994 27.6266 7.79975 27.5991C7.91118 27.5581 8.01325 27.4948 8.09974 27.4127C8.1862 27.3307 8.2553 27.2317 8.30277 27.1216C8.31634 27.0953 8.32284 27.0657 8.32163 27.0362C8.32042 27.0064 8.31157 26.9776 8.29592 26.9524C8.19355 26.7881 8.09087 26.6158 7.98573 26.44C7.73492 26.0024 7.46191 25.5783 7.16777 25.1692C6.89463 24.8023 6.58798 24.4565 6.29149 24.1219C6.07288 23.8755 5.84692 23.6206 5.63843 23.3618C5.50488 23.1965 5.35618 23.0396 5.21234 22.8887C4.89165 22.591 4.62733 22.2367 4.43241 21.8429L4.46393 21.8353C4.55631 21.8072 4.6519 21.7912 4.74832 21.7877C7.72743 21.8653 10.7465 21.7233 13.6665 21.5856C15.1384 21.5162 16.6603 21.4443 18.1574 21.4018C18.3668 21.4024 18.576 21.4196 18.783 21.4532C18.8467 21.4618 18.9115 21.4705 18.9779 21.4786C18.9281 22.4431 18.8703 23.4168 18.8147 24.3601C18.5831 28.2504 18.3441 32.2694 18.6411 36.3978C18.5221 36.316 18.4106 36.238 18.3046 36.1641C17.9454 35.914 17.6362 35.6981 17.3165 35.5112C15.3591 34.3671 13.3609 33.2214 11.6415 32.2372C11.3511 32.071 11.1132 32.033 10.9139 32.1214C10.7201 32.2072 10.5847 32.4091 10.5119 32.721C10.5063 32.7449 10.5059 32.7697 10.5106 32.7937C10.5154 32.8176 10.5253 32.8405 10.5395 32.8601C10.574 32.9079 10.6081 32.9593 10.6432 33.0117C10.729 33.1471 10.8251 33.2753 10.9307 33.3955C12.9117 35.5666 15.1187 37.5145 17.5133 39.2054C18.174 39.6695 18.8254 39.9016 19.4767 39.9016C20.18 39.8816 20.86 39.6423 21.4241 39.2163C22.704 38.3238 24.0605 37.3618 25.3407 36.281C25.9925 35.7003 26.5993 35.0697 27.1556 34.3948C27.324 34.2006 27.4924 34.0064 27.6628 33.8153C27.7877 33.6576 27.8839 33.4785 27.9464 33.2866C27.9766 33.2094 28.0068 33.1315 28.0421 33.0575C28.0591 33.0218 28.063 32.981 28.0534 32.9424C28.0439 32.9039 28.0212 32.87 27.9895 32.8466C27.5018 32.4871 27.127 32.6661 26.814 32.8618C25.5631 33.6443 24.3118 34.4256 23.0602 35.2059L20.966 36.5115C21.0058 36.0428 21.0458 35.5834 21.0854 35.1305C21.1949 33.8709 21.2976 32.6814 21.3845 31.48C21.4458 30.6251 21.4937 29.7555 21.54 28.9147C21.5854 28.0899 21.6323 27.237 21.6919 26.4001C21.7409 25.7082 21.7508 25.0051 21.7603 24.3248C21.7536 23.3181 21.8093 22.3122 21.9268 21.3129C21.9758 21.2935 22.0209 21.274 22.0635 21.256C22.1453 21.2132 22.2336 21.1846 22.3247 21.1714C27.0375 21.0636 31.6927 20.9651 37.2325 20.8502H37.2333C37.2333 20.8576 37.2333 20.8656 37.2333 20.8743C37.2343 20.896 37.2352 20.9203 37.2369 20.9481C37.1188 21.0763 36.998 21.2086 36.8747 21.3436C36.549 21.7001 36.2124 22.0689 35.8661 22.4325C34.6981 23.6591 33.7898 25.0772 32.9823 26.4262C32.8587 26.633 32.7425 26.877 32.8179 27.119C32.8504 27.2067 32.9015 27.2862 32.9676 27.3519C33.0338 27.4176 33.1133 27.4679 33.2006 27.4991C33.2318 27.5134 33.2666 27.5172 33.3002 27.5102C33.3329 27.5039 33.3655 27.5003 33.3982 27.4967C33.4965 27.4924 33.5926 27.4664 33.68 27.4205C36.1536 25.9282 38.1319 23.9173 39.9012 21.9659C40.8499 20.92 40.8808 19.6581 39.9866 18.5038C38.7289 16.8808 37.5231 15.4379 36.3009 14.0946Z","fill","white"],["id","clip0_169_11"],["width","111","height","104","viewBox","0 0 111 104","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_171_15)"],["d","M2.31057 53.606C2.63324 46.6094 2.98243 39.6141 3.26316 32.6162C3.49871 26.7298 3.6343 20.8402 3.85178 14.9531C3.95052 12.2881 4.13551 9.62307 4.29168 6.96197C4.36912 5.64248 4.84998 4.48223 6.19747 4.13188C8.94024 3.41688 11.6979 2.44777 14.4877 2.29177C24.5177 1.72887 34.5581 1.38177 44.6036 1.10357C55.9708 0.790273 67.3473 0.323555 78.71 0.518555C87.8565 0.679754 96.9927 1.67493 106.124 2.42698C109.529 2.70713 111.077 4.77802 110.949 7.96239C110.572 17.401 110.317 26.8442 109.927 36.2828C109.347 50.2754 108.706 64.266 108.071 78.2562C107.829 83.5862 107.472 88.9123 107.278 94.2456C107.078 99.7608 105.644 100.941 100.279 100.999C88.469 101.122 76.6591 101.495 64.8537 101.822C57.9016 102.017 50.9519 102.304 44.0014 102.57C32.1997 103.021 20.3985 103.479 8.59769 103.946C7.82327 103.976 7.04866 103.966 6.27877 103.935C2.19113 103.773 0.396551 102.07 0.47851 97.9246C0.61726 90.9221 0.913872 83.9216 1.24171 76.925C1.60504 69.1517 2.0775 61.3839 2.50279 53.6144L2.31057 53.606ZM99.3767 93.851C100.931 84.3454 103.621 15.9632 102.658 11.1708C100.725 11.0011 98.761 10.7808 96.7907 10.6638C87.9779 10.1483 79.1611 9.22462 70.3502 9.26752C56.5529 9.33577 42.759 10.0566 28.964 10.5168C22.6092 10.7287 16.2564 10.9771 10.1146 11.2013C9.49834 39.6388 8.88293 68.0532 8.26146 96.75L99.3767 93.851Z","fill","white"],["id","clip0_171_15"],["width","111","height","104","fill","white"],["width","145","height","117","viewBox","0 0 145 117","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M29.3753 35.4487C39.7985 40.4537 49.9375 44.9738 59.7172 50.1686C64.2577 52.5795 67.7081 52.3832 72.1759 49.9613C93.0319 38.6572 114.095 27.7313 135.088 16.6813C136.152 16.0845 137.257 15.5656 138.396 15.1285C139.326 14.716 140.374 14.656 141.345 14.9596C142.315 15.2632 143.143 15.9098 143.673 16.7791C144.204 17.6484 144.402 18.6812 144.229 19.6856C144.057 20.6898 143.527 21.5971 142.737 22.2388C141.908 22.9755 140.985 23.598 139.993 24.09C126.721 31.0034 113.441 37.8997 100.152 44.7789C92.7686 48.6022 85.3682 52.391 77.9794 56.2046C77.2082 56.6024 76.4661 57.058 75.3848 57.6709C76.4577 58.2884 77.238 58.7974 78.0676 59.2069C95.6674 67.8989 113.27 76.5868 130.875 85.2721C132.485 86.0131 134.02 86.9068 135.461 87.9403C137.184 89.2546 137.65 91.0863 137.03 92.6515C136.358 94.3474 134.603 95.3386 132.348 94.8966C130.614 94.5391 128.933 93.9645 127.343 93.1851C117.354 88.3699 107.354 83.5723 97.4486 78.5875C87.7396 73.7021 78.1331 68.6113 68.4955 63.584C67.0685 62.8404 65.825 62.3522 64.1572 63.2336C53.374 68.9337 42.5351 74.5282 31.7202 80.1682C31.4001 80.4009 31.1039 80.6649 30.8361 80.9567C31.9504 81.53 32.9117 82.0013 33.8484 82.5102C41.8385 86.8392 44.8333 95.1286 41.3825 103.505C39.9554 106.966 37.8317 109.973 34.6209 111.961C28.6015 115.686 22.1079 117.656 14.9824 116.26C7.82461 114.858 1.66764 107.94 0.952837 100.705C0.870645 99.9328 0.919341 99.1521 1.09685 98.3962C2.58874 92.4162 5.28256 87.1076 10.4588 83.5313C14.0391 81.1075 17.7413 78.8702 21.5507 76.8273C33.118 70.4813 44.7437 64.2418 56.673 57.7821C55.9619 57.2575 55.2219 56.7734 54.4566 56.332C42.435 50.352 30.4058 44.3913 18.369 38.4498C16.7578 37.7125 15.106 37.0673 13.4218 36.5174C7.3284 34.3405 3.53316 29.9679 1.49835 23.9561C0.828558 21.9401 0.755334 19.7729 1.28753 17.7161C2.07471 14.3158 3.64202 11.1462 5.86503 8.45895C8.08803 5.77169 10.9056 3.64064 14.0939 2.23503C17.2823 0.829409 20.7537 0.187984 24.2327 0.361515C27.7117 0.535046 31.1025 1.51883 34.1357 3.23478C42.2004 7.73212 45.0142 16.617 40.9874 24.9864C39.2534 28.757 36.3207 31.8449 32.6484 33.7672C31.6865 34.282 30.7128 34.7675 29.3753 35.4487ZM19.1552 107.747C20.4752 107.652 21.3716 107.665 22.2389 107.512C26.5848 106.745 30.6421 105.425 33.1232 101.348C35.6413 97.2099 34.9835 92.8595 31.4283 90.034C24.2555 84.3328 15.0635 86.6923 11.0049 94.7822C7.89077 100.989 12.8912 108.49 19.1552 107.747ZM20.0341 28.2584C20.811 28.2413 21.5863 28.1779 22.3556 28.0686C26.577 27.2932 30.5364 26.014 33.011 22.1003C36.024 17.3352 34.8272 12.3959 29.95 9.62037C27.5488 8.19941 24.794 7.49182 22.0067 7.57996C14.3857 7.90496 11.291 11.8011 10.0806 19.3288C9.28018 24.3097 14.0672 28.3605 20.0341 28.2584Z","fill","white"]],template:function(i,o){i&1&&(Z(0,iO,11,18,"div",4),Re(1,"async"),Z(2,oO,6,0,"ng-template",null,0,pe)(4,sO,6,0,"ng-template",null,1,pe)(6,aO,6,0,"ng-template",null,2,pe)(8,lO,2,0,"ng-template",null,3,pe)),i&2&&A("ngIf",Pe(1,1,o.active$))},dependencies:[ie,Je,St,Et,en,rr],styles:[".grid[_ngcontent-%COMP%]{display:grid;width:48px;grid-template-rows:32px repeat(5,48px)}.spacer[_ngcontent-%COMP%]{width:48px;height:32px}.tool[_ngcontent-%COMP%]{width:40px;height:40px;margin:4px;border-radius:5px;cursor:pointer}.tool[_ngcontent-%COMP%]:not(.deactivated):hover{background-color:var(--background-header)}.tool[_ngcontent-%COMP%]:not(.deactivated):hover   svg[_ngcontent-%COMP%]{opacity:.9}.tool[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{width:28px;height:28px;margin:6px;opacity:.42}.selected[_ngcontent-%COMP%]{background-color:var(--background-header)}.selected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.9}.deactivated[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.1}"]});let t=e;return t})();function cO(t,e){t&1&&k(0,"app-drop-image")}var h6=(()=>{let e=class e{constructor(n){this.store=n,this.showDropzone$=n.showDropzone$,this.active$=n.active$}onDrop(n){n.preventDefault()}onDragOver(n){n.stopPropagation(),n.preventDefault(),this.store.store.getValue().showDropzone||this.store.updateShowDropzone(!0)}onDragLeave(n){}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-layout"]],standalone:!0,features:[se],decls:11,vars:3,consts:[[1,"grid-container",3,"drop","dragover","dragleave"],[1,"header"],[1,"toolbar"],[1,"tools"],[1,"tabs"],[1,"layers"],[1,"main"],[1,"footer"],[4,"ngIf"]],template:function(i,o){i&1&&(y(0,"div",0),z("drop",function(a){return o.onDrop(a)})("dragover",function(a){return o.onDragOver(a)})("dragleave",function(a){return o.onDragLeave(a)}),k(1,"app-header",1)(2,"app-toolbar",2)(3,"app-tools",3)(4,"app-tabbar",4)(5,"app-layers",5)(6,"app-main",6),y(7,"div",7),j(8,"footer"),w()(),Z(9,cO,1,0,"app-drop-image",8),Re(10,"async")),i&2&&(O(9),A("ngIf",Pe(10,1,o.showDropzone$)))},dependencies:[ie,Je,Et,i4,Z8,n6,r6,o6,d6,f6],styles:['.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header header header" "toolbar toolbar toolbar" "tools tabs layers" "tools main layers" "tools footer layers";grid-template-rows:32px 48px 32px auto 32px;grid-template-columns:48px auto 240px;background-color:#2196f3;width:100vw;height:100vh;justify-content:stretch}.grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]{grid-area:header;background-color:var(--background-header)}.toolbar[_ngcontent-%COMP%]{grid-area:toolbar;background-color:var(--background-tools)}.tools[_ngcontent-%COMP%]{grid-area:tools;background-color:var(--background-tools)}.tabs[_ngcontent-%COMP%]{grid-area:tabs;background-color:var(--background-header)}.layers[_ngcontent-%COMP%]{grid-area:layers;background-color:var(--background-tools)}.main[_ngcontent-%COMP%]{grid-area:main;background-color:var(--background);overflow:auto}.footer[_ngcontent-%COMP%]{grid-area:footer;background-color:var(--background-header)}']});let t=e;return t})();var p6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=oe({type:e,selectors:[["app-home"]],standalone:!0,features:[se],decls:1,vars:0,template:function(i,o){i&1&&k(0,"app-layout")},dependencies:[ie,h6]});let t=e;return t})();var g6=[{path:"",component:p6}];function uO(){console.log("Init devTools"),r4()}var m6={providers:[q3(g6),{provide:ql,useFactory:()=>uO()},{provide:Fl,useValue:{disableImageSizeWarning:!0,disableImageLazyLoadWarning:!0}}]};var v6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Rn({providers:[_e],imports:[ie]});let t=e;return t})();var C6=(()=>{let e=class e{constructor(n){this.store=n,this.title="ImageCutter"}};e.\u0275fac=function(i){return new(i||e)(Q(_e))},e.\u0275cmp=oe({type:e,selectors:[["app-root"]],standalone:!0,features:[se],decls:2,vars:0,consts:[[1,"app-container"]],template:function(i,o){i&1&&(y(0,"div",0),k(1,"router-outlet"),w())},dependencies:[ie,g1,v6]});let t=e;return t})();u3(C6,m6).catch(t=>console.error(t));

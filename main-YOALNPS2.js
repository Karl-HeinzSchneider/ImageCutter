var Y8=Object.create;var Gu=Object.defineProperty,K8=Object.defineProperties,Z8=Object.getOwnPropertyDescriptor,X8=Object.getOwnPropertyDescriptors,Q8=Object.getOwnPropertyNames,ya=Object.getOwnPropertySymbols,J8=Object.getPrototypeOf,zu=Object.prototype.hasOwnProperty,$p=Object.prototype.propertyIsEnumerable;var Hp=(t,e,r)=>e in t?Gu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T=(t,e)=>{for(var r in e||={})zu.call(e,r)&&Hp(t,r,e[r]);if(ya)for(var r of ya(e))$p.call(e,r)&&Hp(t,r,e[r]);return t},Z=(t,e)=>K8(t,X8(e));var es=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var qu=(t,e)=>{var r={};for(var n in t)zu.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ya)for(var n of ya(t))e.indexOf(n)<0&&$p.call(t,n)&&(r[n]=t[n]);return r};var ne=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var e9=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Q8(e))!zu.call(t,i)&&i!==r&&Gu(t,i,{get:()=>e[i],enumerable:!(n=Z8(e,i))||n.enumerable});return t};var Wu=(t,e,r)=>(r=t!=null?Y8(J8(t)):{},e9(e||!t||!t.__esModule?Gu(r,"default",{value:t,enumerable:!0}):r,t));var Tt=(t,e,r)=>new Promise((n,i)=>{var o=l=>{try{a(r.next(l))}catch(c){i(c)}},s=l=>{try{a(r.throw(l))}catch(c){i(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,s);a((r=r.apply(t,e)).next())});var Se=ne(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot._registerNode=Ot.Konva=Ot.glob=void 0;var ED=Math.PI/180;function ID(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}Ot.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{};Ot.Konva={_global:Ot.glob,version:"9.3.3",isBrowser:ID(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Ot.Konva.angleDeg?t*ED:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Ot.Konva.DD.isDragging},isDragReady(){return!!Ot.Konva.DD.node},releaseCanvasOnDestroy:!0,document:Ot.glob.document,_injectGlobal(t){Ot.glob.Konva=t}};var MD=t=>{Ot.Konva[t.prototype.getClassName()]=t};Ot._registerNode=MD;Ot.Konva._injectGlobal(Ot.Konva)});var ct=ne(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.Util=tt.Transform=void 0;var m1=Se(),y1=class t{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var r=this.m;return{x:r[0]*e.x+r[2]*e.y+r[4],y:r[1]*e.x+r[3]*e.y+r[5]}}translate(e,r){return this.m[4]+=this.m[0]*e+this.m[2]*r,this.m[5]+=this.m[1]*e+this.m[3]*r,this}scale(e,r){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=r,this.m[3]*=r,this}rotate(e){var r=Math.cos(e),n=Math.sin(e),i=this.m[0]*r+this.m[2]*n,o=this.m[1]*r+this.m[3]*n,s=this.m[0]*-n+this.m[2]*r,a=this.m[1]*-n+this.m[3]*r;return this.m[0]=i,this.m[1]=o,this.m[2]=s,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,r){var n=this.m[0]+this.m[2]*r,i=this.m[1]+this.m[3]*r,o=this.m[2]+this.m[0]*e,s=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=i,this.m[2]=o,this.m[3]=s,this}multiply(e){var r=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],s=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=r,this.m[1]=n,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),r=this.m[3]*e,n=-this.m[1]*e,i=-this.m[2]*e,o=this.m[0]*e,s=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=r,this.m[1]=n,this.m[2]=i,this.m[3]=o,this.m[4]=s,this.m[5]=a,this}getMatrix(){return this.m}decompose(){var e=this.m[0],r=this.m[1],n=this.m[2],i=this.m[3],o=this.m[4],s=this.m[5],a=e*i-r*n;let l={x:o,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||r!=0){var c=Math.sqrt(e*e+r*r);l.rotation=r>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*n+r*i)/a,l.skewY=0}else if(n!=0||i!=0){var u=Math.sqrt(n*n+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-n/u):-Math.acos(n/u)),l.scaleX=a/u,l.scaleY=u,l.skewX=0,l.skewY=(e*n+r*i)/a}return l.rotation=tt.Util._getRotation(l.rotation),l}};tt.Transform=y1;var TD="[object Array]",AD="[object Number]",RD="[object String]",OD="[object Boolean]",ND=Math.PI/180,PD=180/Math.PI,v1="#",kD="",FD="0",LD="Konva warning: ",z4="Konva error: ",VD="rgb(",C1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},jD=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,gc=[],UD=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)};tt.Util={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===TD},_isNumber(t){return Object.prototype.toString.call(t)===AD&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===RD},_isBoolean(t){return Object.prototype.toString.call(t)===OD},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;var e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){gc.push(t),gc.length===1&&UD(function(){let e=gc;gc=[],e.forEach(function(r){r()})})},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var r=tt.Util.createImageElement();r.onload=function(){e(r)},r.src=t},_rgbToHex(t,e,r){return((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1)},_hexToRgb(t){t=t.replace(v1,kD);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){for(var t=(Math.random()*16777215<<0).toString(16);t.length<6;)t=FD+t;return v1+t},getRGB(t){var e;return t in C1?(e=C1[t],{r:e[0],g:e[1],b:e[2]}):t[0]===v1?this._hexToRgb(t.substring(1)):t.substr(0,4)===VD?(e=jD.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",tt.Util._namedColorToRBA(t)||tt.Util._hex3ColorToRGBA(t)||tt.Util._hex4ColorToRGBA(t)||tt.Util._hex6ColorToRGBA(t)||tt.Util._hex8ColorToRGBA(t)||tt.Util._rgbColorToRGBA(t)||tt.Util._rgbaColorToRGBA(t)||tt.Util._hslColorToRGBA(t)},_namedColorToRBA(t){var e=C1[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map((r,n)=>r.slice(-1)==="%"?n===3?parseInt(r)/100:parseInt(r)/100*255:Number(r));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){let[e,...r]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=Number(r[0])/360,i=Number(r[1])/100,o=Number(r[2])/100,s,a,l;if(i===0)return l=o*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o<.5?s=o*(1+i):s=o+i-o*i;let c=2*o-s,u=[0,0,0];for(let d=0;d<3;d++)a=n+1/3*-(d-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(s-c)*6*a:2*a<1?l=s:3*a<2?l=c+(s-c)*(2/3-a)*6:l=c,u[d]=l*255;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){var e={};for(var r in t)this._isPlainObject(t[r])?e[r]=this.cloneObject(t[r]):this._isArray(t[r])?e[r]=this.cloneArray(t[r]):e[r]=t[r];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*ND},radToDeg(t){return t*PD},_degToRad(t){return tt.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),tt.Util.degToRad(t)},_radToDeg(t){return tt.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),tt.Util.radToDeg(t)},_getRotation(t){return m1.Konva.angleDeg?tt.Util.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(z4+t)},error(t){console.error(z4+t)},warn(t){m1.Konva.showWarnings&&console.warn(LD+t)},each(t,e){for(var r in t)e(r,t[r])},_inRange(t,e,r){return e<=t&&t<r},_getProjectionToSegment(t,e,r,n,i,o){var s,a,l,c=(t-r)*(t-r)+(e-n)*(e-n);if(c==0)s=t,a=e,l=(i-r)*(i-r)+(o-n)*(o-n);else{var u=((i-t)*(r-t)+(o-e)*(n-e))/c;u<0?(s=t,a=e,l=(t-i)*(t-i)+(e-o)*(e-o)):u>1?(s=r,a=n,l=(r-i)*(r-i)+(n-o)*(n-o)):(s=t+u*(r-t),a=e+u*(n-e),l=(s-i)*(s-i)+(a-o)*(a-o))}return[s,a,l]},_getProjectionToLine(t,e,r){var n=tt.Util.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(o,s){if(!(!r&&s===e.length-1)){var a=e[(s+1)%e.length],l=tt.Util._getProjectionToSegment(o.x,o.y,a.x,a.y,t.x,t.y),c=l[0],u=l[1],d=l[2];d<i&&(n.x=c,n.y=u,i=d)}}),n},_prepareArrayForTween(t,e,r){var n,i=[],o=[];if(t.length>e.length){var s=e;e=t,t=s}for(n=0;n<t.length;n+=2)i.push({x:t[n],y:t[n+1]});for(n=0;n<e.length;n+=2)o.push({x:e[n],y:e[n+1]});var a=[];return o.forEach(function(l){var c=tt.Util._getProjectionToLine(l,i,r);a.push(c.x),a.push(c.y)}),a},_prepareToStringify(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var r in t)if(t.hasOwnProperty(r)&&t[r]&&typeof t[r]=="object"){if(e=Object.getOwnPropertyDescriptor(t,r),t[r].visitedByCircularReferenceRemoval||tt.Util._isElement(t[r]))if(e.configurable)delete t[r];else return null;else if(tt.Util._prepareToStringify(t[r])===null)if(e.configurable)delete t[r];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var r in e)t[r]=e[r];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){m1.Konva.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,r,n){let i=0,o=0,s=0,a=0;typeof n=="number"?i=o=s=a=Math.min(n,e/2,r/2):(i=Math.min(n[0]||0,e/2,r/2),o=Math.min(n[1]||0,e/2,r/2),a=Math.min(n[2]||0,e/2,r/2),s=Math.min(n[3]||0,e/2,r/2)),t.moveTo(i,0),t.lineTo(e-o,0),t.arc(e-o,o,o,Math.PI*3/2,0,!1),t.lineTo(e,r-a),t.arc(e-a,r-a,a,0,Math.PI/2,!1),t.lineTo(s,r),t.arc(s,r-s,s,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}}});var Ee=ne(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.getComponentValidator=st.getBooleanValidator=st.getNumberArrayValidator=st.getFunctionValidator=st.getStringOrGradientValidator=st.getStringValidator=st.getNumberOrAutoValidator=st.getNumberOrArrayOfNumbersValidator=st.getNumberValidator=st.alphaComponent=st.RGBComponent=void 0;var Cr=Se(),dt=ct();function yr(t){return dt.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||dt.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function BD(t){return t>255?255:t<0?0:Math.round(t)}st.RGBComponent=BD;function HD(t){return t>1?1:t<1e-4?1e-4:t}st.alphaComponent=HD;function $D(){if(Cr.Konva.isUnminified)return function(t,e){return dt.Util._isNumber(t)||dt.Util.warn(yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}st.getNumberValidator=$D;function GD(t){if(Cr.Konva.isUnminified)return function(e,r){let n=dt.Util._isNumber(e),i=dt.Util._isArray(e)&&e.length==t;return!n&&!i&&dt.Util.warn(yr(e)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+t+")"),e}}st.getNumberOrArrayOfNumbersValidator=GD;function zD(){if(Cr.Konva.isUnminified)return function(t,e){var r=dt.Util._isNumber(t),n=t==="auto";return r||n||dt.Util.warn(yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}st.getNumberOrAutoValidator=zD;function qD(){if(Cr.Konva.isUnminified)return function(t,e){return dt.Util._isString(t)||dt.Util.warn(yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}st.getStringValidator=qD;function WD(){if(Cr.Konva.isUnminified)return function(t,e){let r=dt.Util._isString(t),n=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return r||n||dt.Util.warn(yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}st.getStringOrGradientValidator=WD;function YD(){if(Cr.Konva.isUnminified)return function(t,e){return dt.Util._isFunction(t)||dt.Util.warn(yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}st.getFunctionValidator=YD;function KD(){if(Cr.Konva.isUnminified)return function(t,e){let r=Int8Array?Object.getPrototypeOf(Int8Array):null;return r&&t instanceof r||(dt.Util._isArray(t)?t.forEach(function(n){dt.Util._isNumber(n)||dt.Util.warn('"'+e+'" attribute has non numeric element '+n+". Make sure that all elements are numbers.")}):dt.Util.warn(yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}st.getNumberArrayValidator=KD;function ZD(){if(Cr.Konva.isUnminified)return function(t,e){var r=t===!0||t===!1;return r||dt.Util.warn(yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}st.getBooleanValidator=ZD;function XD(t){if(Cr.Konva.isUnminified)return function(e,r){return e==null||dt.Util.isObject(e)||dt.Util.warn(yr(e)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+t),e}}st.getComponentValidator=XD});var we=ne(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.Factory=void 0;var tn=ct(),QD=Ee(),Zs="get",Xs="set";On.Factory={addGetterSetter(t,e,r,n,i){On.Factory.addGetter(t,e,r),On.Factory.addSetter(t,e,n,i),On.Factory.addOverloadedGetterSetter(t,e)},addGetter(t,e,r){var n=Zs+tn.Util._capitalize(e);t.prototype[n]=t.prototype[n]||function(){var i=this.attrs[e];return i===void 0?r:i}},addSetter(t,e,r,n){var i=Xs+tn.Util._capitalize(e);t.prototype[i]||On.Factory.overWriteSetter(t,e,r,n)},overWriteSetter(t,e,r,n){var i=Xs+tn.Util._capitalize(e);t.prototype[i]=function(o){return r&&o!==void 0&&o!==null&&(o=r.call(this,o,e)),this._setAttr(e,o),n&&n.call(this),this}},addComponentsGetterSetter(t,e,r,n,i){var o=r.length,s=tn.Util._capitalize,a=Zs+s(e),l=Xs+s(e),c,u;t.prototype[a]=function(){var f={};for(c=0;c<o;c++)u=r[c],f[u]=this.getAttr(e+s(u));return f};var d=(0,QD.getComponentValidator)(r);t.prototype[l]=function(f){var h=this.attrs[e],g;n&&(f=n.call(this,f)),d&&d.call(this,f,e);for(g in f)f.hasOwnProperty(g)&&this._setAttr(e+s(g),f[g]);return f||r.forEach(v=>{this._setAttr(e+s(v),void 0)}),this._fireChangeEvent(e,h,f),i&&i.call(this),this},On.Factory.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var r=tn.Util._capitalize(e),n=Xs+r,i=Zs+r;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,r,n){tn.Util.error("Adding deprecated "+e);var i=Zs+tn.Util._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){tn.Util.error(o);var s=this.attrs[e];return s===void 0?r:s},On.Factory.addSetter(t,e,n,function(){tn.Util.error(o)}),On.Factory.addOverloadedGetterSetter(t,e)},backCompat(t,e){tn.Util.each(e,function(r,n){var i=t.prototype[n],o=Zs+tn.Util._capitalize(r),s=Xs+tn.Util._capitalize(r);function a(){i.apply(this,arguments),tn.Util.error('"'+r+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[r]=a,t.prototype[o]=a,t.prototype[s]=a})},afterSetFilter(){this._filterUpToDate=!1}}});var b1=ne(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.HitContext=Wr.SceneContext=Wr.Context=void 0;var Y4=ct(),JD=Se();function ex(t){var e=[],r=t.length,n=Y4.Util,i,o;for(i=0;i<r;i++)o=t[i],n._isNumber(o)?o=Math.round(o*1e3)/1e3:n._isString(o)||(o=o+""),e.push(o);return e}var q4=",",tx="(",nx=")",rx="([",ix="])",ox=";",sx="()",ax="=",W4=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],lx=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],cx=100,Oo=class{constructor(e){this.canvas=e,JD.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,r){var n=this.traceArr,i=n.length,o="",s,a,l,c;for(s=0;s<i;s++)a=n[s],l=a.method,l?(c=a.args,o+=l,e?o+=sx:Y4.Util._isArray(c[0])?o+=rx+c.join(q4)+ix:(r&&(c=c.map(u=>typeof u=="number"?Math.floor(u):u)),o+=tx+c.join(q4)+nx)):(o+=a.property,e||(o+=ax+a.val)),o+=ox;return o}clearTrace(){this.traceArr=[]}_trace(e){var r=this.traceArr,n;r.push(e),n=r.length,n>=cx&&r.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var r=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,r.getWidth()/r.pixelRatio,r.getHeight()/r.pixelRatio)}_applyLineCap(e){let r=e.attrs.lineCap;r&&this.setAttr("lineCap",r)}_applyOpacity(e){var r=e.getAbsoluteOpacity();r!==1&&this.setAttr("globalAlpha",r)}_applyLineJoin(e){let r=e.attrs.lineJoin;r&&this.setAttr("lineJoin",r)}setAttr(e,r){this._context[e]=r}arc(e,r,n,i,o,s){this._context.arc(e,r,n,i,o,s)}arcTo(e,r,n,i,o){this._context.arcTo(e,r,n,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,r,n,i,o,s){this._context.bezierCurveTo(e,r,n,i,o,s)}clearRect(e,r,n,i){this._context.clearRect(e,r,n,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,r){var n=arguments;if(n.length===2)return this._context.createImageData(e,r);if(n.length===1)return this._context.createImageData(e)}createLinearGradient(e,r,n,i){return this._context.createLinearGradient(e,r,n,i)}createPattern(e,r){return this._context.createPattern(e,r)}createRadialGradient(e,r,n,i,o,s){return this._context.createRadialGradient(e,r,n,i,o,s)}drawImage(e,r,n,i,o,s,a,l,c){var u=arguments,d=this._context;u.length===3?d.drawImage(e,r,n):u.length===5?d.drawImage(e,r,n,i,o):u.length===9&&d.drawImage(e,r,n,i,o,s,a,l,c)}ellipse(e,r,n,i,o,s,a,l){this._context.ellipse(e,r,n,i,o,s,a,l)}isPointInPath(e,r,n,i){return n?this._context.isPointInPath(n,e,r,i):this._context.isPointInPath(e,r,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,r,n,i){this._context.fillRect(e,r,n,i)}strokeRect(e,r,n,i){this._context.strokeRect(e,r,n,i)}fillText(e,r,n,i){i?this._context.fillText(e,r,n,i):this._context.fillText(e,r,n)}measureText(e){return this._context.measureText(e)}getImageData(e,r,n,i){return this._context.getImageData(e,r,n,i)}lineTo(e,r){this._context.lineTo(e,r)}moveTo(e,r){this._context.moveTo(e,r)}rect(e,r,n,i){this._context.rect(e,r,n,i)}roundRect(e,r,n,i,o){this._context.roundRect(e,r,n,i,o)}putImageData(e,r,n){this._context.putImageData(e,r,n)}quadraticCurveTo(e,r,n,i){this._context.quadraticCurveTo(e,r,n,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,r){this._context.scale(e,r)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,r,n,i,o,s){this._context.setTransform(e,r,n,i,o,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,r,n,i){this._context.strokeText(e,r,n,i)}transform(e,r,n,i,o,s){this._context.transform(e,r,n,i,o,s)}translate(e,r){this._context.translate(e,r)}_enableTrace(){var e=this,r=W4.length,n=this.setAttr,i,o,s=function(a){var l=e[a],c;e[a]=function(){return o=ex(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:o}),c}};for(i=0;i<r;i++)s(W4[i]);e.setAttr=function(){n.apply(e,arguments);var a=arguments[0],l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){let r=e.attrs.globalCompositeOperation;var n=!r||r==="source-over";n||this.setAttr("globalCompositeOperation",r)}};Wr.Context=Oo;lx.forEach(function(t){Object.defineProperty(Oo.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});var _1=class extends Oo{constructor(e,{willReadFrequently:r=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:r})}_fillColor(e){var r=e.fill();this.setAttr("fillStyle",r),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var r=e._getLinearGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fillRadialGradient(e){let r=e._getRadialGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fill(e){let r=e.fill(),n=e.getFillPriority();if(r&&n==="color"){this._fillColor(e);return}let i=e.getFillPatternImage();if(i&&n==="pattern"){this._fillPattern(e);return}let o=e.getFillLinearGradientColorStops();if(o&&n==="linear-gradient"){this._fillLinearGradient(e);return}let s=e.getFillRadialGradientColorStops();if(s&&n==="radial-gradient"){this._fillRadialGradient(e);return}r?this._fillColor(e):i?this._fillPattern(e):o?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){let r=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(r.x,r.y,n.x,n.y);if(i){for(var s=0;s<i.length;s+=2)o.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",o)}}_stroke(e){var r=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),r&&e.dashEnabled()&&(this.setLineDash(r),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var o=e.getStrokeLinearGradientColorStops();o?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var r,n,i,o=(r=e.getShadowRGBA())!==null&&r!==void 0?r:"black",s=(n=e.getShadowBlur())!==null&&n!==void 0?n:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),u=l.x*c,d=l.y*c;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",s*Math.min(Math.abs(u),Math.abs(d))),this.setAttr("shadowOffsetX",a.x*u),this.setAttr("shadowOffsetY",a.y*d)}};Wr.SceneContext=_1;var w1=class extends Oo{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){let o=e.getStrokeScaleEnabled();if(!o){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e);var n=e.hitStrokeWidth(),i=n==="auto"?e.strokeWidth():n;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),o||this.restore()}}};Wr.HitContext=w1});var Qs=ne(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.HitCanvas=Yr.SceneCanvas=Yr.Canvas=void 0;var vc=ct(),K4=b1(),Z4=Se(),ux=we(),dx=Ee(),mc;function fx(){if(mc)return mc;var t=vc.Util.createCanvasElement(),e=t.getContext("2d");return mc=function(){var r=Z4.Konva._global.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}(),vc.Util.releaseCanvas(t),mc}var No=class{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var r=e||{},n=r.pixelRatio||Z4.Konva.pixelRatio||fx();this.pixelRatio=n,this._canvas=vc.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var r=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/r,this.getHeight()/r)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var r=this.pixelRatio,n=this.getContext()._context;n.scale(r,r)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var r=this.pixelRatio,n=this.getContext()._context;n.scale(r,r)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,r){this.setWidth(e||0),this.setHeight(r||0)}toDataURL(e,r){try{return this._canvas.toDataURL(e,r)}catch{try{return this._canvas.toDataURL()}catch(i){return vc.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Yr.Canvas=No;ux.Factory.addGetterSetter(No,"pixelRatio",void 0,(0,dx.getNumberValidator)());var D1=class extends No{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new K4.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};Yr.SceneCanvas=D1;var x1=class extends No{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new K4.HitContext(this),this.setSize(e.width,e.height)}};Yr.HitCanvas=x1});var Cc=ne(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.DD=void 0;var Js=Se(),hx=ct();Nt.DD={get isDragging(){var t=!1;return Nt.DD._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){var t;return Nt.DD._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){let e=[];Nt.DD._dragElements.forEach((r,n)=>{let{node:i}=r,o=i.getStage();o.setPointersPositions(t),r.pointerId===void 0&&(r.pointerId=hx.Util._getFirstPointerId(t));let s=o._changedPointerPositions.find(c=>c.id===r.pointerId);if(s){if(r.dragStatus!=="dragging"){var a=i.dragDistance(),l=Math.max(Math.abs(s.x-r.startPointerPos.x),Math.abs(s.y-r.startPointerPos.y));if(l<a||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,r),e.push(i)}}),e.forEach(r=>{r.fire("dragmove",{type:"dragmove",target:r,evt:t},!0)})},_endDragBefore(t){let e=[];Nt.DD._dragElements.forEach(r=>{let{node:n}=r,i=n.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(a=>a.id===r.pointerId))return;(r.dragStatus==="dragging"||r.dragStatus==="stopped")&&(Nt.DD.justDragged=!0,Js.Konva._mouseListenClick=!1,Js.Konva._touchListenClick=!1,Js.Konva._pointerListenClick=!1,r.dragStatus="stopped");let s=r.node.getLayer()||r.node instanceof Js.Konva.Stage&&r.node;s&&e.indexOf(s)===-1&&e.push(s)}),e.forEach(r=>{r.draw()})},_endDragAfter(t){Nt.DD._dragElements.forEach((e,r)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Nt.DD._dragElements.delete(r)})}};Js.Konva.isBrowser&&(window.addEventListener("mouseup",Nt.DD._endDragBefore,!0),window.addEventListener("touchend",Nt.DD._endDragBefore,!0),window.addEventListener("mousemove",Nt.DD._drag),window.addEventListener("touchmove",Nt.DD._drag),window.addEventListener("mouseup",Nt.DD._endDragAfter,!1),window.addEventListener("touchend",Nt.DD._endDragAfter,!1))});var ft=ne(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.Node=void 0;var Me=ct(),ta=we(),ea=Qs(),Ri=Se(),gn=Cc(),_t=Ee(),_c="absoluteOpacity",yc="allEventListeners",_r="absoluteTransform",X4="absoluteScale",Oi="canvas",px="Change",gx="children",mx="konva",S1="listening",Q4="mouseenter",J4="mouseleave",e5="set",t5="Shape",wc=" ",n5="stage",Kr="transform",vx="Stage",E1="visible",Cx=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(wc),yx=1,de=class t{constructor(e){this._id=yx++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Kr||e===_r)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,r){var n=this._cache.get(e),i=e===Kr||e===_r,o=n===void 0||i&&n.dirty===!0;return o&&(n=r.call(this),this._cache.set(e,n)),n}_calculate(e,r,n){if(!this._attachedDepsListeners.get(e)){let i=r.map(o=>o+"Change.konva").join(wc);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(Oi)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===_r&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Oi)){let{scene:e,filter:r,hit:n}=this._cache.get(Oi);Me.Util.releaseCanvas(e,r,n),this._cache.delete(Oi)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var r=e||{},n={};(r.x===void 0||r.y===void 0||r.width===void 0||r.height===void 0)&&(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var i=Math.ceil(r.width||n.width),o=Math.ceil(r.height||n.height),s=r.pixelRatio,a=r.x===void 0?Math.floor(n.x):r.x,l=r.y===void 0?Math.floor(n.y):r.y,c=r.offset||0,u=r.drawBorder||!1,d=r.hitCanvasPixelRatio||1;if(!i||!o){Me.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}let f=Math.abs(Math.round(n.x)-a)>.5?1:0,h=Math.abs(Math.round(n.y)-l)>.5?1:0;i+=c*2+f,o+=c*2+h,a-=c,l-=c;var g=new ea.SceneCanvas({pixelRatio:s,width:i,height:o}),v=new ea.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),_=new ea.HitCanvas({pixelRatio:d,width:i,height:o}),D=g.getContext(),I=_.getContext();return _.isCache=!0,g.isCache=!0,this._cache.delete(Oi),this._filterUpToDate=!1,r.imageSmoothingEnabled===!1&&(g.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1),D.save(),I.save(),D.translate(-a,-l),I.translate(-a,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(_c),this._clearSelfAndDescendantCache(X4),this.drawScene(g,this),this.drawHit(_,this),this._isUnderCache=!1,D.restore(),I.restore(),u&&(D.save(),D.beginPath(),D.rect(0,0,i,o),D.closePath(),D.setAttr("strokeStyle","red"),D.setAttr("lineWidth",5),D.stroke(),D.restore()),this._cache.set(Oi,{scene:g,filter:v,hit:_,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Oi)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,r){var n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=1/0,o=1/0,s=-1/0,a=-1/0,l=this.getAbsoluteTransform(r);return n.forEach(function(c){var u=l.point(c);i===void 0&&(i=s=u.x,o=a=u.y),i=Math.min(i,u.x),o=Math.min(o,u.y),s=Math.max(s,u.x),a=Math.max(a,u.y)}),{x:i,y:o,width:s-i,height:a-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);let r=this._getCanvasCache();e.translate(r.x,r.y);var n=this._getCachedSceneCanvas(),i=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/i,n.height/i),e.restore()}_drawCachedHitCanvas(e){var r=this._getCanvasCache(),n=r.hit;e.save(),e.translate(r.x,r.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),r=this._getCanvasCache(),n=r.scene,i=r.filter,o=i.getContext(),s,a,l,c;if(e){if(!this._filterUpToDate){var u=n.pixelRatio;i.setSize(n.width/n.pixelRatio,n.height/n.pixelRatio);try{for(s=e.length,o.clear(),o.drawImage(n._canvas,0,0,n.getWidth()/u,n.getHeight()/u),a=o.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<s;l++){if(c=e[l],typeof c!="function"){Me.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,a),o.putImageData(a,0,0)}}catch(d){Me.Util.error("Unable to apply filter. "+d.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return n}on(e,r){if(this._cache&&this._cache.delete(yc),arguments.length===3)return this._delegate.apply(this,arguments);var n=e.split(wc),i=n.length,o,s,a,l,c;for(o=0;o<i;o++)s=n[o],a=s.split("."),l=a[0],c=a[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:c,handler:r});return this}off(e,r){var n=(e||"").split(wc),i=n.length,o,s,a,l,c,u;if(this._cache&&this._cache.delete(yc),!e)for(s in this.eventListeners)this._off(s);for(o=0;o<i;o++)if(a=n[o],l=a.split("."),c=l[0],u=l[1],c)this.eventListeners[c]&&this._off(c,u,r);else for(s in this.eventListeners)this._off(s,u,r);return this}dispatchEvent(e){var r={target:this,type:e.type,evt:e};return this.fire(e.type,r),this}addEventListener(e,r){return this.on(e,function(n){r.call(this,n.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,r,n){var i=this;this.on(e,function(o){for(var s=o.target.findAncestors(r,!0,i),a=0;a<s.length;a++)o=Me.Util.cloneObject(o),o.currentTarget=s[a],n.call(s[a],o)})}remove(){return this.isDragging()&&this.stopDrag(),gn.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(_r),this._clearSelfAndDescendantCache(_c),this._clearSelfAndDescendantCache(X4),this._clearSelfAndDescendantCache(n5),this._clearSelfAndDescendantCache(E1),this._clearSelfAndDescendantCache(S1)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var r="get"+Me.Util._capitalize(e);return Me.Util._isFunction(this[r])?this[r]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),r=[];e;)r.push(e),e=e.getParent();return r}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var r,n;if(!e)return this;for(r in e)r!==gx&&(n=e5+Me.Util._capitalize(r),Me.Util._isFunction(this[n])?this[n](e[r]):this._setAttr(r,e[r]))}),this}isListening(){return this._getCache(S1,this._isListening)}_isListening(e){if(!this.listening())return!1;let n=this.getParent();return n&&n!==e&&this!==e?n._isListening(e):!0}isVisible(){return this._getCache(E1,this._isVisible)}_isVisible(e){if(!this.visible())return!1;let n=this.getParent();return n&&n!==e&&this!==e?n._isVisible(e):!0}shouldDrawHit(e,r=!1){if(e)return this._isVisible(e)&&this._isListening(e);var n=this.getLayer(),i=!1;gn.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===n)&&(i=!0)});var o=!r&&!Ri.Konva.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),r=this,n=0,i,o,s,a;function l(u){for(i=[],o=u.length,s=0;s<o;s++)a=u[s],n++,a.nodeType!==t5&&(i=i.concat(a.getChildren().slice())),a._id===r._id&&(s=o);i.length>0&&i[0].getDepth()<=e&&l(i)}let c=this.getStage();return r.nodeType!==vx&&c&&l(c.getChildren()),n}getDepth(){for(var e=0,r=this.parent;r;)e++,r=r.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Kr),this._clearSelfAndDescendantCache(_r)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){let e=this.getStage();if(!e)return null;var r=e.getPointerPosition();if(!r)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(r)}getAbsolutePosition(e){let r=!1,n=this.parent;for(;n;){if(n.isCached()){r=!0;break}n=n.parent}r&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),o=new Me.Transform,s=this.offset();return o.m=i.slice(),o.translate(s.x,s.y),o.getTranslation()}setAbsolutePosition(e){let s=this._clearTransform(),{x:r,y:n}=s,i=qu(s,["x","y"]);this.attrs.x=r,this.attrs.y=n,this._clearCache(Kr);var o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(Kr),this._clearSelfAndDescendantCache(_r),this}_setTransform(e){var r;for(r in e)this.attrs[r]=e[r]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var r=e.x,n=e.y,i=this.x(),o=this.y();return r!==void 0&&(i+=r),n!==void 0&&(o+=n),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(e,r){var n=[],i=this.getParent(),o,s;if(!(r&&r._id===this._id)){for(n.unshift(this);i&&(!r||i._id!==r._id);)n.unshift(i),i=i.parent;for(o=n.length,s=0;s<o;s++)e(n[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Me.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Me.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Me.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Me.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Me.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Me.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var r=this.index;return this.parent.children.splice(r,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(_c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),r=this.getParent();return r&&!r._isUnderCache&&(e*=r.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e=this.getAttrs(),r,n,i,o,s;let a={attrs:{},className:this.getClassName()};for(r in e)n=e[r],s=Me.Util.isObject(n)&&!Me.Util._isPlainObject(n)&&!Me.Util._isArray(n),!s&&(i=typeof this[r]=="function"&&this[r],delete e[r],o=i?i.call(this):null,e[r]=n,o!==n&&(a.attrs[r]=n));return Me.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,r,n){var i=[];r&&this._isMatch(e)&&i.push(this);for(var o=this.parent;o;){if(o===n)return i;o._isMatch(e)&&i.push(o),o=o.parent}return i}isAncestorOf(e){return!1}findAncestor(e,r,n){return this.findAncestors(e,r,n)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var r=e.replace(/ /g,"").split(","),n=r.length,i,o;for(i=0;i<n;i++)if(o=r[i],Me.Util.isValidSelector(o)||(Me.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Me.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Me.Util.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(n5,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():null}fire(e,r={},n){return r.target=r.target||this,n?this._fireAndBubble(e,r):this._fire(e,r),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(_r,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var r;if(e)return r=new Me.Transform,this._eachAncestorReverse(function(i){var o=i.transformsEnabled();o==="all"?r.multiply(i.getTransform()):o==="position"&&r.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),r;r=this._cache.get(_r)||new Me.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(r):r.reset();var n=this.transformsEnabled();if(n==="all")r.multiply(this.getTransform());else if(n==="position"){let i=this.attrs.x||0,o=this.attrs.y||0,s=this.attrs.offsetX||0,a=this.attrs.offsetY||0;r.translate(i-s,o-a)}return r.dirty=!1,r}getAbsoluteScale(e){for(var r=this;r;)r._isUnderCache&&(e=r),r=r.getParent();let i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Kr,this._getTransform)}_getTransform(){var e,r,n=this._cache.get(Kr)||new Me.Transform;n.reset();var i=this.x(),o=this.y(),s=Ri.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(r=this.attrs.scaleY)!==null&&r!==void 0?r:1,c=this.attrs.skewX||0,u=this.attrs.skewY||0,d=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return(i!==0||o!==0)&&n.translate(i,o),s!==0&&n.rotate(s),(c!==0||u!==0)&&n.skew(c,u),(a!==1||l!==1)&&n.scale(a,l),(d!==0||f!==0)&&n.translate(-1*d,-1*f),n.dirty=!1,n}clone(e){var r=Me.Util.cloneObject(this.attrs),n,i,o,s,a;for(n in e)r[n]=e[n];var l=new this.constructor(r);for(n in this.eventListeners)for(i=this.eventListeners[n],o=i.length,s=0;s<o;s++)a=i[s],a.name.indexOf(mx)<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(a));return l}_toKonvaCanvas(e){e=e||{};var r=this.getClientRect(),n=this.getStage(),i=e.x!==void 0?e.x:Math.floor(r.x),o=e.y!==void 0?e.y:Math.floor(r.y),s=e.pixelRatio||1,a=new ea.SceneCanvas({width:e.width||Math.ceil(r.width)||(n?n.width():0),height:e.height||Math.ceil(r.height)||(n?n.height():0),pixelRatio:s}),l=a.getContext();let c=new ea.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(o),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||o)&&l.translate(-1*i,-1*o),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var r=e.mimeType||null,n=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(r,n);return e.callback&&e.callback(i),i}toImage(e){return new Promise((r,n)=>{try{let i=e?.callback;i&&delete e.callback,Me.Util._urlToImage(this.toDataURL(e),function(o){r(o),i?.(o)})}catch(i){n(i)}})}toBlob(e){return new Promise((r,n)=>{try{let i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(o=>{r(o),i?.(o)},e?.mimeType,e?.quality)}catch(i){n(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ri.Konva.dragDistance}_off(e,r,n){var i=this.eventListeners[e],o,s,a;for(o=0;o<i.length;o++)if(s=i[o].name,a=i[o].handler,(s!=="konva"||r==="konva")&&(!r||s===r)&&(!n||n===a)){if(i.splice(o,1),i.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,r,n){this._fire(e+px,{oldVal:r,newVal:n})}addName(e){if(!this.hasName(e)){var r=this.name(),n=r?r+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;let r=this.name();if(!r)return!1;var n=(r||"").split(/\s/g);return n.indexOf(e)!==-1}removeName(e){var r=(this.name()||"").split(/\s/g),n=r.indexOf(e);return n!==-1&&(r.splice(n,1),this.name(r.join(" "))),this}setAttr(e,r){var n=this[e5+Me.Util._capitalize(e)];return Me.Util._isFunction(n)?n.call(this,r):this._setAttr(e,r),this}_requestDraw(){if(Ri.Konva.autoDrawEnabled){let e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,r){var n=this.attrs[e];n===r&&!Me.Util.isObject(r)||(r==null?delete this.attrs[e]:this.attrs[e]=r,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,r),this._requestDraw())}_setComponentAttr(e,r,n){var i;n!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][r]=n,this._fireChangeEvent(e,i,n))}_fireAndBubble(e,r,n){r&&this.nodeType===t5&&(r.target=this);var i=(e===Q4||e===J4)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||this.nodeType==="Stage"&&!n);if(!i){this._fire(e,r);var o=(e===Q4||e===J4)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(r&&!r.cancelBubble||!r)&&this.parent&&this.parent.isListening()&&!o&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,r,n):this._fireAndBubble.call(this.parent,e,r))}}_getProtoListeners(e){var r,n,i;let o=(r=this._cache.get(yc))!==null&&r!==void 0?r:{},s=o?.[e];if(s===void 0){s=[];let a=Object.getPrototypeOf(this);for(;a;){let l=(i=(n=a.eventListeners)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:[];s.push(...l),a=Object.getPrototypeOf(a)}o[e]=s,this._cache.set(yc,o)}return s}_fire(e,r){r=r||{},r.currentTarget=this,r.type=e;let n=this._getProtoListeners(e);if(n)for(var i=0;i<n.length;i++)n[i].handler.call(this,r);let o=this.eventListeners[e];if(o)for(var i=0;i<o.length;i++)o[i].handler.call(this,r)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var r=e?e.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition();if(n){var o=n._getPointerById(r)||n._changedPointerPositions[0]||i;gn.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:r})}}startDrag(e,r=!0){gn.DD._dragElements.has(this._id)||this._createDragElement(e);let n=gn.DD._dragElements.get(this._id);n.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},r)}_setDragPosition(e,r){let n=this.getStage()._getPointerById(r.pointerId);if(n){var i={x:n.x-r.offset.x,y:n.y-r.offset.y},o=this.dragBoundFunc();if(o!==void 0){let s=o.call(this,i,e);s?i=s:Me.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){let r=gn.DD._dragElements.get(this._id);r&&(r.dragStatus="stopped"),gn.DD._endDragBefore(e),gn.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){let e=gn.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var r=e.evt.button!==void 0,n=!r||Ri.Konva.dragButtons.indexOf(e.evt.button)>=0;if(n&&!this.isDragging()){var i=!1;gn.DD._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(i=!0)}),i||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;let r=gn.DD._dragElements.get(this._id),n=r&&r.dragStatus==="dragging",i=r&&r.dragStatus==="ready";n?this.stopDrag():i&&gn.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){let r=this.getStage();if(!r)return!1;let n={x:-e.x,y:-e.y,width:r.width()+2*e.x,height:r.height()+2*e.y};return Me.Util.haveIntersection(n,this.getClientRect())}static create(e,r){return Me.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,r)}static _createNode(e,r){var n=t.prototype.getClassName.call(e),i=e.children,o,s,a;r&&(e.attrs.container=r),Ri.Konva[n]||(Me.Util.warn('Can not find a node with class name "'+n+'". Fallback to "Shape".'),n="Shape");let l=Ri.Konva[n];if(o=new l(e.attrs),i)for(s=i.length,a=0;a<s;a++)o.add(t._createNode(i[a]));return o}};bc.Node=de;de.prototype.nodeType="Node";de.prototype._attrsAffectingSize=[];de.prototype.eventListeners={};de.prototype.on.call(de.prototype,Cx,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Kr),this._clearSelfAndDescendantCache(_r)});de.prototype.on.call(de.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(E1)});de.prototype.on.call(de.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(S1)});de.prototype.on.call(de.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(_c)});var Je=ta.Factory.addGetterSetter;Je(de,"zIndex");Je(de,"absolutePosition");Je(de,"position");Je(de,"x",0,(0,_t.getNumberValidator)());Je(de,"y",0,(0,_t.getNumberValidator)());Je(de,"globalCompositeOperation","source-over",(0,_t.getStringValidator)());Je(de,"opacity",1,(0,_t.getNumberValidator)());Je(de,"name","",(0,_t.getStringValidator)());Je(de,"id","",(0,_t.getStringValidator)());Je(de,"rotation",0,(0,_t.getNumberValidator)());ta.Factory.addComponentsGetterSetter(de,"scale",["x","y"]);Je(de,"scaleX",1,(0,_t.getNumberValidator)());Je(de,"scaleY",1,(0,_t.getNumberValidator)());ta.Factory.addComponentsGetterSetter(de,"skew",["x","y"]);Je(de,"skewX",0,(0,_t.getNumberValidator)());Je(de,"skewY",0,(0,_t.getNumberValidator)());ta.Factory.addComponentsGetterSetter(de,"offset",["x","y"]);Je(de,"offsetX",0,(0,_t.getNumberValidator)());Je(de,"offsetY",0,(0,_t.getNumberValidator)());Je(de,"dragDistance",null,(0,_t.getNumberValidator)());Je(de,"width",0,(0,_t.getNumberValidator)());Je(de,"height",0,(0,_t.getNumberValidator)());Je(de,"listening",!0,(0,_t.getBooleanValidator)());Je(de,"preventDefault",!0,(0,_t.getBooleanValidator)());Je(de,"filters",null,function(t){return this._filterUpToDate=!1,t});Je(de,"visible",!0,(0,_t.getBooleanValidator)());Je(de,"transformsEnabled","all",(0,_t.getStringValidator)());Je(de,"size");Je(de,"dragBoundFunc");Je(de,"draggable",!1,(0,_t.getBooleanValidator)());ta.Factory.backCompat(de,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})});var na=ne(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.Container=void 0;var Po=we(),I1=ft(),Dc=Ee(),wr=class extends I1.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];let r=this.children||[];var n=[];return r.forEach(function(i){e(i)&&n.push(i)}),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var r=0;r<e.length;r++)this.add(e[r]);return this}let n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var r=this._generalFind(e,!0);return r.length>0?r[0]:void 0}_generalFind(e,r){var n=[];return this._descendants(i=>{let o=i._isMatch(e);return o&&n.push(i),!!(o&&r)}),n}_descendants(e){let r=!1,n=this.getChildren();for(let i of n){if(r=e(i),r)return!0;if(i.hasChildren()&&(r=i._descendants(e),r))return!0}return!1}toObject(){var e=I1.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(r=>{e.children.push(r.toObject())}),e}isAncestorOf(e){for(var r=e.getParent();r;){if(r._id===this._id)return!0;r=r.getParent()}return!1}clone(e){var r=I1.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(n){r.add(n.clone())}),r}getAllIntersections(e){var r=[];return this.find("Shape").forEach(n=>{n.isVisible()&&n.intersects(e)&&r.push(n)}),r}_clearSelfAndDescendantCache(e){var r;super._clearSelfAndDescendantCache(e),!this.isCached()&&((r=this.children)===null||r===void 0||r.forEach(function(n){n._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(r,n){r.index=n}),this._requestDraw()}drawScene(e,r,n){var i=this.getLayer(),o=e||i&&i.getCanvas(),s=o&&o.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=o&&o.isCache;if(!this.isVisible()&&!c)return this;if(l){s.save();var u=this.getAbsoluteTransform(r).getMatrix();s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",o,r,n);return this}drawHit(e,r){if(!this.shouldDrawHit(r))return this;var n=this.getLayer(),i=e||n&&n.hitCanvas,o=i&&i.getContext(),s=this._getCanvasCache(),a=s&&s.hit;if(a){o.save();var l=this.getAbsoluteTransform(r).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,r);return this}_drawChildren(e,r,n,i){var o,s=r&&r.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),u=a&&l||c;let d=n===this;if(u){s.save();var f=this.getAbsoluteTransform(n),h=f.getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),s.beginPath();let D;if(c)D=c.call(this,s,this);else{var g=this.clipX(),v=this.clipY();s.rect(g,v,a,l)}s.clip.apply(s,D),h=f.copy().invert().getMatrix(),s.transform(h[0],h[1],h[2],h[3],h[4],h[5])}var _=!d&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";_&&(s.save(),s._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(D){D[e](r,n,i)}),_&&s.restore(),u&&s.restore()}getClientRect(e={}){var r,n=e.skipTransform,i=e.relativeTo,o,s,a,l,c={x:1/0,y:1/0,width:0,height:0},u=this;(r=this.children)===null||r===void 0||r.forEach(function(v){if(v.visible()){var _=v.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});_.width===0&&_.height===0||(o===void 0?(o=_.x,s=_.y,a=_.x+_.width,l=_.y+_.height):(o=Math.min(o,_.x),s=Math.min(s,_.y),a=Math.max(a,_.x+_.width),l=Math.max(l,_.y+_.height)))}});for(var d=this.find("Shape"),f=!1,h=0;h<d.length;h++){var g=d[h];if(g._isVisible(this)){f=!0;break}}return f&&o!==void 0?c={x:o,y:s,width:a-o,height:l-s}:c={x:0,y:0,width:0,height:0},n?c:this._transformedRect(c,i)}};xc.Container=wr;Po.Factory.addComponentsGetterSetter(wr,"clip",["x","y","width","height"]);Po.Factory.addGetterSetter(wr,"clipX",void 0,(0,Dc.getNumberValidator)());Po.Factory.addGetterSetter(wr,"clipY",void 0,(0,Dc.getNumberValidator)());Po.Factory.addGetterSetter(wr,"clipWidth",void 0,(0,Dc.getNumberValidator)());Po.Factory.addGetterSetter(wr,"clipHeight",void 0,(0,Dc.getNumberValidator)());Po.Factory.addGetterSetter(wr,"clipFunc")});var T1=ne(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.releaseCapture=mn.setPointerCapture=mn.hasPointerCapture=mn.createEvent=mn.getCapturedShape=void 0;var _x=Se(),ra=new Map,r5=_x.Konva._global.PointerEvent!==void 0;function wx(t){return ra.get(t)}mn.getCapturedShape=wx;function M1(t){return{evt:t,pointerId:t.pointerId}}mn.createEvent=M1;function bx(t,e){return ra.get(t)===e}mn.hasPointerCapture=bx;function Dx(t,e){i5(t),e.getStage()&&(ra.set(t,e),r5&&e._fire("gotpointercapture",M1(new PointerEvent("gotpointercapture"))))}mn.setPointerCapture=Dx;function i5(t,e){let r=ra.get(t);if(!r)return;let n=r.getStage();n&&n.content,ra.delete(t),r5&&r._fire("lostpointercapture",M1(new PointerEvent("lostpointercapture")))}mn.releaseCapture=i5});var C5=ne(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.Stage=Dr.stages=void 0;var Zn=ct(),xx=we(),o5=na(),Gt=Se(),A1=Qs(),ko=Cc(),Sx=Se(),br=T1(),Ex="Stage",Ix="string",s5="px",Mx="mouseout",l5="mouseleave",c5="mouseover",u5="mouseenter",d5="mousemove",f5="mousedown",h5="mouseup",ia="pointermove",oa="pointerdown",Lo="pointerup",sa="pointercancel",Tx="lostpointercapture",Sc="pointerout",Ec="pointerleave",Ic="pointerover",Mc="pointerenter",O1="contextmenu",p5="touchstart",g5="touchend",m5="touchmove",v5="touchcancel",N1="wheel",Ax=5,Rx=[[u5,"_pointerenter"],[f5,"_pointerdown"],[d5,"_pointermove"],[h5,"_pointerup"],[l5,"_pointerleave"],[p5,"_pointerdown"],[m5,"_pointermove"],[g5,"_pointerup"],[v5,"_pointercancel"],[c5,"_pointerover"],[N1,"_wheel"],[O1,"_contextmenu"],[oa,"_pointerdown"],[ia,"_pointermove"],[Lo,"_pointerup"],[sa,"_pointercancel"],[Tx,"_lostpointercapture"]],R1={mouse:{[Sc]:Mx,[Ec]:l5,[Ic]:c5,[Mc]:u5,[ia]:d5,[oa]:f5,[Lo]:h5,[sa]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Sc]:"touchout",[Ec]:"touchleave",[Ic]:"touchover",[Mc]:"touchenter",[ia]:m5,[oa]:p5,[Lo]:g5,[sa]:v5,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Sc]:Sc,[Ec]:Ec,[Ic]:Ic,[Mc]:Mc,[ia]:ia,[oa]:oa,[Lo]:Lo,[sa]:sa,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},aa=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",Fo=t=>{let e=aa(t);if(e==="pointer")return Gt.Konva.pointerEventsEnabled&&R1.pointer;if(e==="touch")return R1.touch;if(e==="mouse")return R1.mouse};function a5(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&Zn.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}var Ox="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";Dr.stages=[];var Vo=class extends o5.Container{constructor(e){super(a5(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Dr.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{a5(this.attrs)}),this._checkVisibility()}_validateAdd(e){let r=e.getType()==="Layer",n=e.getType()==="FastLayer";r||n||Zn.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;let e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===Ix){if(e.charAt(0)==="."){var r=e.slice(1);e=document.getElementsByClassName(r)[0]}else{var n;e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n)}if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e=this.children,r=e.length,n;for(n=0;n<r;n++)e[n].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),o5.Container.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&Zn.Util._isInDocument(e)&&this.container().removeChild(e);var r=Dr.stages.indexOf(this);return r>-1&&Dr.stages.splice(r,1),Zn.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){let e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(Zn.Util.warn(Ox),null)}_getPointerById(e){return this._pointerPositions.find(r=>r.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var r=new A1.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=r.getContext()._context,i=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),i.forEach(function(o){if(o.isVisible()){var s=o._toKonvaCanvas(e);n.drawImage(s._canvas,e.x,e.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}}),r}getIntersection(e){if(!e)return null;var r=this.children,n=r.length,i=n-1,o;for(o=i;o>=0;o--){let s=r[o].getIntersection(e);if(s)return s}return null}_resizeDOM(){var e=this.width(),r=this.height();this.content&&(this.content.style.width=e+s5,this.content.style.height=r+s5),this.bufferCanvas.setSize(e,r),this.bufferHitCanvas.setSize(e,r),this.children.forEach(n=>{n.setSize({width:e,height:r}),n.draw()})}add(e,...r){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}super.add(e);var i=this.children.length;return i>Ax&&Zn.Util.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Gt.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return br.hasPointerCapture(e,this)}setPointerCapture(e){br.setPointerCapture(e,this)}releaseCapture(e){br.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){Gt.Konva.isBrowser&&Rx.forEach(([e,r])=>{this.content.addEventListener(e,n=>{this[r](n)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);let r=Fo(e.type);r&&this._fire(r.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);let r=Fo(e.type);r&&this._fire(r.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let r=this[e+"targetShape"];return r&&!r.getStage()&&(r=null),r}_pointerleave(e){let r=Fo(e.type),n=aa(e.type);if(r){this.setPointersPositions(e);var i=this._getTargetShape(n),o=!ko.DD.isDragging||Gt.Konva.hitOnDragEnabled;i&&o?(i._fireAndBubble(r.pointerout,{evt:e}),i._fireAndBubble(r.pointerleave,{evt:e}),this._fire(r.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):o&&(this._fire(r.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(r.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(e){let r=Fo(e.type),n=aa(e.type);if(r){this.setPointersPositions(e);var i=!1;this._changedPointerPositions.forEach(o=>{var s=this.getIntersection(o);if(ko.DD.justDragged=!1,Gt.Konva["_"+n+"ListenClick"]=!0,!s||!s.isListening())return;Gt.Konva.capturePointerEventsEnabled&&s.setPointerCapture(o.id),this[n+"ClickStartShape"]=s,s._fireAndBubble(r.pointerdown,{evt:e,pointerId:o.id}),i=!0;let a=e.type.indexOf("touch")>=0;s.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(r.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){let r=Fo(e.type),n=aa(e.type);if(!r)return;ko.DD.isDragging&&ko.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);var i=!ko.DD.isDragging||Gt.Konva.hitOnDragEnabled;if(!i)return;var o={};let s=!1;var a=this._getTargetShape(n);this._changedPointerPositions.forEach(l=>{let c=br.getCapturedShape(l.id)||this.getIntersection(l),u=l.id,d={evt:e,pointerId:u};var f=a!==c;if(f&&a&&(a._fireAndBubble(r.pointerout,T({},d),c),a._fireAndBubble(r.pointerleave,T({},d),c)),c){if(o[c._id])return;o[c._id]=!0}c&&c.isListening()?(s=!0,f&&(c._fireAndBubble(r.pointerover,T({},d),a),c._fireAndBubble(r.pointerenter,T({},d),a),this[n+"targetShape"]=c),c._fireAndBubble(r.pointermove,T({},d))):a&&(this._fire(r.pointerover,{evt:e,target:this,currentTarget:this,pointerId:u}),this[n+"targetShape"]=null)}),s||this._fire(r.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){let r=Fo(e.type),n=aa(e.type);if(!r)return;this.setPointersPositions(e);let i=this[n+"ClickStartShape"],o=this[n+"ClickEndShape"];var s={};let a=!1;this._changedPointerPositions.forEach(l=>{let c=br.getCapturedShape(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),s[c._id])return;s[c._id]=!0}let u=l.id,d={evt:e,pointerId:u},f=!1;Gt.Konva["_"+n+"InDblClickWindow"]?(f=!0,clearTimeout(this[n+"DblTimeout"])):ko.DD.justDragged||(Gt.Konva["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout(function(){Gt.Konva["_"+n+"InDblClickWindow"]=!1},Gt.Konva.dblClickWindow),c&&c.isListening()?(a=!0,this[n+"ClickEndShape"]=c,c._fireAndBubble(r.pointerup,T({},d)),Gt.Konva["_"+n+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(r.pointerclick,T({},d)),f&&o&&o===c&&c._fireAndBubble(r.pointerdblclick,T({},d)))):(this[n+"ClickEndShape"]=null,Gt.Konva["_"+n+"ListenClick"]&&this._fire(r.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:u}),f&&this._fire(r.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:u}))}),a||this._fire(r.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Gt.Konva["_"+n+"ListenClick"]=!1,e.cancelable&&n!=="touch"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var r=this.getIntersection(this.getPointerPosition());r&&r.isListening()?r._fireAndBubble(O1,{evt:e}):this._fire(O1,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var r=this.getIntersection(this.getPointerPosition());r&&r.isListening()?r._fireAndBubble(N1,{evt:e}):this._fire(N1,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);let r=br.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());r&&r._fireAndBubble(Lo,br.createEvent(e)),br.releaseCapture(e.pointerId)}_lostpointercapture(e){br.releaseCapture(e.pointerId)}setPointersPositions(e){var r=this._getContentPosition(),n=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-r.left)/r.scaleX,y:(o.clientY-r.top)/r.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-r.left)/r.scaleX,y:(o.clientY-r.top)/r.scaleY})})):(n=(e.clientX-r.left)/r.scaleX,i=(e.clientY-r.top)/r.scaleY,this.pointerPos={x:n,y:i},this._pointerPositions=[{x:n,y:i,id:Zn.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:i,id:Zn.Util._getFirstPointerId(e)}])}_setPointerPosition(e){Zn.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new A1.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new A1.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!Gt.Konva.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return Zn.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Dr.Stage=Vo;Vo.prototype.nodeType=Ex;(0,Sx._registerNode)(Vo);xx.Factory.addGetterSetter(Vo,"container")});var Et=ne(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.Shape=xr.shapes=void 0;var Nx=Se(),Xn=ct(),K=we(),y5=ft(),xt=Ee(),Px=Se(),P1=T1(),_5="hasShadow",w5="shadowRGBA",b5="patternImage",D5="linearGradient",x5="radialGradient",Tc;function k1(){return Tc||(Tc=Xn.Util.createCanvasElement().getContext("2d"),Tc)}xr.shapes={};function kx(t){let e=this.attrs.fillRule;e?t.fill(e):t.fill()}function Fx(t){t.stroke()}function Lx(t){t.fill()}function Vx(t){t.stroke()}function jx(){this._clearCache(_5)}function Ux(){this._clearCache(w5)}function Bx(){this._clearCache(b5)}function Hx(){this._clearCache(D5)}function $x(){this._clearCache(x5)}var $=class extends y5.Node{constructor(e){super(e);let r;for(;r=Xn.Util.getRandomColor(),!(r&&!(r in xr.shapes)););this.colorKey=r,xr.shapes[r]=this}getContext(){return Xn.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Xn.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(_5,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(b5,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=k1();let r=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(r&&r.setTransform){let n=new Xn.Transform;n.translate(this.fillPatternX(),this.fillPatternY()),n.rotate(Nx.Konva.getAngle(this.fillPatternRotation())),n.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),n.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());let i=n.getMatrix(),o=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);r.setTransform(o)}return r}}_getLinearGradient(){return this._getCache(D5,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var r=k1(),n=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),o=r.createLinearGradient(n.x,n.y,i.x,i.y),s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}_getRadialGradient(){return this._getCache(x5,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var r=k1(),n=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),o=r.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),s=0;s<e.length;s+=2)o.addColorStop(e[s],e[s+1]);return o}}getShadowRGBA(){return this._getCache(w5,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=Xn.Util.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){let e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var r=this.getStage();if(!r)return!1;let n=r.bufferHitCanvas;return n.getContext().clear(),this.drawHit(n,void 0,!0),n.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return y5.Node.prototype.destroy.call(this),delete xr.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var r;if(!((r=this.attrs.perfectDrawEnabled)!==null&&r!==void 0?r:!0))return!1;let i=e||this.hasFill(),o=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(i&&o&&s)return!0;let a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&o&&a&&l)}setStrokeHitEnabled(e){Xn.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let r=e.skipTransform,n=e.relativeTo,i=this.getSelfRect(),s=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=i.width+s,l=i.height+s,c=!e.skipShadow&&this.hasShadow(),u=c?this.shadowOffsetX():0,d=c?this.shadowOffsetY():0,f=a+Math.abs(u),h=l+Math.abs(d),g=c&&this.shadowBlur()||0,v=f+g*2,_=h+g*2,D={width:v,height:_,x:-(s/2+g)+Math.min(u,0)+i.x,y:-(s/2+g)+Math.min(d,0)+i.y};return r?D:this._transformedRect(D,n)}drawScene(e,r,n){var i=this.getLayer(),o=e||i.getCanvas(),s=o.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),u,d,f=o.isCache,h=r===this;if(!this.isVisible()&&!h)return this;if(a){s.save();var g=this.getAbsoluteTransform(r).getMatrix();return s.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()&&!f){u=this.getStage();let D=n||u.bufferCanvas;d=D.getContext(),d.clear(),d.save(),d._applyLineJoin(this);var v=this.getAbsoluteTransform(r).getMatrix();d.transform(v[0],v[1],v[2],v[3],v[4],v[5]),l.call(this,d,this),d.restore();var _=D.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(D._canvas,0,0,D.width/_,D.height/_)}else{if(s._applyLineJoin(this),!h){var v=this.getAbsoluteTransform(r).getMatrix();s.transform(v[0],v[1],v[2],v[3],v[4],v[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}c&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(e,r,n=!1){if(!this.shouldDrawHit(r,n))return this;var i=this.getLayer(),o=e||i.hitCanvas,s=o&&o.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||Xn.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){s.save();var u=this.getAbsoluteTransform(r).getMatrix();return s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!a)return this;if(s.save(),s._applyLineJoin(this),!(this===r)){var f=this.getAbsoluteTransform(r).getMatrix();s.transform(f[0],f[1],f[2],f[3],f[4],f[5])}return a.call(this,s,this),s.restore(),this}drawHitFromCache(e=0){var r=this._getCanvasCache(),n=this._getCachedSceneCanvas(),i=r.hit,o=i.getContext(),s=i.getWidth(),a=i.getHeight(),l,c,u,d,f,h;o.clear(),o.drawImage(n._canvas,0,0,s,a);try{for(l=o.getImageData(0,0,s,a),c=l.data,u=c.length,d=Xn.Util._hexToRgb(this.colorKey),f=0;f<u;f+=4)h=c[f+3],h>e?(c[f]=d.r,c[f+1]=d.g,c[f+2]=d.b,c[f+3]=255):c[f+3]=0;o.putImageData(l,0,0)}catch(g){Xn.Util.error("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}hasPointerCapture(e){return P1.hasPointerCapture(e,this)}setPointerCapture(e){P1.setPointerCapture(e,this)}releaseCapture(e){P1.releaseCapture(e,this)}};xr.Shape=$;$.prototype._fillFunc=kx;$.prototype._strokeFunc=Fx;$.prototype._fillFuncHit=Lx;$.prototype._strokeFuncHit=Vx;$.prototype._centroid=!1;$.prototype.nodeType="Shape";(0,Px._registerNode)($);$.prototype.eventListeners={};$.prototype.on.call($.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",jx);$.prototype.on.call($.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Ux);$.prototype.on.call($.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",Bx);$.prototype.on.call($.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",Hx);$.prototype.on.call($.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",$x);K.Factory.addGetterSetter($,"stroke",void 0,(0,xt.getStringOrGradientValidator)());K.Factory.addGetterSetter($,"strokeWidth",2,(0,xt.getNumberValidator)());K.Factory.addGetterSetter($,"fillAfterStrokeEnabled",!1);K.Factory.addGetterSetter($,"hitStrokeWidth","auto",(0,xt.getNumberOrAutoValidator)());K.Factory.addGetterSetter($,"strokeHitEnabled",!0,(0,xt.getBooleanValidator)());K.Factory.addGetterSetter($,"perfectDrawEnabled",!0,(0,xt.getBooleanValidator)());K.Factory.addGetterSetter($,"shadowForStrokeEnabled",!0,(0,xt.getBooleanValidator)());K.Factory.addGetterSetter($,"lineJoin");K.Factory.addGetterSetter($,"lineCap");K.Factory.addGetterSetter($,"sceneFunc");K.Factory.addGetterSetter($,"hitFunc");K.Factory.addGetterSetter($,"dash");K.Factory.addGetterSetter($,"dashOffset",0,(0,xt.getNumberValidator)());K.Factory.addGetterSetter($,"shadowColor",void 0,(0,xt.getStringValidator)());K.Factory.addGetterSetter($,"shadowBlur",0,(0,xt.getNumberValidator)());K.Factory.addGetterSetter($,"shadowOpacity",1,(0,xt.getNumberValidator)());K.Factory.addComponentsGetterSetter($,"shadowOffset",["x","y"]);K.Factory.addGetterSetter($,"shadowOffsetX",0,(0,xt.getNumberValidator)());K.Factory.addGetterSetter($,"shadowOffsetY",0,(0,xt.getNumberValidator)());K.Factory.addGetterSetter($,"fillPatternImage");K.Factory.addGetterSetter($,"fill",void 0,(0,xt.getStringOrGradientValidator)());K.Factory.addGetterSetter($,"fillPatternX",0,(0,xt.getNumberValidator)());K.Factory.addGetterSetter($,"fillPatternY",0,(0,xt.getNumberValidator)());K.Factory.addGetterSetter($,"fillLinearGradientColorStops");K.Factory.addGetterSetter($,"strokeLinearGradientColorStops");K.Factory.addGetterSetter($,"fillRadialGradientStartRadius",0);K.Factory.addGetterSetter($,"fillRadialGradientEndRadius",0);K.Factory.addGetterSetter($,"fillRadialGradientColorStops");K.Factory.addGetterSetter($,"fillPatternRepeat","repeat");K.Factory.addGetterSetter($,"fillEnabled",!0);K.Factory.addGetterSetter($,"strokeEnabled",!0);K.Factory.addGetterSetter($,"shadowEnabled",!0);K.Factory.addGetterSetter($,"dashEnabled",!0);K.Factory.addGetterSetter($,"strokeScaleEnabled",!0);K.Factory.addGetterSetter($,"fillPriority","color");K.Factory.addComponentsGetterSetter($,"fillPatternOffset",["x","y"]);K.Factory.addGetterSetter($,"fillPatternOffsetX",0,(0,xt.getNumberValidator)());K.Factory.addGetterSetter($,"fillPatternOffsetY",0,(0,xt.getNumberValidator)());K.Factory.addComponentsGetterSetter($,"fillPatternScale",["x","y"]);K.Factory.addGetterSetter($,"fillPatternScaleX",1,(0,xt.getNumberValidator)());K.Factory.addGetterSetter($,"fillPatternScaleY",1,(0,xt.getNumberValidator)());K.Factory.addComponentsGetterSetter($,"fillLinearGradientStartPoint",["x","y"]);K.Factory.addComponentsGetterSetter($,"strokeLinearGradientStartPoint",["x","y"]);K.Factory.addGetterSetter($,"fillLinearGradientStartPointX",0);K.Factory.addGetterSetter($,"strokeLinearGradientStartPointX",0);K.Factory.addGetterSetter($,"fillLinearGradientStartPointY",0);K.Factory.addGetterSetter($,"strokeLinearGradientStartPointY",0);K.Factory.addComponentsGetterSetter($,"fillLinearGradientEndPoint",["x","y"]);K.Factory.addComponentsGetterSetter($,"strokeLinearGradientEndPoint",["x","y"]);K.Factory.addGetterSetter($,"fillLinearGradientEndPointX",0);K.Factory.addGetterSetter($,"strokeLinearGradientEndPointX",0);K.Factory.addGetterSetter($,"fillLinearGradientEndPointY",0);K.Factory.addGetterSetter($,"strokeLinearGradientEndPointY",0);K.Factory.addComponentsGetterSetter($,"fillRadialGradientStartPoint",["x","y"]);K.Factory.addGetterSetter($,"fillRadialGradientStartPointX",0);K.Factory.addGetterSetter($,"fillRadialGradientStartPointY",0);K.Factory.addComponentsGetterSetter($,"fillRadialGradientEndPoint",["x","y"]);K.Factory.addGetterSetter($,"fillRadialGradientEndPointX",0);K.Factory.addGetterSetter($,"fillRadialGradientEndPointY",0);K.Factory.addGetterSetter($,"fillPatternRotation",0);K.Factory.addGetterSetter($,"fillRule",void 0,(0,xt.getStringValidator)());K.Factory.backCompat($,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})});var V1=ne(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.Layer=void 0;var Sr=ct(),F1=na(),jo=ft(),L1=we(),S5=Qs(),Gx=Ee(),zx=Et(),qx=Se(),Wx="#",Yx="beforeDraw",Kx="draw",E5=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Zx=E5.length,Zr=class extends F1.Container{constructor(e){super(e),this.canvas=new S5.SceneCanvas,this.hitCanvas=new S5.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var r=this.getStage();return r&&r.content&&(r.content.removeChild(this.getNativeCanvasElement()),e<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[e+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){jo.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=jo.Node.prototype.moveUp.call(this);if(!e)return!1;var r=this.getStage();return!r||!r.content?!1:(r.content.removeChild(this.getNativeCanvasElement()),this.index<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[this.index+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(jo.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(jo.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return jo.Node.prototype.remove.call(this),e&&e.parentNode&&Sr.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:r}){return this.canvas.setSize(e,r),this.hitCanvas.setSize(e,r),this._setSmoothEnabled(),this}_validateAdd(e){var r=e.getType();r!=="Group"&&r!=="Shape"&&Sr.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),jo.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Sr.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Sr.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Sr.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var r=1,n=!1;;){for(let i=0;i<Zx;i++){let o=E5[i],s=this._getIntersection({x:e.x+o.x*r,y:e.y+o.y*r}),a=s.shape;if(a)return a;if(n=!!s.antialiased,!s.antialiased)break}if(n)r+=1;else return null}}_getIntersection(e){let r=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*r),Math.round(e.y*r),1,1).data,i=n[3];if(i===255){let o=Sr.Util._rgbToHex(n[0],n[1],n[2]),s=zx.shapes[Wx+o];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,r){var n=this.getLayer(),i=e||n&&n.getCanvas();return this._fire(Yx,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),F1.Container.prototype.drawScene.call(this,i,r),this._fire(Kx,{node:this}),this}drawHit(e,r){var n=this.getLayer(),i=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),F1.Container.prototype.drawHit.call(this,i,r),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Sr.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Sr.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,r=!!this.hitCanvas._canvas.parentNode;r?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return Sr.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Ac.Layer=Zr;Zr.prototype.nodeType="Layer";(0,qx._registerNode)(Zr);L1.Factory.addGetterSetter(Zr,"imageSmoothingEnabled",!0);L1.Factory.addGetterSetter(Zr,"clearBeforeDraw",!0);L1.Factory.addGetterSetter(Zr,"hitGraphEnabled",!0,(0,Gx.getBooleanValidator)())});var I5=ne(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.FastLayer=void 0;var Xx=ct(),Qx=V1(),Jx=Se(),la=class extends Qx.Layer{constructor(e){super(e),this.listening(!1),Xx.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};Rc.FastLayer=la;la.prototype.nodeType="FastLayer";(0,Jx._registerNode)(la)});var Nc=ne(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.Group=void 0;var eS=ct(),tS=na(),nS=Se(),ca=class extends tS.Container{_validateAdd(e){var r=e.getType();r!=="Group"&&r!=="Shape"&&eS.Util.throw("You may only add groups and shapes to groups.")}};Oc.Group=ca;ca.prototype.nodeType="Group";(0,nS._registerNode)(ca)});var kc=ne(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.Animation=void 0;var j1=Se(),M5=ct(),U1=function(){return j1.glob.performance&&j1.glob.performance.now?function(){return j1.glob.performance.now()}:function(){return new Date().getTime()}}(),Uo=class t{constructor(e,r){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:U1(),frameRate:0},this.func=e,this.setLayers(r)}setLayers(e){let r=[];return e&&(r=Array.isArray(e)?e:[e]),this.layers=r,this}getLayers(){return this.layers}addLayer(e){let r=this.layers,n=r.length;for(let i=0;i<n;i++)if(r[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){let r=t.animations,n=r.length;for(let i=0;i<n;i++)if(r[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=U1(),t._addAnimation(this),this}stop(){return t._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){let r=e.id,n=this.animations,i=n.length;for(let o=0;o<i;o++)if(n[o].id===r){this.animations.splice(o,1);break}}static _runFrames(){let e={},r=this.animations;for(let n=0;n<r.length;n++){let i=r[n],o=i.layers,s=i.func;i._updateFrameObject(U1());let a=o.length,l;if(s?l=s.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){let u=o[c];u._id!==void 0&&(e[u._id]=u)}}for(let n in e)e.hasOwnProperty(n)&&e[n].batchDraw()}static _animationLoop(){let e=t;e.animations.length?(e._runFrames(),M5.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,M5.Util.requestAnimFrame(this._animationLoop))}};Pc.Animation=Uo;Uo.animations=[];Uo.animIdCounter=0;Uo.animRunning=!1});var O5=ne(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.Easings=Qn.Tween=void 0;var Er=ct(),rS=kc(),iS=ft(),oS=Se(),sS={node:1,duration:1,easing:1,onFinish:1,yoyo:1},aS=1,T5=2,A5=3,lS=0,R5=["fill","stroke","shadowColor"],B1=class{constructor(e,r,n,i,o,s,a){this.prop=e,this.propFunc=r,this.begin=i,this._pos=i,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=o-this.begin,this.pause()}fire(e){var r=this[e];r&&r()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=T5,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=A5,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;this.state===T5?this.setTime(e):this.state===A5&&this.setTime(this.duration-e)}pause(){this.state=aS,this.fire("onPause")}getTimer(){return new Date().getTime()}},Bo=class t{constructor(e){var r=this,n=e.node,i=n._id,o,s=e.easing||Qn.Easings.Linear,a=!!e.yoyo,l;typeof e.duration>"u"?o=.3:e.duration===0?o=.001:o=e.duration,this.node=n,this._id=lS++;var c=n.getLayer()||(n instanceof oS.Konva.Stage?n.getLayers():null);c||Er.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new rS.Animation(function(){r.tween.onEnterFrame()},c),this.tween=new B1(l,function(u){r._tweenFunc(u)},s,0,1,o*1e3,a),this._addListeners(),t.attrs[i]||(t.attrs[i]={}),t.attrs[i][this._id]||(t.attrs[i][this._id]={}),t.tweens[i]||(t.tweens[i]={});for(l in e)sS[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,r){var n=this.node,i=n._id,o,s,a,l,c,u,d,f;if(a=t.tweens[i][e],a&&delete t.attrs[i][a][e],o=n.getAttr(e),Er.Util._isArray(r))if(s=[],c=Math.max(r.length,o.length),e==="points"&&r.length!==o.length&&(r.length>o.length?(d=o,o=Er.Util._prepareArrayForTween(o,r,n.closed())):(u=r,r=Er.Util._prepareArrayForTween(r,o,n.closed()))),e.indexOf("fill")===0)for(l=0;l<c;l++)if(l%2===0)s.push(r[l]-o[l]);else{var h=Er.Util.colorToRGBA(o[l]);f=Er.Util.colorToRGBA(r[l]),o[l]=h,s.push({r:f.r-h.r,g:f.g-h.g,b:f.b-h.b,a:f.a-h.a})}else for(l=0;l<c;l++)s.push(r[l]-o[l]);else R5.indexOf(e)!==-1?(o=Er.Util.colorToRGBA(o),f=Er.Util.colorToRGBA(r),s={r:f.r-o.r,g:f.g-o.g,b:f.b-o.b,a:f.a-o.a}):s=r-o;t.attrs[i][this._id][e]={start:o,diff:s,end:r,trueEnd:u,trueStart:d},t.tweens[i][e]=this._id}_tweenFunc(e){var r=this.node,n=t.attrs[r._id][this._id],i,o,s,a,l,c,u,d;for(i in n){if(o=n[i],s=o.start,a=o.diff,d=o.end,Er.Util._isArray(s))if(l=[],u=Math.max(s.length,d.length),i.indexOf("fill")===0)for(c=0;c<u;c++)c%2===0?l.push((s[c]||0)+a[c]*e):l.push("rgba("+Math.round(s[c].r+a[c].r*e)+","+Math.round(s[c].g+a[c].g*e)+","+Math.round(s[c].b+a[c].b*e)+","+(s[c].a+a[c].a*e)+")");else for(c=0;c<u;c++)l.push((s[c]||0)+a[c]*e);else R5.indexOf(i)!==-1?l="rgba("+Math.round(s.r+a.r*e)+","+Math.round(s.g+a.g*e)+","+Math.round(s.b+a.b*e)+","+(s.a+a.a*e)+")":l=s+a*e;r.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,r=t.attrs[e._id][this._id];r.points&&r.points.trueEnd&&e.setAttr("points",r.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,r=t.attrs[e._id][this._id];r.points&&r.points.trueStart&&e.points(r.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e=this.node._id,r=this._id,n=t.tweens[e],i;this.pause();for(i in n)delete t.tweens[e][i];delete t.attrs[e][r]}};Qn.Tween=Bo;Bo.attrs={};Bo.tweens={};iS.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var r=new Bo(t);r.play()};Qn.Easings={BackEaseIn(t,e,r,n){var i=1.70158;return r*(t/=n)*t*((i+1)*t-i)+e},BackEaseOut(t,e,r,n){var i=1.70158;return r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut(t,e,r,n){var i=1.70158;return(t/=n/2)<1?r/2*(t*t*(((i*=1.525)+1)*t-i))+e:r/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,r,n,i,o){var s=0;return t===0?e:(t/=n)===1?e+r:(o||(o=n*.3),!i||i<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o))+e)},ElasticEaseOut(t,e,r,n,i,o){var s=0;return t===0?e:(t/=n)===1?e+r:(o||(o=n*.3),!i||i<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),i*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/o)+r+e)},ElasticEaseInOut(t,e,r,n,i,o){var s=0;return t===0?e:(t/=n/2)===2?e+r:(o||(o=n*(.3*1.5)),!i||i<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o)*.5+r+e)},BounceEaseOut(t,e,r,n){return(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,r,n){return r-Qn.Easings.BounceEaseOut(n-t,0,r,n)+e},BounceEaseInOut(t,e,r,n){return t<n/2?Qn.Easings.BounceEaseIn(t*2,0,r,n)*.5+e:Qn.Easings.BounceEaseOut(t*2-n,0,r,n)*.5+r*.5+e},EaseIn(t,e,r,n){return r*(t/=n)*t+e},EaseOut(t,e,r,n){return-r*(t/=n)*(t-2)+e},EaseInOut(t,e,r,n){return(t/=n/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,r,n){return r*(t/=n)*t*t*t*t+e},StrongEaseOut(t,e,r,n){return r*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,r,n){return r*t/n+e}}});var F5=ne(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.Konva=void 0;var cS=Se(),H1=ct(),uS=ft(),dS=na(),N5=C5(),fS=V1(),hS=I5(),pS=Nc(),gS=Cc(),P5=Et(),mS=kc(),k5=O5(),vS=b1(),CS=Qs();Ho.Konva=H1.Util._assign(cS.Konva,{Util:H1.Util,Transform:H1.Transform,Node:uS.Node,Container:dS.Container,Stage:N5.Stage,stages:N5.stages,Layer:fS.Layer,FastLayer:hS.FastLayer,Group:pS.Group,DD:gS.DD,Shape:P5.Shape,shapes:P5.shapes,Animation:mS.Animation,Tween:k5.Tween,Easings:k5.Easings,Context:vS.Context,Canvas:CS.Canvas});Ho.default=Ho.Konva});var V5=ne(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.Arc=void 0;var Fc=we(),yS=Et(),L5=Se(),Lc=Ee(),_S=Se(),Nn=class extends yS.Shape{_sceneFunc(e){var r=L5.Konva.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,r,n),e.arc(0,0,this.innerRadius(),r,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){let e=this.innerRadius(),r=this.outerRadius(),n=this.clockwise(),i=L5.Konva.getAngle(n?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),s=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=o*(o>0?e:r),u=s*(s>0?r:e),d=a*(a>0?e:r),f=l*(l>0?r:e);return{x:c,y:n?-1*f:d,width:u-c,height:f-d}}};Vc.Arc=Nn;Nn.prototype._centroid=!0;Nn.prototype.className="Arc";Nn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,_S._registerNode)(Nn);Fc.Factory.addGetterSetter(Nn,"innerRadius",0,(0,Lc.getNumberValidator)());Fc.Factory.addGetterSetter(Nn,"outerRadius",0,(0,Lc.getNumberValidator)());Fc.Factory.addGetterSetter(Nn,"angle",0,(0,Lc.getNumberValidator)());Fc.Factory.addGetterSetter(Nn,"clockwise",!1,(0,Lc.getBooleanValidator)())});var G1=ne(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.Line=void 0;var jc=we(),wS=Et(),U5=Ee(),bS=Se();function $1(t,e,r,n,i,o,s){var a=Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2)),l=Math.sqrt(Math.pow(i-r,2)+Math.pow(o-n,2)),c=s*a/(a+l),u=s*l/(a+l),d=r-c*(i-t),f=n-c*(o-e),h=r+u*(i-t),g=n+u*(o-e);return[d,f,h,g]}function j5(t,e){var r=t.length,n=[],i,o;for(i=2;i<r-2;i+=2)o=$1(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),!isNaN(o[0])&&(n.push(o[0]),n.push(o[1]),n.push(t[i]),n.push(t[i+1]),n.push(o[2]),n.push(o[3]));return n}var Jn=class extends wS.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var r=this.points(),n=r.length,i=this.tension(),o=this.closed(),s=this.bezier(),a,l,c;if(n){if(e.beginPath(),e.moveTo(r[0],r[1]),i!==0&&n>4){for(a=this.getTensionPoints(),l=a.length,c=o?0:4,o||e.quadraticCurveTo(a[0],a[1],a[2],a[3]);c<l-2;)e.bezierCurveTo(a[c++],a[c++],a[c++],a[c++],a[c++],a[c++]);o||e.quadraticCurveTo(a[l-2],a[l-1],r[n-2],r[n-1])}else if(s)for(c=2;c<n;)e.bezierCurveTo(r[c++],r[c++],r[c++],r[c++],r[c++],r[c++]);else for(c=2;c<n;c+=2)e.lineTo(r[c],r[c+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():j5(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),r=e.length,n=this.tension(),i=$1(e[r-2],e[r-1],e[0],e[1],e[2],e[3],n),o=$1(e[r-4],e[r-3],e[r-2],e[r-1],e[0],e[1],n),s=j5(e,n),a=[i[2],i[3]].concat(s).concat([o[0],o[1],e[r-2],e[r-1],o[2],o[3],i[0],i[1],e[0],e[1]]);return a}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var r=e[0],n=e[0],i=e[1],o=e[1],s,a,l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],r=Math.min(r,s),n=Math.max(n,s),i=Math.min(i,a),o=Math.max(o,a);return{x:r,y:i,width:n-r,height:o-i}}};Uc.Line=Jn;Jn.prototype.className="Line";Jn.prototype._attrsAffectingSize=["points","bezier","tension"];(0,bS._registerNode)(Jn);jc.Factory.addGetterSetter(Jn,"closed",!1);jc.Factory.addGetterSetter(Jn,"bezier",!1);jc.Factory.addGetterSetter(Jn,"tension",0,(0,U5.getNumberValidator)());jc.Factory.addGetterSetter(Jn,"points",[],(0,U5.getNumberArrayValidator)())});var B5=ne(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.t2length=Pt.getQuadraticArcLength=Pt.getCubicArcLength=Pt.binomialCoefficients=Pt.cValues=Pt.tValues=void 0;Pt.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]];Pt.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]];Pt.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];var DS=(t,e,r)=>{let n,i,o;n=r/2,i=0;for(let a=0;a<20;a++)o=n*Pt.tValues[20][a]+n,i+=Pt.cValues[20][a]*SS(t,e,o);return n*i};Pt.getCubicArcLength=DS;var xS=(t,e,r)=>{r===void 0&&(r=1);let n=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],o=2*t[1]-2*t[0],s=2*e[1]-2*e[0],a=4*(n*n+i*i),l=4*(n*o+i*s),c=o*o+s*s;if(a===0)return r*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));let u=l/(2*a),d=c/a,f=r+u,h=d-u*u,g=f*f+h>0?Math.sqrt(f*f+h):0,v=u*u+h>0?Math.sqrt(u*u+h):0,_=u+Math.sqrt(u*u+h)!==0?h*Math.log(Math.abs((f+g)/(u+v))):0;return Math.sqrt(a)/2*(f*g-u*v+_)};Pt.getQuadraticArcLength=xS;function SS(t,e,r){let n=z1(1,r,t),i=z1(1,r,e),o=n*n+i*i;return Math.sqrt(o)}var z1=(t,e,r)=>{let n=r.length-1,i,o;if(n===0)return 0;if(t===0){o=0;for(let s=0;s<=n;s++)o+=Pt.binomialCoefficients[n][s]*Math.pow(1-e,n-s)*Math.pow(e,s)*r[s];return o}else{i=new Array(n);for(let s=0;s<n;s++)i[s]=n*(r[s+1]-r[s]);return z1(t-1,e,i)}},ES=(t,e,r)=>{let n=1,i=t/e,o=(t-r(i))/e,s=0;for(;n>.001;){let a=r(i+o),l=Math.abs(t-a)/e;if(l<n)n=l,i+=o;else{let c=r(i-o),u=Math.abs(t-c)/e;u<n?(n=u,i-=o):o/=2}if(s++,s>500)break}return i};Pt.t2length=ES});var Hc=ne(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.Path=void 0;var IS=we(),MS=Et(),TS=Se(),$o=B5(),Ni=class t extends MS.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=t.parsePathData(this.data()),this.pathLength=t.getPathLength(this.dataArray)}_sceneFunc(e){var r=this.dataArray;e.beginPath();for(var n=!1,i=0;i<r.length;i++){var o=r[i].command,s=r[i].points;switch(o){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":var a=s[0],l=s[1],c=s[2],u=s[3],d=s[4],f=s[5],h=s[6],g=s[7],v=c>u?c:u,_=c>u?1:c/u,D=c>u?u/c:1;e.translate(a,l),e.rotate(h),e.scale(_,D),e.arc(0,0,v,d,d+f,1-g),e.scale(1/_,1/D),e.rotate(-h),e.translate(-a,-l);break;case"z":n=!0,e.closePath();break}}!n&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(c){if(c.command==="A"){var u=c.points[4],d=c.points[5],f=c.points[4]+d,h=Math.PI/180;if(Math.abs(u-f)<h&&(h=Math.abs(u-f)),d<0)for(let g=u-h;g>f;g-=h){let v=t.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],g,0);e.push(v.x,v.y)}else for(let g=u+h;g<f;g+=h){let v=t.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],g,0);e.push(v.x,v.y)}}else if(c.command==="C")for(let g=0;g<=1;g+=.01){let v=t.getPointOnCubicBezier(g,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(v.x,v.y)}else e=e.concat(c.points)});for(var r=e[0],n=e[0],i=e[1],o=e[1],s,a,l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],isNaN(s)||(r=Math.min(r,s),n=Math.max(n,s)),isNaN(a)||(i=Math.min(i,a),o=Math.max(o,a));return{x:r,y:i,width:n-r,height:o-i}}getLength(){return this.pathLength}getPointAtLength(e){return t.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,r,n,i){return Math.sqrt((n-e)*(n-e)+(i-r)*(i-r))}static getPathLength(e){let r=0;for(var n=0;n<e.length;++n)r+=e[n].pathLength;return r}static getPointAtLengthOfDataArray(e,r){var n,i=0,o=r.length;if(!o)return null;for(;i<o&&e>r[i].pathLength;)e-=r[i].pathLength,++i;if(i===o)return n=r[i-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=r[i].points.slice(0,2),{x:n[0],y:n[1]};var s=r[i],a=s.points;switch(s.command){case"L":return t.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return t.getPointOnCubicBezier((0,$o.t2length)(e,t.getPathLength(r),v=>(0,$o.getCubicArcLength)([s.start.x,a[0],a[2],a[4]],[s.start.y,a[1],a[3],a[5]],v)),s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return t.getPointOnQuadraticBezier((0,$o.t2length)(e,t.getPathLength(r),v=>(0,$o.getQuadraticArcLength)([s.start.x,a[0],a[2]],[s.start.y,a[1],a[3]],v)),s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":var l=a[0],c=a[1],u=a[2],d=a[3],f=a[4],h=a[5],g=a[6];return f+=h*e/s.pathLength,t.getPointOnEllipticalArc(l,c,u,d,f,g)}return null}static getPointOnLine(e,r,n,i,o,s,a){s===void 0&&(s=r),a===void 0&&(a=n);var l=(o-n)/(i-r+1e-8),c=Math.sqrt(e*e/(1+l*l));i<r&&(c*=-1);var u=l*c,d;if(i===r)d={x:s,y:a+u};else if((a-n)/(s-r+1e-8)===l)d={x:s+c,y:a+u};else{var f,h,g=this.getLineLength(r,n,i,o),v=(s-r)*(i-r)+(a-n)*(o-n);v=v/(g*g),f=r+v*(i-r),h=n+v*(o-n);var _=this.getLineLength(s,a,f,h),D=Math.sqrt(e*e-_*_);c=Math.sqrt(D*D/(1+l*l)),i<r&&(c*=-1),u=l*c,d={x:f+c,y:h+u}}return d}static getPointOnCubicBezier(e,r,n,i,o,s,a,l,c){function u(_){return _*_*_}function d(_){return 3*_*_*(1-_)}function f(_){return 3*_*(1-_)*(1-_)}function h(_){return(1-_)*(1-_)*(1-_)}var g=l*u(e)+s*d(e)+i*f(e)+r*h(e),v=c*u(e)+a*d(e)+o*f(e)+n*h(e);return{x:g,y:v}}static getPointOnQuadraticBezier(e,r,n,i,o,s,a){function l(h){return h*h}function c(h){return 2*h*(1-h)}function u(h){return(1-h)*(1-h)}var d=s*l(e)+i*c(e)+r*u(e),f=a*l(e)+o*c(e)+n*u(e);return{x:d,y:f}}static getPointOnEllipticalArc(e,r,n,i,o,s){var a=Math.cos(s),l=Math.sin(s),c={x:n*Math.cos(o),y:i*Math.sin(o)};return{x:e+(c.x*a-c.y*l),y:r+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];var r=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];r=r.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)r=r.replace(new RegExp(n[i],"g"),"|"+n[i]);var o=r.split("|"),s=[],a=[],l=0,c=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,d;for(i=1;i<o.length;i++){var f=o[i],h=f.charAt(0);for(f=f.slice(1),a.length=0;d=u.exec(f);)a.push(d[0]);for(var g=[],v=0,_=a.length;v<_;v++){if(a[v]==="00"){g.push(0,0);continue}var D=parseFloat(a[v]);isNaN(D)?g.push(0):g.push(D)}for(;g.length>0&&!isNaN(g[0]);){var I="",M=[],R=l,V=c,E,U,O,z,q,Y,ye,be,Fe,ht;switch(h){case"l":l+=g.shift(),c+=g.shift(),I="L",M.push(l,c);break;case"L":l=g.shift(),c=g.shift(),M.push(l,c);break;case"m":var We=g.shift(),pt=g.shift();if(l+=We,c+=pt,I="M",s.length>2&&s[s.length-1].command==="z"){for(var gt=s.length-2;gt>=0;gt--)if(s[gt].command==="M"){l=s[gt].points[0]+We,c=s[gt].points[1]+pt;break}}M.push(l,c),h="l";break;case"M":l=g.shift(),c=g.shift(),I="M",M.push(l,c),h="L";break;case"h":l+=g.shift(),I="L",M.push(l,c);break;case"H":l=g.shift(),I="L",M.push(l,c);break;case"v":c+=g.shift(),I="L",M.push(l,c);break;case"V":c=g.shift(),I="L",M.push(l,c);break;case"C":M.push(g.shift(),g.shift(),g.shift(),g.shift()),l=g.shift(),c=g.shift(),M.push(l,c);break;case"c":M.push(l+g.shift(),c+g.shift(),l+g.shift(),c+g.shift()),l+=g.shift(),c+=g.shift(),I="C",M.push(l,c);break;case"S":U=l,O=c,E=s[s.length-1],E.command==="C"&&(U=l+(l-E.points[2]),O=c+(c-E.points[3])),M.push(U,O,g.shift(),g.shift()),l=g.shift(),c=g.shift(),I="C",M.push(l,c);break;case"s":U=l,O=c,E=s[s.length-1],E.command==="C"&&(U=l+(l-E.points[2]),O=c+(c-E.points[3])),M.push(U,O,l+g.shift(),c+g.shift()),l+=g.shift(),c+=g.shift(),I="C",M.push(l,c);break;case"Q":M.push(g.shift(),g.shift()),l=g.shift(),c=g.shift(),M.push(l,c);break;case"q":M.push(l+g.shift(),c+g.shift()),l+=g.shift(),c+=g.shift(),I="Q",M.push(l,c);break;case"T":U=l,O=c,E=s[s.length-1],E.command==="Q"&&(U=l+(l-E.points[0]),O=c+(c-E.points[1])),l=g.shift(),c=g.shift(),I="Q",M.push(U,O,l,c);break;case"t":U=l,O=c,E=s[s.length-1],E.command==="Q"&&(U=l+(l-E.points[0]),O=c+(c-E.points[1])),l+=g.shift(),c+=g.shift(),I="Q",M.push(U,O,l,c);break;case"A":z=g.shift(),q=g.shift(),Y=g.shift(),ye=g.shift(),be=g.shift(),Fe=l,ht=c,l=g.shift(),c=g.shift(),I="A",M=this.convertEndpointToCenterParameterization(Fe,ht,l,c,ye,be,z,q,Y);break;case"a":z=g.shift(),q=g.shift(),Y=g.shift(),ye=g.shift(),be=g.shift(),Fe=l,ht=c,l+=g.shift(),c+=g.shift(),I="A",M=this.convertEndpointToCenterParameterization(Fe,ht,l,c,ye,be,z,q,Y);break}s.push({command:I||h,points:M,start:{x:R,y:V},pathLength:this.calcLength(R,V,I||h,M)})}(h==="z"||h==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,r,n,i){var o,s,a,l,c=t;switch(n){case"L":return c.getLineLength(e,r,i[0],i[1]);case"C":return(0,$o.getCubicArcLength)([e,i[0],i[2],i[4]],[r,i[1],i[3],i[5]],1);case"Q":return(0,$o.getQuadraticArcLength)([e,i[0],i[2]],[r,i[1],i[3]],1);case"A":o=0;var u=i[4],d=i[5],f=i[4]+d,h=Math.PI/180;if(Math.abs(u-f)<h&&(h=Math.abs(u-f)),s=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),d<0)for(l=u-h;l>f;l-=h)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(l=u+h;l<f;l+=h)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),o}return 0}static convertEndpointToCenterParameterization(e,r,n,i,o,s,a,l,c){var u=c*(Math.PI/180),d=Math.cos(u)*(e-n)/2+Math.sin(u)*(r-i)/2,f=-1*Math.sin(u)*(e-n)/2+Math.cos(u)*(r-i)/2,h=d*d/(a*a)+f*f/(l*l);h>1&&(a*=Math.sqrt(h),l*=Math.sqrt(h));var g=Math.sqrt((a*a*(l*l)-a*a*(f*f)-l*l*(d*d))/(a*a*(f*f)+l*l*(d*d)));o===s&&(g*=-1),isNaN(g)&&(g=0);var v=g*a*f/l,_=g*-l*d/a,D=(e+n)/2+Math.cos(u)*v-Math.sin(u)*_,I=(r+i)/2+Math.sin(u)*v+Math.cos(u)*_,M=function(q){return Math.sqrt(q[0]*q[0]+q[1]*q[1])},R=function(q,Y){return(q[0]*Y[0]+q[1]*Y[1])/(M(q)*M(Y))},V=function(q,Y){return(q[0]*Y[1]<q[1]*Y[0]?-1:1)*Math.acos(R(q,Y))},E=V([1,0],[(d-v)/a,(f-_)/l]),U=[(d-v)/a,(f-_)/l],O=[(-1*d-v)/a,(-1*f-_)/l],z=V(U,O);return R(U,O)<=-1&&(z=Math.PI),R(U,O)>=1&&(z=0),s===0&&z>0&&(z=z-2*Math.PI),s===1&&z<0&&(z=z+2*Math.PI),[D,I,a,l,E,z,u,s]}};Bc.Path=Ni;Ni.prototype.className="Path";Ni.prototype._attrsAffectingSize=["data"];(0,TS._registerNode)(Ni);IS.Factory.addGetterSetter(Ni,"data")});var G5=ne(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.Arrow=void 0;var $c=we(),AS=G1(),$5=Ee(),RS=Se(),H5=Hc(),Ir=class extends AS.Line{_sceneFunc(e){super._sceneFunc(e);var r=Math.PI*2,n=this.points(),i=n,o=this.tension()!==0&&n.length>4;o&&(i=this.getTensionPoints());var s=this.pointerLength(),a=n.length,l,c;if(o){let f=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],n[a-2],n[a-1]],h=H5.Path.calcLength(i[i.length-4],i[i.length-3],"C",f),g=H5.Path.getPointOnQuadraticBezier(Math.min(1,1-s/h),f[0],f[1],f[2],f[3],f[4],f[5]);l=n[a-2]-g.x,c=n[a-1]-g.y}else l=n[a-2]-n[a-4],c=n[a-1]-n[a-3];var u=(Math.atan2(c,l)+r)%r,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[a-2],n[a-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-s,d/2),e.lineTo(-s,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),o?(l=(i[0]+i[2])/2-n[0],c=(i[1]+i[3])/2-n[1]):(l=n[2]-n[0],c=n[3]-n[1]),e.rotate((Math.atan2(-c,-l)+r)%r),e.moveTo(0,0),e.lineTo(-s,d/2),e.lineTo(-s,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var r=this.dashEnabled();r&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),r&&(this.attrs.dashEnabled=!0)}getSelfRect(){let e=super.getSelfRect(),r=this.pointerWidth()/2;return{x:e.x-r,y:e.y-r,width:e.width+r*2,height:e.height+r*2}}};Gc.Arrow=Ir;Ir.prototype.className="Arrow";(0,RS._registerNode)(Ir);$c.Factory.addGetterSetter(Ir,"pointerLength",10,(0,$5.getNumberValidator)());$c.Factory.addGetterSetter(Ir,"pointerWidth",10,(0,$5.getNumberValidator)());$c.Factory.addGetterSetter(Ir,"pointerAtBeginning",!1);$c.Factory.addGetterSetter(Ir,"pointerAtEnding",!0)});var z5=ne(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.Circle=void 0;var OS=we(),NS=Et(),PS=Ee(),kS=Se(),Xr=class extends NS.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};zc.Circle=Xr;Xr.prototype._centroid=!0;Xr.prototype.className="Circle";Xr.prototype._attrsAffectingSize=["radius"];(0,kS._registerNode)(Xr);OS.Factory.addGetterSetter(Xr,"radius",0,(0,PS.getNumberValidator)())});var W5=ne(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.Ellipse=void 0;var q1=we(),FS=Et(),q5=Ee(),LS=Se(),er=class extends FS.Shape{_sceneFunc(e){var r=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),r!==n&&e.scale(1,n/r),e.arc(0,0,r,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}};qc.Ellipse=er;er.prototype.className="Ellipse";er.prototype._centroid=!0;er.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,LS._registerNode)(er);q1.Factory.addComponentsGetterSetter(er,"radius",["x","y"]);q1.Factory.addGetterSetter(er,"radiusX",0,(0,q5.getNumberValidator)());q1.Factory.addGetterSetter(er,"radiusY",0,(0,q5.getNumberValidator)())});var Y5=ne(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.Image=void 0;var W1=ct(),Pi=we(),VS=Et(),jS=Se(),ua=Ee(),vn=class t extends VS.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){let e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){let r=this.getWidth(),n=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image,s;if(o){let a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?s=[o,this.cropX(),this.cropY(),a,l,0,0,r,n]:s=[o,0,0,r,n]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?W1.Util.drawRoundedRectPath(e,r,n,i):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){var r=this.width(),n=this.height(),i=this.cornerRadius();e.beginPath(),i?W1.Util.drawRoundedRectPath(e,r,n,i):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,r;return(e=this.attrs.width)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.width}getHeight(){var e,r;return(e=this.attrs.height)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.height}static fromURL(e,r,n=null){var i=W1.Util.createImageElement();i.onload=function(){var o=new t({image:i});r(o)},i.onerror=n,i.crossOrigin="Anonymous",i.src=e}};Wc.Image=vn;vn.prototype.className="Image";(0,jS._registerNode)(vn);Pi.Factory.addGetterSetter(vn,"cornerRadius",0,(0,ua.getNumberOrArrayOfNumbersValidator)(4));Pi.Factory.addGetterSetter(vn,"image");Pi.Factory.addComponentsGetterSetter(vn,"crop",["x","y","width","height"]);Pi.Factory.addGetterSetter(vn,"cropX",0,(0,ua.getNumberValidator)());Pi.Factory.addGetterSetter(vn,"cropY",0,(0,ua.getNumberValidator)());Pi.Factory.addGetterSetter(vn,"cropWidth",0,(0,ua.getNumberValidator)());Pi.Factory.addGetterSetter(vn,"cropHeight",0,(0,ua.getNumberValidator)())});var X5=ne(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.Tag=Go.Label=void 0;var Yc=we(),US=Et(),BS=Nc(),Q1=Ee(),K5=Se(),Z5=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],HS="Change.konva",$S="none",Y1="up",K1="right",Z1="down",X1="left",GS=Z5.length,da=class extends BS.Group{constructor(e){super(e),this.on("add.konva",function(r){this._addListeners(r.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var r=this,n,i=function(){r._sync()};for(n=0;n<GS;n++)e.on(Z5[n]+HS,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),r=this.getTag(),n,i,o,s,a,l,c;if(e&&r){switch(n=e.width(),i=e.height(),o=r.pointerDirection(),s=r.pointerWidth(),c=r.pointerHeight(),a=0,l=0,o){case Y1:a=n/2,l=-1*c;break;case K1:a=n+s,l=i/2;break;case Z1:a=n/2,l=i+c;break;case X1:a=-1*s,l=i/2;break}r.setAttrs({x:-1*a,y:-1*l,width:n,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}};Go.Label=da;da.prototype.className="Label";(0,K5._registerNode)(da);var Mr=class extends US.Shape{_sceneFunc(e){var r=this.width(),n=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),s=this.pointerHeight(),a=this.cornerRadius();let l=0,c=0,u=0,d=0;typeof a=="number"?l=c=u=d=Math.min(a,r/2,n/2):(l=Math.min(a[0]||0,r/2,n/2),c=Math.min(a[1]||0,r/2,n/2),d=Math.min(a[2]||0,r/2,n/2),u=Math.min(a[3]||0,r/2,n/2)),e.beginPath(),e.moveTo(l,0),i===Y1&&(e.lineTo((r-o)/2,0),e.lineTo(r/2,-1*s),e.lineTo((r+o)/2,0)),e.lineTo(r-c,0),e.arc(r-c,c,c,Math.PI*3/2,0,!1),i===K1&&(e.lineTo(r,(n-s)/2),e.lineTo(r+o,n/2),e.lineTo(r,(n+s)/2)),e.lineTo(r,n-d),e.arc(r-d,n-d,d,0,Math.PI/2,!1),i===Z1&&(e.lineTo((r+o)/2,n),e.lineTo(r/2,n+s),e.lineTo((r-o)/2,n)),e.lineTo(u,n),e.arc(u,n-u,u,Math.PI/2,Math.PI,!1),i===X1&&(e.lineTo(0,(n+s)/2),e.lineTo(-1*o,n/2),e.lineTo(0,(n-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,r=0,n=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),s=this.width(),a=this.height();return o===Y1?(r-=i,a+=i):o===Z1?a+=i:o===X1?(e-=n*1.5,s+=n):o===K1&&(s+=n*1.5),{x:e,y:r,width:s,height:a}}};Go.Tag=Mr;Mr.prototype.className="Tag";(0,K5._registerNode)(Mr);Yc.Factory.addGetterSetter(Mr,"pointerDirection",$S);Yc.Factory.addGetterSetter(Mr,"pointerWidth",0,(0,Q1.getNumberValidator)());Yc.Factory.addGetterSetter(Mr,"pointerHeight",0,(0,Q1.getNumberValidator)());Yc.Factory.addGetterSetter(Mr,"cornerRadius",0,(0,Q1.getNumberOrArrayOfNumbersValidator)(4))});var J1=ne(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.Rect=void 0;var zS=we(),qS=Et(),WS=Se(),YS=ct(),KS=Ee(),zo=class extends qS.Shape{_sceneFunc(e){var r=this.cornerRadius(),n=this.width(),i=this.height();e.beginPath(),r?YS.Util.drawRoundedRectPath(e,n,i,r):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}};Kc.Rect=zo;zo.prototype.className="Rect";(0,WS._registerNode)(zo);zS.Factory.addGetterSetter(zo,"cornerRadius",0,(0,KS.getNumberOrArrayOfNumbersValidator)(4))});var e3=ne(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.RegularPolygon=void 0;var Q5=we(),ZS=Et(),J5=Ee(),XS=Se(),Tr=class extends ZS.Shape{_sceneFunc(e){let r=this._getPoints();e.beginPath(),e.moveTo(r[0].x,r[0].y);for(var n=1;n<r.length;n++)e.lineTo(r[n].x,r[n].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){let e=this.attrs.sides,r=this.attrs.radius||0,n=[];for(var i=0;i<e;i++)n.push({x:r*Math.sin(i*2*Math.PI/e),y:-1*r*Math.cos(i*2*Math.PI/e)});return n}getSelfRect(){let e=this._getPoints();var r=e[0].x,n=e[0].y,i=e[0].x,o=e[0].y;return e.forEach(s=>{r=Math.min(r,s.x),n=Math.max(n,s.x),i=Math.min(i,s.y),o=Math.max(o,s.y)}),{x:r,y:i,width:n-r,height:o-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};Zc.RegularPolygon=Tr;Tr.prototype.className="RegularPolygon";Tr.prototype._centroid=!0;Tr.prototype._attrsAffectingSize=["radius"];(0,XS._registerNode)(Tr);Q5.Factory.addGetterSetter(Tr,"radius",0,(0,J5.getNumberValidator)());Q5.Factory.addGetterSetter(Tr,"sides",0,(0,J5.getNumberValidator)())});var i3=ne(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.Ring=void 0;var n3=we(),QS=Et(),r3=Ee(),JS=Se(),t3=Math.PI*2,Ar=class extends QS.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,t3,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),t3,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Xc.Ring=Ar;Ar.prototype.className="Ring";Ar.prototype._centroid=!0;Ar.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,JS._registerNode)(Ar);n3.Factory.addGetterSetter(Ar,"innerRadius",0,(0,r3.getNumberValidator)());n3.Factory.addGetterSetter(Ar,"outerRadius",0,(0,r3.getNumberValidator)())});var s3=ne(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.Sprite=void 0;var ki=we(),eE=Et(),tE=kc(),o3=Ee(),nE=Se(),Cn=class extends eE.Shape{constructor(e){super(e),this._updated=!0,this.anim=new tE.Animation(()=>{var r=this._updated;return this._updated=!1,r}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var r=this.animation(),n=this.frameIndex(),i=n*4,o=this.animations()[r],s=this.frameOffsets(),a=o[i+0],l=o[i+1],c=o[i+2],u=o[i+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,u),e.closePath(),e.fillStrokeShape(this)),d)if(s){var f=s[r],h=n*2;e.drawImage(d,a,l,c,u,f[h+0],f[h+1],c,u)}else e.drawImage(d,a,l,c,u,0,0,c,u)}_hitFunc(e){var r=this.animation(),n=this.frameIndex(),i=n*4,o=this.animations()[r],s=this.frameOffsets(),a=o[i+2],l=o[i+3];if(e.beginPath(),s){var c=s[r],u=n*2;e.rect(c[u+0],c[u+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),r=this.animation(),n=this.animations(),i=n[r],o=i.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}};Qc.Sprite=Cn;Cn.prototype.className="Sprite";(0,nE._registerNode)(Cn);ki.Factory.addGetterSetter(Cn,"animation");ki.Factory.addGetterSetter(Cn,"animations");ki.Factory.addGetterSetter(Cn,"frameOffsets");ki.Factory.addGetterSetter(Cn,"image");ki.Factory.addGetterSetter(Cn,"frameIndex",0,(0,o3.getNumberValidator)());ki.Factory.addGetterSetter(Cn,"frameRate",17,(0,o3.getNumberValidator)());ki.Factory.backCompat(Cn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})});var a3=ne(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.Star=void 0;var ep=we(),rE=Et(),tp=Ee(),iE=Se(),tr=class extends rE.Shape{_sceneFunc(e){var r=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var o=1;o<i*2;o++){var s=o%2===0?n:r,a=s*Math.sin(o*Math.PI/i),l=-1*s*Math.cos(o*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Jc.Star=tr;tr.prototype.className="Star";tr.prototype._centroid=!0;tr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,iE._registerNode)(tr);ep.Factory.addGetterSetter(tr,"numPoints",5,(0,tp.getNumberValidator)());ep.Factory.addGetterSetter(tr,"innerRadius",0,(0,tp.getNumberValidator)());ep.Factory.addGetterSetter(tr,"outerRadius",0,(0,tp.getNumberValidator)())});var op=ne(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.Text=Wo.stringToArray=void 0;var ip=ct(),Ut=we(),oE=Et(),Qr=Ee(),sE=Se();function f3(t){return Array.from(t)}Wo.stringToArray=f3;var qo="auto",aE="center",h3="inherit",fa="justify",lE="Change.konva",cE="2d",l3="-",p3="left",uE="text",dE="Text",fE="top",hE="bottom",c3="middle",g3="normal",pE="px ",eu=" ",gE="right",u3="rtl",mE="word",vE="char",d3="none",np="\u2026",m3=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],CE=m3.length;function yE(t){return t.split(",").map(e=>{e=e.trim();let r=e.indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return r&&!n&&(e=`"${e}"`),e}).join(", ")}var tu;function rp(){return tu||(tu=ip.Util.createCanvasElement().getContext(cE),tu)}function _E(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function wE(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function bE(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}var at=class extends oE.Shape{constructor(e){super(bE(e)),this._partialTextX=0,this._partialTextY=0;for(var r=0;r<CE;r++)this.on(m3[r]+lE,this._setTextData);this._setTextData()}_sceneFunc(e){var r=this.textArr,n=r.length;if(this.text()){var i=this.padding(),o=this.fontSize(),s=this.lineHeight()*o,a=this.verticalAlign(),l=this.direction(),c=0,u=this.align(),d=this.getWidth(),f=this.letterSpacing(),h=this.fill(),g=this.textDecoration(),v=g.indexOf("underline")!==-1,_=g.indexOf("line-through")!==-1,D;l=l===h3?e.direction:l;var I=0,I=s/2,M=0,R=0;for(l===u3&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",c3),e.setAttr("textAlign",p3),a===c3?c=(this.getHeight()-n*s-i*2)/2:a===hE&&(c=this.getHeight()-n*s-i*2),e.translate(i,c+i),D=0;D<n;D++){var M=0,R=0,V=r[D],E=V.text,U=V.width,O=V.lastInParagraph,z,q,Y;if(e.save(),u===gE?M+=d-U-i*2:u===aE&&(M+=(d-U-i*2)/2),v){e.save(),e.beginPath(),e.moveTo(M,I+R+Math.round(o/2)),z=E.split(" ").length-1,q=z===0,Y=u===fa&&!O?d-i*2:U,e.lineTo(M+Math.round(Y),I+R+Math.round(o/2)),e.lineWidth=o/15;let pt=this._getLinearGradient();e.strokeStyle=pt||h,e.stroke(),e.restore()}if(_){e.save(),e.beginPath(),e.moveTo(M,I+R),z=E.split(" ").length-1,q=z===0,Y=u===fa&&O&&!q?d-i*2:U,e.lineTo(M+Math.round(Y),I+R),e.lineWidth=o/15;let pt=this._getLinearGradient();e.strokeStyle=pt||h,e.stroke(),e.restore()}if(l!==u3&&(f!==0||u===fa)){z=E.split(" ").length-1;for(var ye=f3(E),be=0;be<ye.length;be++){var Fe=ye[be];Fe===" "&&!O&&u===fa&&(M+=(d-i*2-U)/z),this._partialTextX=M,this._partialTextY=I+R,this._partialText=Fe,e.fillStrokeShape(this),M+=this.measureSize(Fe).width+f}}else f!==0&&e.setAttr("letterSpacing",`${f}px`),this._partialTextX=M,this._partialTextY=I+R,this._partialText=E,e.fillStrokeShape(this);e.restore(),n>1&&(I+=s)}}}_hitFunc(e){var r=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}setText(e){var r=ip.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(uE,r),this}getWidth(){var e=this.attrs.width===qo||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===qo||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return ip.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var r=rp(),n=this.fontSize(),i;return r.save(),r.font=this._getContextFont(),i=r.measureText(e),r.restore(),{width:i.width,height:n}}_getContextFont(){return this.fontStyle()+eu+this.fontVariant()+eu+(this.fontSize()+pE)+yE(this.fontFamily())}_addTextLine(e){this.align()===fa&&(e=e.trim());var n=this._getTextWidth(e);return this.textArr.push({text:e,width:n,lastInParagraph:!1})}_getTextWidth(e){var r=this.letterSpacing(),n=e.length;return rp().measureText(e).width+(n?r*(n-1):0)}_setTextData(){var e=this.text().split(`
`),r=+this.fontSize(),n=0,i=this.lineHeight()*r,o=this.attrs.width,s=this.attrs.height,a=o!==qo&&o!==void 0,l=s!==qo&&s!==void 0,c=this.padding(),u=o-c*2,d=s-c*2,f=0,h=this.wrap(),g=h!==d3,v=h!==vE&&g,_=this.ellipsis();this.textArr=[],rp().font=this._getContextFont();for(var D=_?this._getTextWidth(np):0,I=0,M=e.length;I<M;++I){var R=e[I],V=this._getTextWidth(R);if(a&&V>u)for(;R.length>0;){for(var E=0,U=R.length,O="",z=0;E<U;){var q=E+U>>>1,Y=R.slice(0,q+1),ye=this._getTextWidth(Y)+D;ye<=u?(E=q+1,O=Y,z=ye):U=q}if(O){if(v){var be,Fe=R[O.length],ht=Fe===eu||Fe===l3;ht&&z<=u?be=O.length:be=Math.max(O.lastIndexOf(eu),O.lastIndexOf(l3))+1,be>0&&(E=be,O=O.slice(0,E),z=this._getTextWidth(O))}O=O.trimRight(),this._addTextLine(O),n=Math.max(n,z),f+=i;var We=this._shouldHandleEllipsis(f);if(We){this._tryToAddEllipsisToLastLine();break}if(R=R.slice(E),R=R.trimLeft(),R.length>0&&(V=this._getTextWidth(R),V<=u)){this._addTextLine(R),f+=i,n=Math.max(n,V);break}}else break}else this._addTextLine(R),f+=i,n=Math.max(n,V),this._shouldHandleEllipsis(f)&&I<M-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&f+i>d)break}this.textHeight=r,this.textWidth=n}_shouldHandleEllipsis(e){var r=+this.fontSize(),n=this.lineHeight()*r,i=this.attrs.height,o=i!==qo&&i!==void 0,s=this.padding(),a=i-s*2,l=this.wrap(),c=l!==d3;return!c||o&&e+n>a}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,r=e!==qo&&e!==void 0,n=this.padding(),i=e-n*2,o=this.ellipsis(),s=this.textArr[this.textArr.length-1];if(!(!s||!o)){if(r){var a=this._getTextWidth(s.text+np)<i;a||(s.text=s.text.slice(0,s.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+np)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){let e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,r=this.hasShadow();return e&&r?!0:super._useBufferCanvas()}};Wo.Text=at;at.prototype._fillFunc=_E;at.prototype._strokeFunc=wE;at.prototype.className=dE;at.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,sE._registerNode)(at);Ut.Factory.overWriteSetter(at,"width",(0,Qr.getNumberOrAutoValidator)());Ut.Factory.overWriteSetter(at,"height",(0,Qr.getNumberOrAutoValidator)());Ut.Factory.addGetterSetter(at,"direction",h3);Ut.Factory.addGetterSetter(at,"fontFamily","Arial");Ut.Factory.addGetterSetter(at,"fontSize",12,(0,Qr.getNumberValidator)());Ut.Factory.addGetterSetter(at,"fontStyle",g3);Ut.Factory.addGetterSetter(at,"fontVariant",g3);Ut.Factory.addGetterSetter(at,"padding",0,(0,Qr.getNumberValidator)());Ut.Factory.addGetterSetter(at,"align",p3);Ut.Factory.addGetterSetter(at,"verticalAlign",fE);Ut.Factory.addGetterSetter(at,"lineHeight",1,(0,Qr.getNumberValidator)());Ut.Factory.addGetterSetter(at,"wrap",mE);Ut.Factory.addGetterSetter(at,"ellipsis",!1,(0,Qr.getBooleanValidator)());Ut.Factory.addGetterSetter(at,"letterSpacing",0,(0,Qr.getNumberValidator)());Ut.Factory.addGetterSetter(at,"text","",(0,Qr.getStringValidator)());Ut.Factory.addGetterSetter(at,"textDecoration","")});var w3=ne(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.TextPath=void 0;var sp=ct(),Pn=we(),DE=Et(),ha=Hc(),ap=op(),v3=Ee(),xE=Se(),SE="",C3="normal";function y3(t){t.fillText(this.partialText,0,0)}function _3(t){t.strokeText(this.partialText,0,0)}var wt=class extends DE.Shape{constructor(e){super(e),this.dummyCanvas=sp.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return ha.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;let r=this.pathLength;return e-1>r?null:ha.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=ha.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var r=this.textDecoration(),n=this.fill(),i=this.fontSize(),o=this.glyphInfo;r==="underline"&&e.beginPath();for(var s=0;s<o.length;s++){e.save();var a=o[s].p0;e.translate(a.x,a.y),e.rotate(o[s].rotation),this.partialText=o[s].text,e.fillStrokeShape(this),r==="underline"&&(s===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}r==="underline"&&(e.strokeStyle=n,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var r=this.glyphInfo;if(r.length>=1){var n=r[0].p0;e.moveTo(n.x,n.y)}for(var i=0;i<r.length;i++){var o=r[i].p1;e.lineTo(o.x,o.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return sp.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return ap.Text.prototype.setText.call(this,e)}_getContextFont(){return ap.Text.prototype._getContextFont.call(this)}_getTextSize(e){var r=this.dummyCanvas,n=r.getContext("2d");n.save(),n.font=this._getContextFont();var i=n.measureText(e);return n.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){let{width:e,height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;let n=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0),a=0;i==="center"&&(a=Math.max(0,this.pathLength/2-s/2)),i==="right"&&(a=Math.max(0,this.pathLength-s));let l=(0,ap.stringToArray)(this.text()),c=a;for(var u=0;u<l.length;u++){let d=this._getPointAtLength(c);if(!d)return;let f=this._getTextSize(l[u]).width+n;if(l[u]===" "&&i==="justify"){let I=this.text().split(" ").length-1;f+=(this.pathLength-s)/I}let h=this._getPointAtLength(c+f);if(!h)return;let g=ha.Path.getLineLength(d.x,d.y,h.x,h.y),v=0;if(o)try{v=o(l[u-1],l[u])*this.fontSize()}catch{v=0}d.x+=v,h.x+=v,this.textWidth+=v;let _=ha.Path.getPointOnLine(v+g/2,d.x,d.y,h.x,h.y),D=Math.atan2(h.y-d.y,h.x-d.x);this.glyphInfo.push({transposeX:_.x,transposeY:_.y,text:l[u],rotation:D,p0:d,p1:h}),c+=f}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(u){e.push(u.p0.x),e.push(u.p0.y),e.push(u.p1.x),e.push(u.p1.y)});for(var r=e[0]||0,n=e[0]||0,i=e[1]||0,o=e[1]||0,s,a,l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],r=Math.min(r,s),n=Math.max(n,s),i=Math.min(i,a),o=Math.max(o,a);var c=this.fontSize();return{x:r-c/2,y:i-c/2,width:n-r+c,height:o-i+c}}destroy(){return sp.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};nu.TextPath=wt;wt.prototype._fillFunc=y3;wt.prototype._strokeFunc=_3;wt.prototype._fillFuncHit=y3;wt.prototype._strokeFuncHit=_3;wt.prototype.className="TextPath";wt.prototype._attrsAffectingSize=["text","fontSize","data"];(0,xE._registerNode)(wt);Pn.Factory.addGetterSetter(wt,"data");Pn.Factory.addGetterSetter(wt,"fontFamily","Arial");Pn.Factory.addGetterSetter(wt,"fontSize",12,(0,v3.getNumberValidator)());Pn.Factory.addGetterSetter(wt,"fontStyle",C3);Pn.Factory.addGetterSetter(wt,"align","left");Pn.Factory.addGetterSetter(wt,"letterSpacing",0,(0,v3.getNumberValidator)());Pn.Factory.addGetterSetter(wt,"textBaseline","middle");Pn.Factory.addGetterSetter(wt,"fontVariant",C3);Pn.Factory.addGetterSetter(wt,"text",SE);Pn.Factory.addGetterSetter(wt,"textDecoration",null);Pn.Factory.addGetterSetter(wt,"kerningFunc",null)});var M3=ne(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.Transformer=void 0;var Ke=ct(),Ve=we(),b3=ft(),EE=Et(),IE=J1(),D3=Nc(),kn=Se(),Jr=Ee(),ME=Se(),E3="tr-konva",TE=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${E3}`).join(" "),x3="nodesRect",AE=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],RE={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},OE="ontouchstart"in kn.Konva._global;function NE(t,e,r){if(t==="rotater")return r;e+=Ke.Util.degToRad(RE[t]||0);var n=(Ke.Util.radToDeg(e)%360+360)%360;return Ke.Util._inRange(n,315+22.5,360)||Ke.Util._inRange(n,0,22.5)?"ns-resize":Ke.Util._inRange(n,45-22.5,45+22.5)?"nesw-resize":Ke.Util._inRange(n,90-22.5,90+22.5)?"ew-resize":Ke.Util._inRange(n,135-22.5,135+22.5)?"nwse-resize":Ke.Util._inRange(n,180-22.5,180+22.5)?"ns-resize":Ke.Util._inRange(n,225-22.5,225+22.5)?"nesw-resize":Ke.Util._inRange(n,270-22.5,270+22.5)?"ew-resize":Ke.Util._inRange(n,315-22.5,315+22.5)?"nwse-resize":(Ke.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var ru=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],S3=1e8;function PE(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function I3(t,e,r){let n=r.x+(t.x-r.x)*Math.cos(e)-(t.y-r.y)*Math.sin(e),i=r.y+(t.x-r.x)*Math.sin(e)+(t.y-r.y)*Math.cos(e);return Z(T({},t),{rotation:t.rotation+e,x:n,y:i})}function kE(t,e){let r=PE(t);return I3(t,e,r)}function FE(t,e,r){let n=e;for(let i=0;i<t.length;i++){let o=kn.Konva.getAngle(t[i]),s=Math.abs(o-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<r&&(n=o)}return n}var Te=class extends D3.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(TE,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Ke.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return E3+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();let r=e.filter(i=>i.isAncestorOf(this)?(Ke.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=e=r,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{let o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(s,o),i.on(AE.map(a=>a+`.${this._getEventNamespace()}`).join(" "),o),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(i)}),this._resetTransformCache();var n=!!this.findOne(".top-left");return n&&this.update(),this}_proxyDrag(e){let r;e.on(`dragstart.${this._getEventNamespace()}`,n=>{r=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(n,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,n=>{if(!r)return;let i=e.getAbsolutePosition(),o=i.x-r.x,s=i.y-r.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;let l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+o,y:l.y+s}),a.startDrag(n)}),r=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(x3),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(x3,this.__getNodeRect)}__getNodeShape(e,r=this.rotation(),n){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(n),s=e.getAbsolutePosition(n),a=i.x*o.x-e.offsetX()*o.x,l=i.y*o.y-e.offsetY()*o.y;let c=(kn.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),u={x:s.x+a*Math.cos(c)+l*Math.sin(-c),y:s.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*o.x,height:i.height*o.y,rotation:c};return I3(u,-kn.Konva.getAngle(r),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-S3,y:-S3,width:0,height:0,rotation:0};let r=[];this.nodes().map(c=>{let u=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var d=[{x:u.x,y:u.y},{x:u.x+u.width,y:u.y},{x:u.x+u.width,y:u.y+u.height},{x:u.x,y:u.y+u.height}],f=c.getAbsoluteTransform();d.forEach(function(h){var g=f.point(h);r.push(g)})});let n=new Ke.Transform;n.rotate(-kn.Konva.getAngle(this.rotation()));var i=1/0,o=1/0,s=-1/0,a=-1/0;r.forEach(function(c){var u=n.point(c);i===void 0&&(i=s=u.x,o=a=u.y),i=Math.min(i,u.x),o=Math.min(o,u.y),s=Math.max(s,u.x),a=Math.max(a,u.y)}),n.invert();let l=n.point({x:i,y:o});return{x:l.x,y:l.y,width:s-i,height:a-o,rotation:kn.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ru.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){var r=new IE.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:OE?10:"auto"}),n=this;r.on("mousedown touchstart",function(i){n._handleMouseDown(i)}),r.on("dragstart",i=>{r.stopDrag(),i.cancelBubble=!0}),r.on("dragend",i=>{i.cancelBubble=!0}),r.on("mouseenter",()=>{var i=kn.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),s=NE(e,i,o);r.getStage().content&&(r.getStage().content.style.cursor=s),this._cursorChange=!0}),r.on("mouseout",()=>{r.getStage().content&&(r.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(r)}_createBack(){var e=new EE.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(r,n){var i=n.getParent(),o=i.padding();r.beginPath(),r.rect(-o,-o,n.width()+o*2,n.height()+o*2),r.moveTo(n.width()/2,-o),i.rotateEnabled()&&i.rotateLineVisible()&&r.lineTo(n.width()/2,-i.rotateAnchorOffset()*Ke.Util._sign(n.height())-o),r.fillStrokeShape(n)},hitFunc:(r,n)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();r.beginPath(),r.rect(-i,-i,n.width()+i*2,n.height()+i*2),r.fillStrokeShape(n)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",r=>{r.cancelBubble=!0}),e.on("dragmove",r=>{r.cancelBubble=!0}),e.on("dragend",r=>{r.cancelBubble=!0}),this.on("dragmove",r=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var r=this._getNodeRect(),n=r.width,i=r.height,o=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(n/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var s=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-s.x,y:a.y-s.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){var r,n,i,o=this.findOne("."+this._movingAnchorName),s=o.getStage();s.setPointersPositions(e);let a=s.getPointerPosition(),l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},c=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),o.setAbsolutePosition(l);let u=o.getAbsolutePosition();if(!(c.x===u.x&&c.y===u.y)){if(this._movingAnchorName==="rotater"){var d=this._getNodeRect();r=o.x()-d.width/2,n=-o.y()+d.height/2;let be=Math.atan2(-n,r)+Math.PI/2;d.height<0&&(be-=Math.PI);var f=kn.Konva.getAngle(this.rotation());let Fe=f+be,ht=kn.Konva.getAngle(this.rotationSnapTolerance()),pt=FE(this.rotationSnaps(),Fe,ht)-d.rotation,gt=kE(d,pt);this._fitNodesInto(gt,e);return}var h=this.shiftBehavior(),g;h==="inverted"?g=this.keepRatio()&&!e.shiftKey:h==="none"?g=this.keepRatio():g=this.keepRatio()||e.shiftKey;var M=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(g){var v=M?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(v.x-o.x(),2)+Math.pow(v.y-o.y(),2));var _=this.findOne(".top-left").x()>v.x?-1:1,D=this.findOne(".top-left").y()>v.y?-1:1;r=i*this.cos*_,n=i*this.sin*D,this.findOne(".top-left").x(v.x-r),this.findOne(".top-left").y(v.y-n)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(g){var v=M?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-v.x,2)+Math.pow(v.y-o.y(),2));var _=this.findOne(".top-right").x()<v.x?-1:1,D=this.findOne(".top-right").y()>v.y?-1:1;r=i*this.cos*_,n=i*this.sin*D,this.findOne(".top-right").x(v.x+r),this.findOne(".top-right").y(v.y-n)}var I=o.position();this.findOne(".top-left").y(I.y),this.findOne(".bottom-right").x(I.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(g){var v=M?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(v.x-o.x(),2)+Math.pow(o.y()-v.y,2));var _=v.x<o.x()?-1:1,D=o.y()<v.y?-1:1;r=i*this.cos*_,n=i*this.sin*D,o.x(v.x-r),o.y(v.y+n)}I=o.position(),this.findOne(".top-left").x(I.x),this.findOne(".bottom-right").y(I.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(g){var v=M?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-v.x,2)+Math.pow(o.y()-v.y,2));var _=this.findOne(".bottom-right").x()<v.x?-1:1,D=this.findOne(".bottom-right").y()<v.y?-1:1;r=i*this.cos*_,n=i*this.sin*D,this.findOne(".bottom-right").x(v.x+r),this.findOne(".bottom-right").y(v.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var M=this.centeredScaling()||e.altKey;if(M){var R=this.findOne(".top-left"),V=this.findOne(".bottom-right"),E=R.x(),U=R.y(),O=this.getWidth()-V.x(),z=this.getHeight()-V.y();V.move({x:-E,y:-U}),R.move({x:O,y:z})}var q=this.findOne(".top-left").getAbsolutePosition();r=q.x,n=q.y;var Y=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ye=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:r,y:n,width:Y,height:ye,rotation:kn.Konva.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var r=this.getNode();this._fire("transformend",{evt:e,target:r}),r&&this._nodes.forEach(n=>{n._fire("transformend",{evt:e,target:n})}),this._movingAnchorName=null}}_fitNodesInto(e,r){var n=this._getNodeRect();let i=1;if(Ke.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(Ke.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}var o=new Ke.Transform;if(o.rotate(kn.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){let f=o.point({x:-this.padding()*2,y:0});e.x+=f.x,e.y+=f.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){let f=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){let f=o.point({x:0,y:-this.padding()*2});e.x+=f.x,e.y+=f.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){let f=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){let f=this.boundBoxFunc()(n,e);f?e=f:Ke.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}let s=1e7,a=new Ke.Transform;a.translate(n.x,n.y),a.rotate(n.rotation),a.scale(n.width/s,n.height/s);let l=new Ke.Transform,c=e.width/s,u=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(u))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,u));let d=l.multiply(a.invert());this._nodes.forEach(f=>{var h;let g=f.getParent().getAbsoluteTransform(),v=f.getTransform().copy();v.translate(f.offsetX(),f.offsetY());let _=new Ke.Transform;_.multiply(g.copy().invert()).multiply(d).multiply(g).multiply(v);let D=_.decompose();f.setAttrs(D),this._fire("transform",{evt:r,target:f}),f._fire("transform",{evt:r,target:f}),(h=f.getLayer())===null||h===void 0||h.batchDraw()}),this.rotation(Ke.Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,r){this.findOne(e).setAttrs(r)}update(){var e,r=this._getNodeRect();this.rotation(Ke.Util._getRotation(r.rotation));var n=r.width,i=r.height,o=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize();let c=this.find("._anchor");c.forEach(d=>{d.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+a,visible:s&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:s&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:i/2,offsetX:l/2-a,visible:s&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:i,offsetY:l/2-a,visible:s&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*Ke.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});let u=this.anchorStyleFunc();u&&c.forEach(d=>{u(d)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),D3.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return b3.Node.prototype.toObject.call(this)}clone(e){var r=b3.Node.prototype.clone.call(this,e);return r}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};iu.Transformer=Te;function LE(t){return t instanceof Array||Ke.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){ru.indexOf(e)===-1&&Ke.Util.warn("Unknown anchor name: "+e+". Available names are: "+ru.join(", "))}),t||[]}Te.prototype.className="Transformer";(0,ME._registerNode)(Te);Ve.Factory.addGetterSetter(Te,"enabledAnchors",ru,LE);Ve.Factory.addGetterSetter(Te,"flipEnabled",!0,(0,Jr.getBooleanValidator)());Ve.Factory.addGetterSetter(Te,"resizeEnabled",!0);Ve.Factory.addGetterSetter(Te,"anchorSize",10,(0,Jr.getNumberValidator)());Ve.Factory.addGetterSetter(Te,"rotateEnabled",!0);Ve.Factory.addGetterSetter(Te,"rotateLineVisible",!0);Ve.Factory.addGetterSetter(Te,"rotationSnaps",[]);Ve.Factory.addGetterSetter(Te,"rotateAnchorOffset",50,(0,Jr.getNumberValidator)());Ve.Factory.addGetterSetter(Te,"rotateAnchorCursor","crosshair");Ve.Factory.addGetterSetter(Te,"rotationSnapTolerance",5,(0,Jr.getNumberValidator)());Ve.Factory.addGetterSetter(Te,"borderEnabled",!0);Ve.Factory.addGetterSetter(Te,"anchorStroke","rgb(0, 161, 255)");Ve.Factory.addGetterSetter(Te,"anchorStrokeWidth",1,(0,Jr.getNumberValidator)());Ve.Factory.addGetterSetter(Te,"anchorFill","white");Ve.Factory.addGetterSetter(Te,"anchorCornerRadius",0,(0,Jr.getNumberValidator)());Ve.Factory.addGetterSetter(Te,"borderStroke","rgb(0, 161, 255)");Ve.Factory.addGetterSetter(Te,"borderStrokeWidth",1,(0,Jr.getNumberValidator)());Ve.Factory.addGetterSetter(Te,"borderDash");Ve.Factory.addGetterSetter(Te,"keepRatio",!0);Ve.Factory.addGetterSetter(Te,"shiftBehavior","default");Ve.Factory.addGetterSetter(Te,"centeredScaling",!1);Ve.Factory.addGetterSetter(Te,"ignoreStroke",!1);Ve.Factory.addGetterSetter(Te,"padding",0,(0,Jr.getNumberValidator)());Ve.Factory.addGetterSetter(Te,"node");Ve.Factory.addGetterSetter(Te,"nodes");Ve.Factory.addGetterSetter(Te,"boundBoxFunc");Ve.Factory.addGetterSetter(Te,"anchorDragBoundFunc");Ve.Factory.addGetterSetter(Te,"anchorStyleFunc");Ve.Factory.addGetterSetter(Te,"shouldOverdrawWholeArea",!1);Ve.Factory.addGetterSetter(Te,"useSingleNodeRotation",!0);Ve.Factory.backCompat(Te,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})});var A3=ne(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.Wedge=void 0;var ou=we(),VE=Et(),jE=Se(),T3=Ee(),UE=Se(),Fn=class extends VE.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,jE.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};su.Wedge=Fn;Fn.prototype.className="Wedge";Fn.prototype._centroid=!0;Fn.prototype._attrsAffectingSize=["radius"];(0,UE._registerNode)(Fn);ou.Factory.addGetterSetter(Fn,"radius",0,(0,T3.getNumberValidator)());ou.Factory.addGetterSetter(Fn,"angle",0,(0,T3.getNumberValidator)());ou.Factory.addGetterSetter(Fn,"clockwise",!1);ou.Factory.backCompat(Fn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})});var N3=ne(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.Blur=void 0;var R3=we(),BE=ft(),HE=Ee();function O3(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var $E=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],GE=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function zE(t,e){var r=t.data,n=t.width,i=t.height,o,s,a,l,c,u,d,f,h,g,v,_,D,I,M,R,V,E,U,O,z,q,Y,ye,be=e+e+1,Fe=n-1,ht=i-1,We=e+1,pt=We*(We+1)/2,gt=new O3,Li=null,Le=gt,rt=null,it=null,_n=$E[e],Ln=GE[e];for(a=1;a<be;a++)Le=Le.next=new O3,a===We&&(Li=Le);for(Le.next=gt,d=u=0,s=0;s<i;s++){for(R=V=E=U=f=h=g=v=0,_=We*(O=r[u]),D=We*(z=r[u+1]),I=We*(q=r[u+2]),M=We*(Y=r[u+3]),f+=pt*O,h+=pt*z,g+=pt*q,v+=pt*Y,Le=gt,a=0;a<We;a++)Le.r=O,Le.g=z,Le.b=q,Le.a=Y,Le=Le.next;for(a=1;a<We;a++)l=u+((Fe<a?Fe:a)<<2),f+=(Le.r=O=r[l])*(ye=We-a),h+=(Le.g=z=r[l+1])*ye,g+=(Le.b=q=r[l+2])*ye,v+=(Le.a=Y=r[l+3])*ye,R+=O,V+=z,E+=q,U+=Y,Le=Le.next;for(rt=gt,it=Li,o=0;o<n;o++)r[u+3]=Y=v*_n>>Ln,Y!==0?(Y=255/Y,r[u]=(f*_n>>Ln)*Y,r[u+1]=(h*_n>>Ln)*Y,r[u+2]=(g*_n>>Ln)*Y):r[u]=r[u+1]=r[u+2]=0,f-=_,h-=D,g-=I,v-=M,_-=rt.r,D-=rt.g,I-=rt.b,M-=rt.a,l=d+((l=o+e+1)<Fe?l:Fe)<<2,R+=rt.r=r[l],V+=rt.g=r[l+1],E+=rt.b=r[l+2],U+=rt.a=r[l+3],f+=R,h+=V,g+=E,v+=U,rt=rt.next,_+=O=it.r,D+=z=it.g,I+=q=it.b,M+=Y=it.a,R-=O,V-=z,E-=q,U-=Y,it=it.next,u+=4;d+=n}for(o=0;o<n;o++){for(V=E=U=R=h=g=v=f=0,u=o<<2,_=We*(O=r[u]),D=We*(z=r[u+1]),I=We*(q=r[u+2]),M=We*(Y=r[u+3]),f+=pt*O,h+=pt*z,g+=pt*q,v+=pt*Y,Le=gt,a=0;a<We;a++)Le.r=O,Le.g=z,Le.b=q,Le.a=Y,Le=Le.next;for(c=n,a=1;a<=e;a++)u=c+o<<2,f+=(Le.r=O=r[u])*(ye=We-a),h+=(Le.g=z=r[u+1])*ye,g+=(Le.b=q=r[u+2])*ye,v+=(Le.a=Y=r[u+3])*ye,R+=O,V+=z,E+=q,U+=Y,Le=Le.next,a<ht&&(c+=n);for(u=o,rt=gt,it=Li,s=0;s<i;s++)l=u<<2,r[l+3]=Y=v*_n>>Ln,Y>0?(Y=255/Y,r[l]=(f*_n>>Ln)*Y,r[l+1]=(h*_n>>Ln)*Y,r[l+2]=(g*_n>>Ln)*Y):r[l]=r[l+1]=r[l+2]=0,f-=_,h-=D,g-=I,v-=M,_-=rt.r,D-=rt.g,I-=rt.b,M-=rt.a,l=o+((l=s+We)<ht?l:ht)*n<<2,f+=R+=rt.r=r[l],h+=V+=rt.g=r[l+1],g+=E+=rt.b=r[l+2],v+=U+=rt.a=r[l+3],rt=rt.next,_+=O=it.r,D+=z=it.g,I+=q=it.b,M+=Y=it.a,R-=O,V-=z,E-=q,U-=Y,it=it.next,u+=n}}var qE=function(e){var r=Math.round(this.blurRadius());r>0&&zE(e,r)};au.Blur=qE;R3.Factory.addGetterSetter(BE.Node,"blurRadius",0,(0,HE.getNumberValidator)(),R3.Factory.afterSetFilter)});var k3=ne(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.Brighten=void 0;var P3=we(),WE=ft(),YE=Ee(),KE=function(t){var e=this.brightness()*255,r=t.data,n=r.length,i;for(i=0;i<n;i+=4)r[i]+=e,r[i+1]+=e,r[i+2]+=e};lu.Brighten=KE;P3.Factory.addGetterSetter(WE.Node,"brightness",0,(0,YE.getNumberValidator)(),P3.Factory.afterSetFilter)});var L3=ne(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.Contrast=void 0;var F3=we(),ZE=ft(),XE=Ee(),QE=function(t){var e=Math.pow((this.contrast()+100)/100,2),r=t.data,n=r.length,i=150,o=150,s=150,a;for(a=0;a<n;a+=4)i=r[a],o=r[a+1],s=r[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,s=s<0?0:s>255?255:s,r[a]=i,r[a+1]=o,r[a+2]=s};cu.Contrast=QE;F3.Factory.addGetterSetter(ZE.Node,"contrast",0,(0,XE.getNumberValidator)(),F3.Factory.afterSetFilter)});var j3=ne(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.Emboss=void 0;var ei=we(),uu=ft(),JE=ct(),V3=Ee(),eI=function(t){var e=this.embossStrength()*10,r=this.embossWhiteLevel()*255,n=this.embossDirection(),i=this.embossBlend(),o=0,s=0,a=t.data,l=t.width,c=t.height,u=l*4,d=c;switch(n){case"top-left":o=-1,s=-1;break;case"top":o=-1,s=0;break;case"top-right":o=-1,s=1;break;case"right":o=0,s=1;break;case"bottom-right":o=1,s=1;break;case"bottom":o=1,s=0;break;case"bottom-left":o=1,s=-1;break;case"left":o=0,s=-1;break;default:JE.Util.error("Unknown emboss direction: "+n)}do{var f=(d-1)*u,h=o;d+h<1&&(h=0),d+h>c&&(h=0);var g=(d-1+h)*l*4,v=l;do{var _=f+(v-1)*4,D=s;v+D<1&&(D=0),v+D>l&&(D=0);var I=g+(v-1+D)*4,M=a[_]-a[I],R=a[_+1]-a[I+1],V=a[_+2]-a[I+2],E=M,U=E>0?E:-E,O=R>0?R:-R,z=V>0?V:-V;if(O>U&&(E=R),z>U&&(E=V),E*=e,i){var q=a[_]+E,Y=a[_+1]+E,ye=a[_+2]+E;a[_]=q>255?255:q<0?0:q,a[_+1]=Y>255?255:Y<0?0:Y,a[_+2]=ye>255?255:ye<0?0:ye}else{var be=r-E;be<0?be=0:be>255&&(be=255),a[_]=a[_+1]=a[_+2]=be}}while(--v)}while(--d)};du.Emboss=eI;ei.Factory.addGetterSetter(uu.Node,"embossStrength",.5,(0,V3.getNumberValidator)(),ei.Factory.afterSetFilter);ei.Factory.addGetterSetter(uu.Node,"embossWhiteLevel",.5,(0,V3.getNumberValidator)(),ei.Factory.afterSetFilter);ei.Factory.addGetterSetter(uu.Node,"embossDirection","top-left",null,ei.Factory.afterSetFilter);ei.Factory.addGetterSetter(uu.Node,"embossBlend",!1,null,ei.Factory.afterSetFilter)});var B3=ne(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.Enhance=void 0;var U3=we(),tI=ft(),nI=Ee();function lp(t,e,r,n,i){var o=r-e,s=i-n,a;return o===0?n+s/2:s===0?n:(a=(t-e)/o,a=s*a+n,a)}var rI=function(t){var e=t.data,r=e.length,n=e[0],i=n,o,s=e[1],a=s,l,c=e[2],u=c,d,f,h=this.enhance();if(h!==0){for(f=0;f<r;f+=4)o=e[f+0],o<n?n=o:o>i&&(i=o),l=e[f+1],l<s?s=l:l>a&&(a=l),d=e[f+2],d<c?c=d:d>u&&(u=d);i===n&&(i=255,n=0),a===s&&(a=255,s=0),u===c&&(u=255,c=0);var g,v,_,D,I,M,R,V,E;for(h>0?(v=i+h*(255-i),_=n-h*(n-0),I=a+h*(255-a),M=s-h*(s-0),V=u+h*(255-u),E=c-h*(c-0)):(g=(i+n)*.5,v=i+h*(i-g),_=n+h*(n-g),D=(a+s)*.5,I=a+h*(a-D),M=s+h*(s-D),R=(u+c)*.5,V=u+h*(u-R),E=c+h*(c-R)),f=0;f<r;f+=4)e[f+0]=lp(e[f+0],n,i,_,v),e[f+1]=lp(e[f+1],s,a,M,I),e[f+2]=lp(e[f+2],c,u,E,V)}};fu.Enhance=rI;U3.Factory.addGetterSetter(tI.Node,"enhance",0,(0,nI.getNumberValidator)(),U3.Factory.afterSetFilter)});var H3=ne(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.Grayscale=void 0;var iI=function(t){var e=t.data,r=e.length,n,i;for(n=0;n<r;n+=4)i=.34*e[n]+.5*e[n+1]+.16*e[n+2],e[n]=i,e[n+1]=i,e[n+2]=i};hu.Grayscale=iI});var $3=ne(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.HSL=void 0;var Yo=we(),cp=ft(),up=Ee();Yo.Factory.addGetterSetter(cp.Node,"hue",0,(0,up.getNumberValidator)(),Yo.Factory.afterSetFilter);Yo.Factory.addGetterSetter(cp.Node,"saturation",0,(0,up.getNumberValidator)(),Yo.Factory.afterSetFilter);Yo.Factory.addGetterSetter(cp.Node,"luminance",0,(0,up.getNumberValidator)(),Yo.Factory.afterSetFilter);var oI=function(t){var e=t.data,r=e.length,n=1,i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=this.luminance()*127,a,l=n*i*Math.cos(o*Math.PI/180),c=n*i*Math.sin(o*Math.PI/180),u=.299*n+.701*l+.167*c,d=.587*n-.587*l+.33*c,f=.114*n-.114*l-.497*c,h=.299*n-.299*l-.328*c,g=.587*n+.413*l+.035*c,v=.114*n-.114*l+.293*c,_=.299*n-.3*l+1.25*c,D=.587*n-.586*l-1.05*c,I=.114*n+.886*l-.2*c,M,R,V,E;for(a=0;a<r;a+=4)M=e[a+0],R=e[a+1],V=e[a+2],E=e[a+3],e[a+0]=u*M+d*R+f*V+s,e[a+1]=h*M+g*R+v*V+s,e[a+2]=_*M+D*R+I*V+s,e[a+3]=E};pu.HSL=oI});var G3=ne(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.HSV=void 0;var Ko=we(),dp=ft(),fp=Ee(),sI=function(t){var e=t.data,r=e.length,n=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s,a=n*i*Math.cos(o*Math.PI/180),l=n*i*Math.sin(o*Math.PI/180),c=.299*n+.701*a+.167*l,u=.587*n-.587*a+.33*l,d=.114*n-.114*a-.497*l,f=.299*n-.299*a-.328*l,h=.587*n+.413*a+.035*l,g=.114*n-.114*a+.293*l,v=.299*n-.3*a+1.25*l,_=.587*n-.586*a-1.05*l,D=.114*n+.886*a-.2*l,I,M,R,V;for(s=0;s<r;s+=4)I=e[s+0],M=e[s+1],R=e[s+2],V=e[s+3],e[s+0]=c*I+u*M+d*R,e[s+1]=f*I+h*M+g*R,e[s+2]=v*I+_*M+D*R,e[s+3]=V};gu.HSV=sI;Ko.Factory.addGetterSetter(dp.Node,"hue",0,(0,fp.getNumberValidator)(),Ko.Factory.afterSetFilter);Ko.Factory.addGetterSetter(dp.Node,"saturation",0,(0,fp.getNumberValidator)(),Ko.Factory.afterSetFilter);Ko.Factory.addGetterSetter(dp.Node,"value",0,(0,fp.getNumberValidator)(),Ko.Factory.afterSetFilter)});var z3=ne(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.Invert=void 0;var aI=function(t){var e=t.data,r=e.length,n;for(n=0;n<r;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2]};mu.Invert=aI});var K3=ne(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.Kaleidoscope=void 0;var vu=we(),W3=ft(),q3=ct(),Y3=Ee(),lI=function(t,e,r){var n=t.data,i=e.data,o=t.width,s=t.height,a=r.polarCenterX||o/2,l=r.polarCenterY||s/2,c,u,d,f=0,h=0,g=0,v=0,_,D=Math.sqrt(a*a+l*l);u=o-a,d=s-l,_=Math.sqrt(u*u+d*d),D=_>D?_:D;var I=s,M=o,R,V,E=360/M*Math.PI/180,U,O;for(V=0;V<M;V+=1)for(U=Math.sin(V*E),O=Math.cos(V*E),R=0;R<I;R+=1)u=Math.floor(a+D*R/I*O),d=Math.floor(l+D*R/I*U),c=(d*o+u)*4,f=n[c+0],h=n[c+1],g=n[c+2],v=n[c+3],c=(V+R*o)*4,i[c+0]=f,i[c+1]=h,i[c+2]=g,i[c+3]=v},cI=function(t,e,r){var n=t.data,i=e.data,o=t.width,s=t.height,a=r.polarCenterX||o/2,l=r.polarCenterY||s/2,c,u,d,f,h,g=0,v=0,_=0,D=0,I,M=Math.sqrt(a*a+l*l);u=o-a,d=s-l,I=Math.sqrt(u*u+d*d),M=I>M?I:M;var R=s,V=o,E,U,O=r.polarRotation||0,z,q;for(u=0;u<o;u+=1)for(d=0;d<s;d+=1)f=u-a,h=d-l,E=Math.sqrt(f*f+h*h)*R/M,U=(Math.atan2(h,f)*180/Math.PI+360+O)%360,U=U*V/360,z=Math.floor(U),q=Math.floor(E),c=(q*o+z)*4,g=n[c+0],v=n[c+1],_=n[c+2],D=n[c+3],c=(d*o+u)*4,i[c+0]=g,i[c+1]=v,i[c+2]=_,i[c+3]=D},uI=function(t){var e=t.width,r=t.height,n,i,o,s,a,l,c,u,d,f,h=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),v=Math.floor(e*(g%360)/360);if(!(h<1)){var _=q3.Util.createCanvasElement();_.width=e,_.height=r;var D=_.getContext("2d").getImageData(0,0,e,r);q3.Util.releaseCanvas(_),lI(t,D,{polarCenterX:e/2,polarCenterY:r/2});for(var I=e/Math.pow(2,h);I<=8;)I=I*2,h-=1;I=Math.ceil(I);var M=I,R=0,V=M,E=1;for(v+I>e&&(R=M,V=0,E=-1),i=0;i<r;i+=1)for(n=R;n!==V;n+=E)o=Math.round(n+v)%e,d=(e*i+o)*4,a=D.data[d+0],l=D.data[d+1],c=D.data[d+2],u=D.data[d+3],f=(e*i+n)*4,D.data[f+0]=a,D.data[f+1]=l,D.data[f+2]=c,D.data[f+3]=u;for(i=0;i<r;i+=1)for(M=Math.floor(I),s=0;s<h;s+=1){for(n=0;n<M+1;n+=1)d=(e*i+n)*4,a=D.data[d+0],l=D.data[d+1],c=D.data[d+2],u=D.data[d+3],f=(e*i+M*2-n-1)*4,D.data[f+0]=a,D.data[f+1]=l,D.data[f+2]=c,D.data[f+3]=u;M*=2}cI(D,t,{polarRotation:0})}};Cu.Kaleidoscope=uI;vu.Factory.addGetterSetter(W3.Node,"kaleidoscopePower",2,(0,Y3.getNumberValidator)(),vu.Factory.afterSetFilter);vu.Factory.addGetterSetter(W3.Node,"kaleidoscopeAngle",0,(0,Y3.getNumberValidator)(),vu.Factory.afterSetFilter)});var X3=ne(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.Mask=void 0;var Z3=we(),dI=ft(),fI=Ee();function yu(t,e,r){var n=(r*t.width+e)*4,i=[];return i.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),i}function pa(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function hI(t){for(var e=[0,0,0],r=0;r<t.length;r++)e[0]+=t[r][0],e[1]+=t[r][1],e[2]+=t[r][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function pI(t,e){var r=yu(t,0,0),n=yu(t,t.width-1,0),i=yu(t,0,t.height-1),o=yu(t,t.width-1,t.height-1),s=e||10;if(pa(r,n)<s&&pa(n,o)<s&&pa(o,i)<s&&pa(i,r)<s){for(var a=hI([n,r,o,i]),l=[],c=0;c<t.width*t.height;c++){var u=pa(a,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=u<s?0:255}return l}}function gI(t,e){for(var r=0;r<t.width*t.height;r++)t.data[4*r+3]=e[r]}function mI(t,e,r){for(var n=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),s=[],a=0;a<r;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=a+d-o,g=l+f-o;if(h>=0&&h<r&&g>=0&&g<e){var v=h*e+g,_=n[d*i+f];u+=t[v]*_}}s[c]=u===255*8?255:0}return s}function vI(t,e,r){for(var n=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),s=[],a=0;a<r;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=a+d-o,g=l+f-o;if(h>=0&&h<r&&g>=0&&g<e){var v=h*e+g,_=n[d*i+f];u+=t[v]*_}}s[c]=u>=255*4?255:0}return s}function CI(t,e,r){for(var n=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),s=[],a=0;a<r;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=a+d-o,g=l+f-o;if(h>=0&&h<r&&g>=0&&g<e){var v=h*e+g,_=n[d*i+f];u+=t[v]*_}}s[c]=u}return s}var yI=function(t){var e=this.threshold(),r=pI(t,e);return r&&(r=mI(r,t.width,t.height),r=vI(r,t.width,t.height),r=CI(r,t.width,t.height),gI(t,r)),t};_u.Mask=yI;Z3.Factory.addGetterSetter(dI.Node,"threshold",0,(0,fI.getNumberValidator)(),Z3.Factory.afterSetFilter)});var J3=ne(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.Noise=void 0;var Q3=we(),_I=ft(),wI=Ee(),bI=function(t){var e=this.noise()*255,r=t.data,n=r.length,i=e/2,o;for(o=0;o<n;o+=4)r[o+0]+=i-2*i*Math.random(),r[o+1]+=i-2*i*Math.random(),r[o+2]+=i-2*i*Math.random()};wu.Noise=bI;Q3.Factory.addGetterSetter(_I.Node,"noise",.2,(0,wI.getNumberValidator)(),Q3.Factory.afterSetFilter)});var t6=ne(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.Pixelate=void 0;var e6=we(),DI=ct(),xI=ft(),SI=Ee(),EI=function(t){var e=Math.ceil(this.pixelSize()),r=t.width,n=t.height,i,o,s,a,l,c,u,d=Math.ceil(r/e),f=Math.ceil(n/e),h,g,v,_,D,I,M,R=t.data;if(e<=0){DI.Util.error("pixelSize value can not be <= 0");return}for(D=0;D<d;D+=1)for(I=0;I<f;I+=1){for(a=0,l=0,c=0,u=0,h=D*e,g=h+e,v=I*e,_=v+e,M=0,i=h;i<g;i+=1)if(!(i>=r))for(o=v;o<_;o+=1)o>=n||(s=(r*o+i)*4,a+=R[s+0],l+=R[s+1],c+=R[s+2],u+=R[s+3],M+=1);for(a=a/M,l=l/M,c=c/M,u=u/M,i=h;i<g;i+=1)if(!(i>=r))for(o=v;o<_;o+=1)o>=n||(s=(r*o+i)*4,R[s+0]=a,R[s+1]=l,R[s+2]=c,R[s+3]=u)}};bu.Pixelate=EI;e6.Factory.addGetterSetter(xI.Node,"pixelSize",8,(0,SI.getNumberValidator)(),e6.Factory.afterSetFilter)});var r6=ne(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.Posterize=void 0;var n6=we(),II=ft(),MI=Ee(),TI=function(t){var e=Math.round(this.levels()*254)+1,r=t.data,n=r.length,i=255/e,o;for(o=0;o<n;o+=1)r[o]=Math.floor(r[o]/i)*i};Du.Posterize=TI;n6.Factory.addGetterSetter(II.Node,"levels",.5,(0,MI.getNumberValidator)(),n6.Factory.afterSetFilter)});var i6=ne(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.RGB=void 0;var xu=we(),hp=ft(),AI=Ee(),RI=function(t){var e=t.data,r=e.length,n=this.red(),i=this.green(),o=this.blue(),s,a;for(s=0;s<r;s+=4)a=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255,e[s]=a*n,e[s+1]=a*i,e[s+2]=a*o,e[s+3]=e[s+3]};Su.RGB=RI;xu.Factory.addGetterSetter(hp.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});xu.Factory.addGetterSetter(hp.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});xu.Factory.addGetterSetter(hp.Node,"blue",0,AI.RGBComponent,xu.Factory.afterSetFilter)});var o6=ne(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.RGBA=void 0;var ga=we(),Eu=ft(),OI=Ee(),NI=function(t){var e=t.data,r=e.length,n=this.red(),i=this.green(),o=this.blue(),s=this.alpha(),a,l;for(a=0;a<r;a+=4)l=1-s,e[a]=n*s+e[a]*l,e[a+1]=i*s+e[a+1]*l,e[a+2]=o*s+e[a+2]*l};Iu.RGBA=NI;ga.Factory.addGetterSetter(Eu.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ga.Factory.addGetterSetter(Eu.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ga.Factory.addGetterSetter(Eu.Node,"blue",0,OI.RGBComponent,ga.Factory.afterSetFilter);ga.Factory.addGetterSetter(Eu.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t})});var s6=ne(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.Sepia=void 0;var PI=function(t){var e=t.data,r=e.length,n,i,o,s;for(n=0;n<r;n+=4)i=e[n+0],o=e[n+1],s=e[n+2],e[n+0]=Math.min(255,i*.393+o*.769+s*.189),e[n+1]=Math.min(255,i*.349+o*.686+s*.168),e[n+2]=Math.min(255,i*.272+o*.534+s*.131)};Mu.Sepia=PI});var a6=ne(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.Solarize=void 0;var kI=function(t){var e=t.data,r=t.width,n=t.height,i=r*4,o=n;do{var s=(o-1)*i,a=r;do{var l=s+(a-1)*4,c=e[l],u=e[l+1],d=e[l+2];c>127&&(c=255-c),u>127&&(u=255-u),d>127&&(d=255-d),e[l]=c,e[l+1]=u,e[l+2]=d}while(--a)}while(--o)};Tu.Solarize=kI});var c6=ne(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.Threshold=void 0;var l6=we(),FI=ft(),LI=Ee(),VI=function(t){var e=this.threshold()*255,r=t.data,n=r.length,i;for(i=0;i<n;i+=1)r[i]=r[i]<e?0:255};Au.Threshold=VI;l6.Factory.addGetterSetter(FI.Node,"threshold",.5,(0,LI.getNumberValidator)(),l6.Factory.afterSetFilter)});var f6=ne(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.Konva=void 0;var u6=F5(),jI=V5(),UI=G5(),BI=z5(),HI=W5(),$I=Y5(),d6=X5(),GI=G1(),zI=Hc(),qI=J1(),WI=e3(),YI=i3(),KI=s3(),ZI=a3(),XI=op(),QI=w3(),JI=M3(),eM=A3(),tM=N3(),nM=k3(),rM=L3(),iM=j3(),oM=B3(),sM=H3(),aM=$3(),lM=G3(),cM=z3(),uM=K3(),dM=X3(),fM=J3(),hM=t6(),pM=r6(),gM=i6(),mM=o6(),vM=s6(),CM=a6(),yM=c6();Ru.Konva=u6.Konva.Util._assign(u6.Konva,{Arc:jI.Arc,Arrow:UI.Arrow,Circle:BI.Circle,Ellipse:HI.Ellipse,Image:$I.Image,Label:d6.Label,Tag:d6.Tag,Line:GI.Line,Path:zI.Path,Rect:qI.Rect,RegularPolygon:WI.RegularPolygon,Ring:YI.Ring,Sprite:KI.Sprite,Star:ZI.Star,Text:XI.Text,TextPath:QI.TextPath,Transformer:JI.Transformer,Wedge:eM.Wedge,Filters:{Blur:tM.Blur,Brighten:nM.Brighten,Contrast:rM.Contrast,Emboss:iM.Emboss,Enhance:oM.Enhance,Grayscale:sM.Grayscale,HSL:aM.HSL,HSV:lM.HSV,Invert:cM.Invert,Kaleidoscope:uM.Kaleidoscope,Mask:dM.Mask,Noise:fM.Noise,Pixelate:hM.Pixelate,Posterize:pM.Posterize,RGB:gM.RGB,RGBA:mM.RGBA,Sepia:vM.Sepia,Solarize:CM.Solarize,Threshold:yM.Threshold}})});var pp=ne((h6,p6)=>{"use strict";Object.defineProperty(h6,"__esModule",{value:!0});var _M=f6();p6.exports=_M.Konva});var M6=ne((I6,bp)=>{"use strict";(function(t){if(typeof I6=="object"&&typeof bp<"u")bp.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.localforage=t()}})(function(){var t,e,r;return function n(i,o,s){function a(u,d){if(!o[u]){if(!i[u]){var f=typeof es=="function"&&es;if(!d&&f)return f(u,!0);if(l)return l(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var g=o[u]={exports:{}};i[u][0].call(g.exports,function(v){var _=i[u][1][v];return a(_||v)},g,g.exports,n,i,o,s)}return o[u].exports}for(var l=typeof es=="function"&&es,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(n,i,o){(function(s){"use strict";var a=s.MutationObserver||s.WebKitMutationObserver,l;if(a){var c=0,u=new a(v),d=s.document.createTextNode("");u.observe(d,{characterData:!0}),l=function(){d.data=c=++c%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=v,l=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?l=function(){var D=s.document.createElement("script");D.onreadystatechange=function(){v(),D.onreadystatechange=null,D.parentNode.removeChild(D),D=null},s.document.documentElement.appendChild(D)}:l=function(){setTimeout(v,0)};var h,g=[];function v(){h=!0;for(var D,I,M=g.length;M;){for(I=g,g=[],D=-1;++D<M;)I[D]();M=g.length}h=!1}i.exports=_;function _(D){g.push(D)===1&&!h&&l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,o){"use strict";var s=n(1);function a(){}var l={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];i.exports=f;function f(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,E!==a&&_(this,E)}f.prototype.catch=function(E){return this.then(null,E)},f.prototype.then=function(E,U){if(typeof E!="function"&&this.state===u||typeof U!="function"&&this.state===c)return this;var O=new this.constructor(a);if(this.state!==d){var z=this.state===u?E:U;g(O,z,this.outcome)}else this.queue.push(new h(O,E,U));return O};function h(E,U,O){this.promise=E,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(E){l.resolve(this.promise,E)},h.prototype.otherCallFulfilled=function(E){g(this.promise,this.onFulfilled,E)},h.prototype.callRejected=function(E){l.reject(this.promise,E)},h.prototype.otherCallRejected=function(E){g(this.promise,this.onRejected,E)};function g(E,U,O){s(function(){var z;try{z=U(O)}catch(q){return l.reject(E,q)}z===E?l.reject(E,new TypeError("Cannot resolve promise with itself")):l.resolve(E,z)})}l.resolve=function(E,U){var O=D(v,U);if(O.status==="error")return l.reject(E,O.value);var z=O.value;if(z)_(E,z);else{E.state=u,E.outcome=U;for(var q=-1,Y=E.queue.length;++q<Y;)E.queue[q].callFulfilled(U)}return E},l.reject=function(E,U){E.state=c,E.outcome=U;for(var O=-1,z=E.queue.length;++O<z;)E.queue[O].callRejected(U);return E};function v(E){var U=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof U=="function")return function(){U.apply(E,arguments)}}function _(E,U){var O=!1;function z(be){O||(O=!0,l.reject(E,be))}function q(be){O||(O=!0,l.resolve(E,be))}function Y(){U(q,z)}var ye=D(Y);ye.status==="error"&&z(ye.value)}function D(E,U){var O={};try{O.value=E(U),O.status="success"}catch(z){O.status="error",O.value=z}return O}f.resolve=I;function I(E){return E instanceof this?E:l.resolve(new this(a),E)}f.reject=M;function M(E){var U=new this(a);return l.reject(U,E)}f.all=R;function R(E){var U=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,z=!1;if(!O)return this.resolve([]);for(var q=new Array(O),Y=0,ye=-1,be=new this(a);++ye<O;)Fe(E[ye],ye);return be;function Fe(ht,We){U.resolve(ht).then(pt,function(gt){z||(z=!0,l.reject(be,gt))});function pt(gt){q[We]=gt,++Y===O&&!z&&(z=!0,l.resolve(be,q))}}}f.race=V;function V(E){var U=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,z=!1;if(!O)return this.resolve([]);for(var q=-1,Y=new this(a);++q<O;)ye(E[q]);return Y;function ye(be){U.resolve(be).then(function(Fe){z||(z=!0,l.resolve(Y,Fe))},function(Fe){z||(z=!0,l.reject(Y,Fe))})}}},{1:1}],3:[function(n,i,o){(function(s){"use strict";typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,o){"use strict";var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};function a(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=l();function u(){try{if(!c||!c.open)return!1;var p=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),C=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!p||C)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(p,C){p=p||[],C=C||{};try{return new Blob(p,C)}catch(y){if(y.name!=="TypeError")throw y;for(var m=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,w=new m,x=0;x<p.length;x+=1)w.append(p[x]);return w.getBlob(C.type)}}typeof Promise>"u"&&n(3);var f=Promise;function h(p,C){C&&p.then(function(m){C(null,m)},function(m){C(m)})}function g(p,C,m){typeof C=="function"&&p.then(C),typeof m=="function"&&p.catch(m)}function v(p){return typeof p!="string"&&(console.warn(p+" used as a key, but it is not a string."),p=String(p)),p}function _(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var D="local-forage-detect-blob-support",I=void 0,M={},R=Object.prototype.toString,V="readonly",E="readwrite";function U(p){for(var C=p.length,m=new ArrayBuffer(C),w=new Uint8Array(m),x=0;x<C;x++)w[x]=p.charCodeAt(x);return m}function O(p){return new f(function(C){var m=p.transaction(D,E),w=d([""]);m.objectStore(D).put(w,"key"),m.onabort=function(x){x.preventDefault(),x.stopPropagation(),C(!1)},m.oncomplete=function(){var x=navigator.userAgent.match(/Chrome\/(\d+)/),y=navigator.userAgent.match(/Edge\//);C(y||!x||parseInt(x[1],10)>=43)}}).catch(function(){return!1})}function z(p){return typeof I=="boolean"?f.resolve(I):O(p).then(function(C){return I=C,I})}function q(p){var C=M[p.name],m={};m.promise=new f(function(w,x){m.resolve=w,m.reject=x}),C.deferredOperations.push(m),C.dbReady?C.dbReady=C.dbReady.then(function(){return m.promise}):C.dbReady=m.promise}function Y(p){var C=M[p.name],m=C.deferredOperations.pop();if(m)return m.resolve(),m.promise}function ye(p,C){var m=M[p.name],w=m.deferredOperations.pop();if(w)return w.reject(C),w.promise}function be(p,C){return new f(function(m,w){if(M[p.name]=M[p.name]||_n(),p.db)if(C)q(p),p.db.close();else return m(p.db);var x=[p.name];C&&x.push(p.version);var y=c.open.apply(c,x);C&&(y.onupgradeneeded=function(A){var P=y.result;try{P.createObjectStore(p.storeName),A.oldVersion<=1&&P.createObjectStore(D)}catch(L){if(L.name==="ConstraintError")console.warn('The database "'+p.name+'" has been upgraded from version '+A.oldVersion+" to version "+A.newVersion+', but the storage "'+p.storeName+'" already exists.');else throw L}}),y.onerror=function(A){A.preventDefault(),w(y.error)},y.onsuccess=function(){var A=y.result;A.onversionchange=function(P){P.target.close()},m(A),Y(p)}})}function Fe(p){return be(p,!1)}function ht(p){return be(p,!0)}function We(p,C){if(!p.db)return!0;var m=!p.db.objectStoreNames.contains(p.storeName),w=p.version<p.db.version,x=p.version>p.db.version;if(w&&(p.version!==C&&console.warn('The database "'+p.name+`" can't be downgraded from version `+p.db.version+" to version "+p.version+"."),p.version=p.db.version),x||m){if(m){var y=p.db.version+1;y>p.version&&(p.version=y)}return!0}return!1}function pt(p){return new f(function(C,m){var w=new FileReader;w.onerror=m,w.onloadend=function(x){var y=btoa(x.target.result||"");C({__local_forage_encoded_blob:!0,data:y,type:p.type})},w.readAsBinaryString(p)})}function gt(p){var C=U(atob(p.data));return d([C],{type:p.type})}function Li(p){return p&&p.__local_forage_encoded_blob}function Le(p){var C=this,m=C._initReady().then(function(){var w=M[C._dbInfo.name];if(w&&w.dbReady)return w.dbReady});return g(m,p,p),m}function rt(p){q(p);for(var C=M[p.name],m=C.forages,w=0;w<m.length;w++){var x=m[w];x._dbInfo.db&&(x._dbInfo.db.close(),x._dbInfo.db=null)}return p.db=null,Fe(p).then(function(y){return p.db=y,We(p)?ht(p):y}).then(function(y){p.db=C.db=y;for(var A=0;A<m.length;A++)m[A]._dbInfo.db=y}).catch(function(y){throw ye(p,y),y})}function it(p,C,m,w){w===void 0&&(w=1);try{var x=p.db.transaction(p.storeName,C);m(null,x)}catch(y){if(w>0&&(!p.db||y.name==="InvalidStateError"||y.name==="NotFoundError"))return f.resolve().then(function(){if(!p.db||y.name==="NotFoundError"&&!p.db.objectStoreNames.contains(p.storeName)&&p.version<=p.db.version)return p.db&&(p.version=p.db.version+1),ht(p)}).then(function(){return rt(p).then(function(){it(p,C,m,w-1)})}).catch(m);m(y)}}function _n(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ln(p){var C=this,m={db:null};if(p)for(var w in p)m[w]=p[w];var x=M[m.name];x||(x=_n(),M[m.name]=x),x.forages.push(C),C._initReady||(C._initReady=C.ready,C.ready=Le);var y=[];function A(){return f.resolve()}for(var P=0;P<x.forages.length;P++){var L=x.forages[P];L!==C&&y.push(L._initReady().catch(A))}var j=x.forages.slice(0);return f.all(y).then(function(){return m.db=x.db,Fe(m)}).then(function(H){return m.db=H,We(m,C._defaultConfig.version)?ht(m):H}).then(function(H){m.db=x.db=H,C._dbInfo=m;for(var ee=0;ee<j.length;ee++){var De=j[ee];De!==C&&(De._dbInfo.db=m.db,De._dbInfo.version=m.version)}})}function Q6(p,C){var m=this;p=v(p);var w=new f(function(x,y){m.ready().then(function(){it(m._dbInfo,V,function(A,P){if(A)return y(A);try{var L=P.objectStore(m._dbInfo.storeName),j=L.get(p);j.onsuccess=function(){var H=j.result;H===void 0&&(H=null),Li(H)&&(H=gt(H)),x(H)},j.onerror=function(){y(j.error)}}catch(H){y(H)}})}).catch(y)});return h(w,C),w}function J6(p,C){var m=this,w=new f(function(x,y){m.ready().then(function(){it(m._dbInfo,V,function(A,P){if(A)return y(A);try{var L=P.objectStore(m._dbInfo.storeName),j=L.openCursor(),H=1;j.onsuccess=function(){var ee=j.result;if(ee){var De=ee.value;Li(De)&&(De=gt(De));var je=p(De,ee.key,H++);je!==void 0?x(je):ee.continue()}else x()},j.onerror=function(){y(j.error)}}catch(ee){y(ee)}})}).catch(y)});return h(w,C),w}function e8(p,C,m){var w=this;p=v(p);var x=new f(function(y,A){var P;w.ready().then(function(){return P=w._dbInfo,R.call(C)==="[object Blob]"?z(P.db).then(function(L){return L?C:pt(C)}):C}).then(function(L){it(w._dbInfo,E,function(j,H){if(j)return A(j);try{var ee=H.objectStore(w._dbInfo.storeName);L===null&&(L=void 0);var De=ee.put(L,p);H.oncomplete=function(){L===void 0&&(L=null),y(L)},H.onabort=H.onerror=function(){var je=De.error?De.error:De.transaction.error;A(je)}}catch(je){A(je)}})}).catch(A)});return h(x,m),x}function t8(p,C){var m=this;p=v(p);var w=new f(function(x,y){m.ready().then(function(){it(m._dbInfo,E,function(A,P){if(A)return y(A);try{var L=P.objectStore(m._dbInfo.storeName),j=L.delete(p);P.oncomplete=function(){x()},P.onerror=function(){y(j.error)},P.onabort=function(){var H=j.error?j.error:j.transaction.error;y(H)}}catch(H){y(H)}})}).catch(y)});return h(w,C),w}function n8(p){var C=this,m=new f(function(w,x){C.ready().then(function(){it(C._dbInfo,E,function(y,A){if(y)return x(y);try{var P=A.objectStore(C._dbInfo.storeName),L=P.clear();A.oncomplete=function(){w()},A.onabort=A.onerror=function(){var j=L.error?L.error:L.transaction.error;x(j)}}catch(j){x(j)}})}).catch(x)});return h(m,p),m}function r8(p){var C=this,m=new f(function(w,x){C.ready().then(function(){it(C._dbInfo,V,function(y,A){if(y)return x(y);try{var P=A.objectStore(C._dbInfo.storeName),L=P.count();L.onsuccess=function(){w(L.result)},L.onerror=function(){x(L.error)}}catch(j){x(j)}})}).catch(x)});return h(m,p),m}function i8(p,C){var m=this,w=new f(function(x,y){if(p<0){x(null);return}m.ready().then(function(){it(m._dbInfo,V,function(A,P){if(A)return y(A);try{var L=P.objectStore(m._dbInfo.storeName),j=!1,H=L.openKeyCursor();H.onsuccess=function(){var ee=H.result;if(!ee){x(null);return}p===0||j?x(ee.key):(j=!0,ee.advance(p))},H.onerror=function(){y(H.error)}}catch(ee){y(ee)}})}).catch(y)});return h(w,C),w}function o8(p){var C=this,m=new f(function(w,x){C.ready().then(function(){it(C._dbInfo,V,function(y,A){if(y)return x(y);try{var P=A.objectStore(C._dbInfo.storeName),L=P.openKeyCursor(),j=[];L.onsuccess=function(){var H=L.result;if(!H){w(j);return}j.push(H.key),H.continue()},L.onerror=function(){x(L.error)}}catch(H){x(H)}})}).catch(x)});return h(m,p),m}function s8(p,C){C=_.apply(this,arguments);var m=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||m.name,p.storeName=p.storeName||m.storeName);var w=this,x;if(!p.name)x=f.reject("Invalid arguments");else{var y=p.name===m.name&&w._dbInfo.db,A=y?f.resolve(w._dbInfo.db):Fe(p).then(function(P){var L=M[p.name],j=L.forages;L.db=P;for(var H=0;H<j.length;H++)j[H]._dbInfo.db=P;return P});p.storeName?x=A.then(function(P){if(P.objectStoreNames.contains(p.storeName)){var L=P.version+1;q(p);var j=M[p.name],H=j.forages;P.close();for(var ee=0;ee<H.length;ee++){var De=H[ee];De._dbInfo.db=null,De._dbInfo.version=L}var je=new f(function(Ge,bt){var mt=c.open(p.name,L);mt.onerror=function(rn){var Jo=mt.result;Jo.close(),bt(rn)},mt.onupgradeneeded=function(){var rn=mt.result;rn.deleteObjectStore(p.storeName)},mt.onsuccess=function(){var rn=mt.result;rn.close(),Ge(rn)}});return je.then(function(Ge){j.db=Ge;for(var bt=0;bt<H.length;bt++){var mt=H[bt];mt._dbInfo.db=Ge,Y(mt._dbInfo)}}).catch(function(Ge){throw(ye(p,Ge)||f.resolve()).catch(function(){}),Ge})}}):x=A.then(function(P){q(p);var L=M[p.name],j=L.forages;P.close();for(var H=0;H<j.length;H++){var ee=j[H];ee._dbInfo.db=null}var De=new f(function(je,Ge){var bt=c.deleteDatabase(p.name);bt.onerror=function(){var mt=bt.result;mt&&mt.close(),Ge(bt.error)},bt.onblocked=function(){console.warn('dropInstance blocked for database "'+p.name+'" until all open connections are closed')},bt.onsuccess=function(){var mt=bt.result;mt&&mt.close(),je(mt)}});return De.then(function(je){L.db=je;for(var Ge=0;Ge<j.length;Ge++){var bt=j[Ge];Y(bt._dbInfo)}}).catch(function(je){throw(ye(p,je)||f.resolve()).catch(function(){}),je})})}return h(x,C),x}var a8={_driver:"asyncStorage",_initStorage:Ln,_support:u(),iterate:J6,getItem:Q6,setItem:e8,removeItem:t8,clear:n8,length:r8,key:i8,keys:o8,dropInstance:s8};function l8(){return typeof openDatabase=="function"}var Rr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c8="~~local_forage_type~",Dp=/^~~local_forage_type~([^~]+)~/,va="__lfsc__:",ku=va.length,Fu="arbf",Lu="blob",xp="si08",Sp="ui08",Ep="uic8",Ip="si16",Mp="si32",Tp="ur16",Ap="ui32",Rp="fl32",Op="fl64",Np=ku+Fu.length,Pp=Object.prototype.toString;function kp(p){var C=p.length*.75,m=p.length,w,x=0,y,A,P,L;p[p.length-1]==="="&&(C--,p[p.length-2]==="="&&C--);var j=new ArrayBuffer(C),H=new Uint8Array(j);for(w=0;w<m;w+=4)y=Rr.indexOf(p[w]),A=Rr.indexOf(p[w+1]),P=Rr.indexOf(p[w+2]),L=Rr.indexOf(p[w+3]),H[x++]=y<<2|A>>4,H[x++]=(A&15)<<4|P>>2,H[x++]=(P&3)<<6|L&63;return j}function Vu(p){var C=new Uint8Array(p),m="",w;for(w=0;w<C.length;w+=3)m+=Rr[C[w]>>2],m+=Rr[(C[w]&3)<<4|C[w+1]>>4],m+=Rr[(C[w+1]&15)<<2|C[w+2]>>6],m+=Rr[C[w+2]&63];return C.length%3===2?m=m.substring(0,m.length-1)+"=":C.length%3===1&&(m=m.substring(0,m.length-2)+"=="),m}function u8(p,C){var m="";if(p&&(m=Pp.call(p)),p&&(m==="[object ArrayBuffer]"||p.buffer&&Pp.call(p.buffer)==="[object ArrayBuffer]")){var w,x=va;p instanceof ArrayBuffer?(w=p,x+=Fu):(w=p.buffer,m==="[object Int8Array]"?x+=xp:m==="[object Uint8Array]"?x+=Sp:m==="[object Uint8ClampedArray]"?x+=Ep:m==="[object Int16Array]"?x+=Ip:m==="[object Uint16Array]"?x+=Tp:m==="[object Int32Array]"?x+=Mp:m==="[object Uint32Array]"?x+=Ap:m==="[object Float32Array]"?x+=Rp:m==="[object Float64Array]"?x+=Op:C(new Error("Failed to get type for BinaryArray"))),C(x+Vu(w))}else if(m==="[object Blob]"){var y=new FileReader;y.onload=function(){var A=c8+p.type+"~"+Vu(this.result);C(va+Lu+A)},y.readAsArrayBuffer(p)}else try{C(JSON.stringify(p))}catch(A){console.error("Couldn't convert value into a JSON string: ",p),C(null,A)}}function d8(p){if(p.substring(0,ku)!==va)return JSON.parse(p);var C=p.substring(Np),m=p.substring(ku,Np),w;if(m===Lu&&Dp.test(C)){var x=C.match(Dp);w=x[1],C=C.substring(x[0].length)}var y=kp(C);switch(m){case Fu:return y;case Lu:return d([y],{type:w});case xp:return new Int8Array(y);case Sp:return new Uint8Array(y);case Ep:return new Uint8ClampedArray(y);case Ip:return new Int16Array(y);case Tp:return new Uint16Array(y);case Mp:return new Int32Array(y);case Ap:return new Uint32Array(y);case Rp:return new Float32Array(y);case Op:return new Float64Array(y);default:throw new Error("Unkown type: "+m)}}var ju={serialize:u8,deserialize:d8,stringToBuffer:kp,bufferToString:Vu};function Fp(p,C,m,w){p.executeSql("CREATE TABLE IF NOT EXISTS "+C.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],m,w)}function f8(p){var C=this,m={db:null};if(p)for(var w in p)m[w]=typeof p[w]!="string"?p[w].toString():p[w];var x=new f(function(y,A){try{m.db=openDatabase(m.name,String(m.version),m.description,m.size)}catch(P){return A(P)}m.db.transaction(function(P){Fp(P,m,function(){C._dbInfo=m,y()},function(L,j){A(j)})},A)});return m.serializer=ju,x}function Or(p,C,m,w,x,y){p.executeSql(m,w,x,function(A,P){P.code===P.SYNTAX_ERR?A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[C.storeName],function(L,j){j.rows.length?y(L,P):Fp(L,C,function(){L.executeSql(m,w,x,y)},y)},y):y(A,P)},y)}function h8(p,C){var m=this;p=v(p);var w=new f(function(x,y){m.ready().then(function(){var A=m._dbInfo;A.db.transaction(function(P){Or(P,A,"SELECT * FROM "+A.storeName+" WHERE key = ? LIMIT 1",[p],function(L,j){var H=j.rows.length?j.rows.item(0).value:null;H&&(H=A.serializer.deserialize(H)),x(H)},function(L,j){y(j)})})}).catch(y)});return h(w,C),w}function p8(p,C){var m=this,w=new f(function(x,y){m.ready().then(function(){var A=m._dbInfo;A.db.transaction(function(P){Or(P,A,"SELECT * FROM "+A.storeName,[],function(L,j){for(var H=j.rows,ee=H.length,De=0;De<ee;De++){var je=H.item(De),Ge=je.value;if(Ge&&(Ge=A.serializer.deserialize(Ge)),Ge=p(Ge,je.key,De+1),Ge!==void 0){x(Ge);return}}x()},function(L,j){y(j)})})}).catch(y)});return h(w,C),w}function Lp(p,C,m,w){var x=this;p=v(p);var y=new f(function(A,P){x.ready().then(function(){C===void 0&&(C=null);var L=C,j=x._dbInfo;j.serializer.serialize(C,function(H,ee){ee?P(ee):j.db.transaction(function(De){Or(De,j,"INSERT OR REPLACE INTO "+j.storeName+" (key, value) VALUES (?, ?)",[p,H],function(){A(L)},function(je,Ge){P(Ge)})},function(De){if(De.code===De.QUOTA_ERR){if(w>0){A(Lp.apply(x,[p,L,m,w-1]));return}P(De)}})})}).catch(P)});return h(y,m),y}function g8(p,C,m){return Lp.apply(this,[p,C,m,1])}function m8(p,C){var m=this;p=v(p);var w=new f(function(x,y){m.ready().then(function(){var A=m._dbInfo;A.db.transaction(function(P){Or(P,A,"DELETE FROM "+A.storeName+" WHERE key = ?",[p],function(){x()},function(L,j){y(j)})})}).catch(y)});return h(w,C),w}function v8(p){var C=this,m=new f(function(w,x){C.ready().then(function(){var y=C._dbInfo;y.db.transaction(function(A){Or(A,y,"DELETE FROM "+y.storeName,[],function(){w()},function(P,L){x(L)})})}).catch(x)});return h(m,p),m}function C8(p){var C=this,m=new f(function(w,x){C.ready().then(function(){var y=C._dbInfo;y.db.transaction(function(A){Or(A,y,"SELECT COUNT(key) as c FROM "+y.storeName,[],function(P,L){var j=L.rows.item(0).c;w(j)},function(P,L){x(L)})})}).catch(x)});return h(m,p),m}function y8(p,C){var m=this,w=new f(function(x,y){m.ready().then(function(){var A=m._dbInfo;A.db.transaction(function(P){Or(P,A,"SELECT key FROM "+A.storeName+" WHERE id = ? LIMIT 1",[p+1],function(L,j){var H=j.rows.length?j.rows.item(0).key:null;x(H)},function(L,j){y(j)})})}).catch(y)});return h(w,C),w}function _8(p){var C=this,m=new f(function(w,x){C.ready().then(function(){var y=C._dbInfo;y.db.transaction(function(A){Or(A,y,"SELECT key FROM "+y.storeName,[],function(P,L){for(var j=[],H=0;H<L.rows.length;H++)j.push(L.rows.item(H).key);w(j)},function(P,L){x(L)})})}).catch(x)});return h(m,p),m}function w8(p){return new f(function(C,m){p.transaction(function(w){w.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(x,y){for(var A=[],P=0;P<y.rows.length;P++)A.push(y.rows.item(P).name);C({db:p,storeNames:A})},function(x,y){m(y)})},function(w){m(w)})})}function b8(p,C){C=_.apply(this,arguments);var m=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||m.name,p.storeName=p.storeName||m.storeName);var w=this,x;return p.name?x=new f(function(y){var A;p.name===m.name?A=w._dbInfo.db:A=openDatabase(p.name,"","",0),p.storeName?y({db:A,storeNames:[p.storeName]}):y(w8(A))}).then(function(y){return new f(function(A,P){y.db.transaction(function(L){function j(je){return new f(function(Ge,bt){L.executeSql("DROP TABLE IF EXISTS "+je,[],function(){Ge()},function(mt,rn){bt(rn)})})}for(var H=[],ee=0,De=y.storeNames.length;ee<De;ee++)H.push(j(y.storeNames[ee]));f.all(H).then(function(){A()}).catch(function(je){P(je)})},function(L){P(L)})})}):x=f.reject("Invalid arguments"),h(x,C),x}var D8={_driver:"webSQLStorage",_initStorage:f8,_support:l8(),iterate:p8,getItem:h8,setItem:g8,removeItem:m8,clear:v8,length:C8,key:y8,keys:_8,dropInstance:b8};function x8(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Vp(p,C){var m=p.name+"/";return p.storeName!==C.storeName&&(m+=p.storeName+"/"),m}function S8(){var p="_localforage_support_test";try{return localStorage.setItem(p,!0),localStorage.removeItem(p),!1}catch{return!0}}function E8(){return!S8()||localStorage.length>0}function I8(p){var C=this,m={};if(p)for(var w in p)m[w]=p[w];return m.keyPrefix=Vp(p,C._defaultConfig),E8()?(C._dbInfo=m,m.serializer=ju,f.resolve()):f.reject()}function M8(p){var C=this,m=C.ready().then(function(){for(var w=C._dbInfo.keyPrefix,x=localStorage.length-1;x>=0;x--){var y=localStorage.key(x);y.indexOf(w)===0&&localStorage.removeItem(y)}});return h(m,p),m}function T8(p,C){var m=this;p=v(p);var w=m.ready().then(function(){var x=m._dbInfo,y=localStorage.getItem(x.keyPrefix+p);return y&&(y=x.serializer.deserialize(y)),y});return h(w,C),w}function A8(p,C){var m=this,w=m.ready().then(function(){for(var x=m._dbInfo,y=x.keyPrefix,A=y.length,P=localStorage.length,L=1,j=0;j<P;j++){var H=localStorage.key(j);if(H.indexOf(y)===0){var ee=localStorage.getItem(H);if(ee&&(ee=x.serializer.deserialize(ee)),ee=p(ee,H.substring(A),L++),ee!==void 0)return ee}}});return h(w,C),w}function R8(p,C){var m=this,w=m.ready().then(function(){var x=m._dbInfo,y;try{y=localStorage.key(p)}catch{y=null}return y&&(y=y.substring(x.keyPrefix.length)),y});return h(w,C),w}function O8(p){var C=this,m=C.ready().then(function(){for(var w=C._dbInfo,x=localStorage.length,y=[],A=0;A<x;A++){var P=localStorage.key(A);P.indexOf(w.keyPrefix)===0&&y.push(P.substring(w.keyPrefix.length))}return y});return h(m,p),m}function N8(p){var C=this,m=C.keys().then(function(w){return w.length});return h(m,p),m}function P8(p,C){var m=this;p=v(p);var w=m.ready().then(function(){var x=m._dbInfo;localStorage.removeItem(x.keyPrefix+p)});return h(w,C),w}function k8(p,C,m){var w=this;p=v(p);var x=w.ready().then(function(){C===void 0&&(C=null);var y=C;return new f(function(A,P){var L=w._dbInfo;L.serializer.serialize(C,function(j,H){if(H)P(H);else try{localStorage.setItem(L.keyPrefix+p,j),A(y)}catch(ee){(ee.name==="QuotaExceededError"||ee.name==="NS_ERROR_DOM_QUOTA_REACHED")&&P(ee),P(ee)}})})});return h(x,m),x}function F8(p,C){if(C=_.apply(this,arguments),p=typeof p!="function"&&p||{},!p.name){var m=this.config();p.name=p.name||m.name,p.storeName=p.storeName||m.storeName}var w=this,x;return p.name?x=new f(function(y){p.storeName?y(Vp(p,w._defaultConfig)):y(p.name+"/")}).then(function(y){for(var A=localStorage.length-1;A>=0;A--){var P=localStorage.key(A);P.indexOf(y)===0&&localStorage.removeItem(P)}}):x=f.reject("Invalid arguments"),h(x,C),x}var L8={_driver:"localStorageWrapper",_initStorage:I8,_support:x8(),iterate:A8,getItem:T8,setItem:k8,removeItem:P8,clear:M8,length:N8,key:R8,keys:O8,dropInstance:F8},V8=function(C,m){return C===m||typeof C=="number"&&typeof m=="number"&&isNaN(C)&&isNaN(m)},j8=function(C,m){for(var w=C.length,x=0;x<w;){if(V8(C[x],m))return!0;x++}return!1},jp=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},Qo={},Up={},Vi={INDEXEDDB:a8,WEBSQL:D8,LOCALSTORAGE:L8},U8=[Vi.INDEXEDDB._driver,Vi.WEBSQL._driver,Vi.LOCALSTORAGE._driver],Ca=["dropInstance"],Uu=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ca),B8={description:"",driver:U8.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function H8(p,C){p[C]=function(){var m=arguments;return p.ready().then(function(){return p[C].apply(p,m)})}}function Bu(){for(var p=1;p<arguments.length;p++){var C=arguments[p];if(C)for(var m in C)C.hasOwnProperty(m)&&(jp(C[m])?arguments[0][m]=C[m].slice():arguments[0][m]=C[m])}return arguments[0]}var $8=function(){function p(C){a(this,p);for(var m in Vi)if(Vi.hasOwnProperty(m)){var w=Vi[m],x=w._driver;this[m]=x,Qo[x]||this.defineDriver(w)}this._defaultConfig=Bu({},B8),this._config=Bu({},this._defaultConfig,C),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return p.prototype.config=function(m){if((typeof m>"u"?"undefined":s(m))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var w in m){if(w==="storeName"&&(m[w]=m[w].replace(/\W/g,"_")),w==="version"&&typeof m[w]!="number")return new Error("Database version must be a number.");this._config[w]=m[w]}return"driver"in m&&m.driver?this.setDriver(this._config.driver):!0}else return typeof m=="string"?this._config[m]:this._config},p.prototype.defineDriver=function(m,w,x){var y=new f(function(A,P){try{var L=m._driver,j=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!m._driver){P(j);return}for(var H=Uu.concat("_initStorage"),ee=0,De=H.length;ee<De;ee++){var je=H[ee],Ge=!j8(Ca,je);if((Ge||m[je])&&typeof m[je]!="function"){P(j);return}}var bt=function(){for(var Jo=function(q8){return function(){var W8=new Error("Method "+q8+" is not implemented by the current driver"),Bp=f.reject(W8);return h(Bp,arguments[arguments.length-1]),Bp}},Hu=0,z8=Ca.length;Hu<z8;Hu++){var $u=Ca[Hu];m[$u]||(m[$u]=Jo($u))}};bt();var mt=function(Jo){Qo[L]&&console.info("Redefining LocalForage driver: "+L),Qo[L]=m,Up[L]=Jo,A()};"_support"in m?m._support&&typeof m._support=="function"?m._support().then(mt,P):mt(!!m._support):mt(!0)}catch(rn){P(rn)}});return g(y,w,x),y},p.prototype.driver=function(){return this._driver||null},p.prototype.getDriver=function(m,w,x){var y=Qo[m]?f.resolve(Qo[m]):f.reject(new Error("Driver not found."));return g(y,w,x),y},p.prototype.getSerializer=function(m){var w=f.resolve(ju);return g(w,m),w},p.prototype.ready=function(m){var w=this,x=w._driverSet.then(function(){return w._ready===null&&(w._ready=w._initDriver()),w._ready});return g(x,m,m),x},p.prototype.setDriver=function(m,w,x){var y=this;jp(m)||(m=[m]);var A=this._getSupportedDrivers(m);function P(){y._config.driver=y.driver()}function L(ee){return y._extend(ee),P(),y._ready=y._initStorage(y._config),y._ready}function j(ee){return function(){var De=0;function je(){for(;De<ee.length;){var Ge=ee[De];return De++,y._dbInfo=null,y._ready=null,y.getDriver(Ge).then(L).catch(je)}P();var bt=new Error("No available storage method found.");return y._driverSet=f.reject(bt),y._driverSet}return je()}}var H=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=H.then(function(){var ee=A[0];return y._dbInfo=null,y._ready=null,y.getDriver(ee).then(function(De){y._driver=De._driver,P(),y._wrapLibraryMethodsWithReady(),y._initDriver=j(A)})}).catch(function(){P();var ee=new Error("No available storage method found.");return y._driverSet=f.reject(ee),y._driverSet}),g(this._driverSet,w,x),this._driverSet},p.prototype.supports=function(m){return!!Up[m]},p.prototype._extend=function(m){Bu(this,m)},p.prototype._getSupportedDrivers=function(m){for(var w=[],x=0,y=m.length;x<y;x++){var A=m[x];this.supports(A)&&w.push(A)}return w},p.prototype._wrapLibraryMethodsWithReady=function(){for(var m=0,w=Uu.length;m<w;m++)H8(this,Uu[m])},p.prototype.createInstance=function(m){return new p(m)},p}(),G8=new $8;i.exports=G8},{3:3}]},{},[4])(4)})});var Gp=null;var Yu=1,zp=Symbol("SIGNAL");function Bt(t){let e=Gp;return Gp=t,e}var qp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function t9(t){if(!(Xu(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Yu)){if(!t.producerMustRecompute(t)&&!Ku(t)){t.dirty=!1,t.lastCleanEpoch=Yu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Yu}}function Wp(t){return t&&(t.nextProducerIndex=0),Bt(t)}function Yp(t,e){if(Bt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Xu(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)Zu(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ku(t){_a(t);for(let e=0;e<t.producerNode.length;e++){let r=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==r.version||(t9(r),n!==r.version))return!0}return!1}function Kp(t){if(_a(t),Xu(t))for(let e=0;e<t.producerNode.length;e++)Zu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Zu(t,e){if(n9(t),_a(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)Zu(t.producerNode[n],t.producerIndexOfThis[n]);let r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_a(i),i.producerIndexOfThis[n]=e}}function Xu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _a(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function n9(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function r9(){throw new Error}var i9=r9;function Zp(t){i9=t}function he(t){return typeof t=="function"}function ji(t){let r=t(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var wa=ji(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function ti(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var vt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let o of r)o.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(he(n))try{n()}catch(o){e=o instanceof wa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Xp(o)}catch(s){e=e??[],s instanceof wa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wa(e)}}add(e){var r;if(e&&e!==this)if(this.closed)Xp(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&ti(r,e)}remove(e){let{_finalizers:r}=this;r&&ti(r,e),e instanceof t&&e._removeParent(this)}};vt.EMPTY=(()=>{let t=new vt;return t.closed=!0,t})();var Qu=vt.EMPTY;function ba(t){return t instanceof vt||t&&"closed"in t&&he(t.remove)&&he(t.add)&&he(t.unsubscribe)}function Xp(t){he(t)?t():t.unsubscribe()}var wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ui={setTimeout(t,e,...r){let{delegate:n}=Ui;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=Ui;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Da(t){Ui.setTimeout(()=>{let{onUnhandledError:e}=wn;if(e)e(t);else throw t})}function ts(){}var Qp=Ju("C",void 0,void 0);function Jp(t){return Ju("E",void 0,t)}function e0(t){return Ju("N",t,void 0)}function Ju(t,e,r){return{kind:t,value:e,error:r}}var ni=null;function Bi(t){if(wn.useDeprecatedSynchronousErrorHandling){let e=!ni;if(e&&(ni={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:n}=ni;if(ni=null,r)throw n}}else t()}function t0(t){wn.useDeprecatedSynchronousErrorHandling&&ni&&(ni.errorThrown=!0,ni.error=t)}var ri=class extends vt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ba(e)&&e.add(this)):this.destination=a9}static create(e,r,n){return new ir(e,r,n)}next(e){this.isStopped?td(e0(e),this):this._next(e)}error(e){this.isStopped?td(Jp(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?td(Qp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},o9=Function.prototype.bind;function ed(t,e){return o9.call(t,e)}var nd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){xa(n)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){xa(n)}else xa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){xa(r)}}},ir=class extends ri{constructor(e,r,n){super();let i;if(he(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&wn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ed(e.next,o),error:e.error&&ed(e.error,o),complete:e.complete&&ed(e.complete,o)}):i=e}this.destination=new nd(i)}};function xa(t){wn.useDeprecatedSynchronousErrorHandling?t0(t):Da(t)}function s9(t){throw t}function td(t,e){let{onStoppedNotification:r}=wn;r&&Ui.setTimeout(()=>r(t,e))}var a9={closed:!0,next:ts,error:s9,complete:ts};var Hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ht(t){return t}function or(...t){return rd(t)}function rd(t){return t.length===0?Ht:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}var ke=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){let o=c9(r)?r:new ir(r,n,i);return Bi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=n0(n),new n((i,o)=>{let s=new ir({next:a=>{try{r(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[Hi](){return this}pipe(...r){return rd(r)(this)}toPromise(r){return r=n0(r),new r((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function n0(t){var e;return(e=t??wn.Promise)!==null&&e!==void 0?e:Promise}function l9(t){return t&&he(t.next)&&he(t.error)&&he(t.complete)}function c9(t){return t&&t instanceof ri||l9(t)&&ba(t)}function id(t){return he(t?.lift)}function pe(t){return e=>{if(id(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,r,n,i){return new od(t,e,r,n,i)}var od=class extends ri{constructor(e,r,n,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $i(){return pe((t,e)=>{let r=null;t._refCount++;let n=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){r=null;return}let i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var Gi=class extends ke{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,id(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vt;let r=this.getSubject();e.add(this.source.subscribe(ge(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vt.EMPTY)}return e}refCount(){return $i()(this)}};var r0=ji(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class t extends ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new Sa(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new r0}next(r){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:o}=this;return n||i?Qu:(this.currentObservers=null,o.push(r),new vt(()=>{this.currentObservers=null,ti(o,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){let r=new ke;return r.source=this,r}}return t.create=(e,r)=>new Sa(e,r),t})(),Sa=class extends Ne{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,e)}error(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:Qu}};var nt=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var ns={now(){return(ns.delegate||Date).now()},delegate:void 0};var ii=class extends Ne{constructor(e=1/0,r=1/0,n=ns){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){let{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;r||(n.push(e),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=n?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){let{_bufferSize:e,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=r.now(),a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}};var Ea=class extends vt{constructor(e,r){super()}schedule(e,r=0){return this}};var rs={setInterval(t,e,...r){let{delegate:n}=rs;return n?.setInterval?n.setInterval(t,e,...r):setInterval(t,e,...r)},clearInterval(t){let{delegate:e}=rs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ia=class extends Ea{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,r),this}requestAsyncId(e,r,n=0){return rs.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return r;r!=null&&rs.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,r);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let n=!1,i;try{this.work(e)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,ti(n,this),e!=null&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}};var zi=class t{constructor(e,r=t.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}};zi.now=ns.now;var Ma=class extends zi{constructor(e,r=zi.now){super(e,r),this.actions=[],this._active=!1}flush(e){let{actions:r}=this;if(this._active){r.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}};var oi=new Ma(Ia),i0=oi;var on=new ke(t=>t.complete());function Ta(t){return t&&he(t.schedule)}function o0(t){return t[t.length-1]}function s0(t){return he(o0(t))?t.pop():void 0}function Nr(t){return Ta(o0(t))?t.pop():void 0}function l0(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function a0(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(t){return this instanceof si?(this.v=t,this):new si(t)}function c0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){n[f]&&(i[f]=function(h){return new Promise(function(g,v){o.push([f,h,g,v])>1||a(f,h)})})}function a(f,h){try{l(n[f](h))}catch(g){d(o[0][3],g)}}function l(f){f.value instanceof si?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function u0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof a0=="function"?a0(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Aa=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ra(t){return he(t?.then)}function Oa(t){return he(t[Hi])}function Na(t){return Symbol.asyncIterator&&he(t?.[Symbol.asyncIterator])}function Pa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function u9(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ka=u9();function Fa(t){return he(t?.[ka])}function La(t){return c0(this,arguments,function*(){let r=t.getReader();try{for(;;){let{value:n,done:i}=yield si(r.read());if(i)return yield si(void 0);yield yield si(n)}}finally{r.releaseLock()}})}function Va(t){return he(t?.getReader)}function lt(t){if(t instanceof ke)return t;if(t!=null){if(Oa(t))return d9(t);if(Aa(t))return f9(t);if(Ra(t))return h9(t);if(Na(t))return d0(t);if(Fa(t))return p9(t);if(Va(t))return g9(t)}throw Pa(t)}function d9(t){return new ke(e=>{let r=t[Hi]();if(he(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function f9(t){return new ke(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function h9(t){return new ke(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,Da)})}function p9(t){return new ke(e=>{for(let r of t)if(e.next(r),e.closed)return;e.complete()})}function d0(t){return new ke(e=>{m9(t,e).catch(r=>e.error(r))})}function g9(t){return d0(La(t))}function m9(t,e){var r,n,i,o;return l0(this,void 0,void 0,function*(){try{for(r=u0(t);n=yield r.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}e.complete()})}function zt(t,e,r,n=0,i=!1){let o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function ja(t,e=0){return pe((r,n)=>{r.subscribe(ge(n,i=>zt(n,t,()=>n.next(i),e),()=>zt(n,t,()=>n.complete(),e),i=>zt(n,t,()=>n.error(i),e)))})}function Ua(t,e=0){return pe((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function f0(t,e){return lt(t).pipe(Ua(e),ja(e))}function h0(t,e){return lt(t).pipe(Ua(e),ja(e))}function p0(t,e){return new ke(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function g0(t,e){return new ke(r=>{let n;return zt(r,e,()=>{n=t[ka](),zt(r,e,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){r.error(s);return}o?r.complete():r.next(i)},0,!0)}),()=>he(n?.return)&&n.return()})}function Ba(t,e){if(!t)throw new Error("Iterable cannot be null");return new ke(r=>{zt(r,e,()=>{let n=t[Symbol.asyncIterator]();zt(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function m0(t,e){return Ba(La(t),e)}function v0(t,e){if(t!=null){if(Oa(t))return f0(t,e);if(Aa(t))return p0(t,e);if(Ra(t))return h0(t,e);if(Na(t))return Ba(t,e);if(Fa(t))return g0(t,e);if(Va(t))return m0(t,e)}throw Pa(t)}function Ct(t,e){return e?v0(t,e):lt(t)}function se(...t){let e=Nr(t);return Ct(t,e)}function qi(t,e){let r=he(t)?t:()=>t,n=i=>i.error(r());return new ke(e?i=>e.schedule(n,0,i):n)}function Ha(t){return!!t&&(t instanceof ke||he(t.lift)&&he(t.subscribe))}var sr=ji(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function C0(t){return t instanceof Date&&!isNaN(t)}function ie(t,e){return pe((r,n)=>{let i=0;r.subscribe(ge(n,o=>{n.next(t.call(e,o,i++))}))})}var{isArray:v9}=Array;function C9(t,e){return v9(e)?t(...e):t(e)}function y0(t){return ie(e=>C9(t,e))}var{isArray:y9}=Array,{getPrototypeOf:_9,prototype:w9,keys:b9}=Object;function _0(t){if(t.length===1){let e=t[0];if(y9(e))return{args:e,keys:null};if(D9(e)){let r=b9(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}function D9(t){return t&&typeof t=="object"&&_9(t)===w9}function w0(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function $a(...t){let e=Nr(t),r=s0(t),{args:n,keys:i}=_0(t);if(n.length===0)return Ct([],e);let o=new ke(x9(n,e,i?s=>w0(i,s):Ht));return r?o.pipe(y0(r)):o}function x9(t,e,r=Ht){return n=>{b0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)b0(e,()=>{let c=Ct(t[l],e),u=!1;c.subscribe(ge(n,d=>{o[l]=d,u||(u=!0,a--),a||n.next(r(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function b0(t,e,r){t?zt(r,t,e):e()}function D0(t,e,r,n,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=v=>c<n?g(v):l.push(v),g=v=>{o&&e.next(v),c++;let _=!1;lt(r(v,u++)).subscribe(ge(e,D=>{i?.(D),o?h(D):e.next(D)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<n;){let D=l.shift();s?zt(e,s,()=>g(D)):g(D)}f()}catch(D){e.error(D)}}))};return t.subscribe(ge(e,h,()=>{d=!0,f()})),()=>{a?.()}}function St(t,e,r=1/0){return he(e)?St((n,i)=>ie((o,s)=>e(n,o,i,s))(lt(t(n,i))),r):(typeof e=="number"&&(r=e),pe((n,i)=>D0(n,i,t,r)))}function sd(t=1/0){return St(Ht,t)}function x0(){return sd(1)}function Wi(...t){return x0()(Ct(t,Nr(t)))}function Ga(t){return new ke(e=>{lt(t()).subscribe(e)})}function za(t=0,e,r=i0){let n=-1;return e!=null&&(Ta(e)?r=e:n=e),new ke(i=>{let o=C0(t)?+t-r.now():t;o<0&&(o=0);let s=0;return r.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function ad(t=0,e=oi){return t<0&&(t=0),za(t,t,e)}function Lt(t,e){return pe((r,n)=>{let i=0;r.subscribe(ge(n,o=>t.call(e,o,i++)&&n.next(o)))})}function Pr(t){return pe((e,r)=>{let n=null,i=!1,o;n=e.subscribe(ge(r,void 0,void 0,s=>{o=lt(t(s,Pr(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function S0(t,e,r,n,i){return(o,s)=>{let a=r,l=e,c=0;o.subscribe(ge(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),n&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Yi(t,e){return he(e)?St(t,e,1):St(t,1)}function Vn(t,e=oi){return pe((r,n)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,n.next(c)}};function l(){let c=s+t,u=e.now();if(u<c){i=this.schedule(void 0,c-u),n.add(i);return}a()}r.subscribe(ge(n,c=>{o=c,s=e.now(),i||(i=e.schedule(l,t),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}function kr(t){return pe((e,r)=>{let n=!1;e.subscribe(ge(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function qt(t){return t<=0?()=>on:pe((e,r)=>{let n=0;e.subscribe(ge(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function ld(t){return ie(()=>t)}function Wt(t,e=Ht){return t=t??S9,pe((r,n)=>{let i,o=!0;r.subscribe(ge(n,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,n.next(s))}))})}function S9(t,e){return t===e}function qa(t=E9){return pe((e,r)=>{let n=!1;e.subscribe(ge(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function E9(){return new sr}function is(t){return pe((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function jn(t,e){let r=arguments.length>=2;return n=>n.pipe(t?Lt((i,o)=>t(i,o,n)):Ht,qt(1),r?kr(e):qa(()=>new sr))}function Ki(t){return t<=0?()=>on:pe((e,r)=>{let n=[];e.subscribe(ge(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function cd(t,e){let r=arguments.length>=2;return n=>n.pipe(t?Lt((i,o)=>t(i,o,n)):Ht,Ki(1),r?kr(e):qa(()=>new sr))}function ud(t,e){return pe(S0(t,e,arguments.length>=2,!0))}function E0(t={}){let{connector:e=()=>new Ne,resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},g=()=>{let v=s;h(),v?.unsubscribe()};return pe((v,_)=>{c++,!d&&!u&&f();let D=l=l??e();_.add(()=>{c--,c===0&&!d&&!u&&(a=dd(g,i))}),D.subscribe(_),!s&&c>0&&(s=new ir({next:I=>D.next(I),error:I=>{d=!0,f(),a=dd(h,r,I),D.error(I)},complete:()=>{u=!0,f(),a=dd(h,n),D.complete()}}),lt(v).subscribe(s))})(o)}}function dd(t,e,...r){if(e===!0){t();return}if(e===!1)return;let n=new ir({next:()=>{n.unsubscribe(),t()}});return lt(e(...r)).subscribe(n)}function Zi(t,e,r){let n,i=!1;return t&&typeof t=="object"?{bufferSize:n=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:r}=t:n=t??1/0,E0({connector:()=>new ii(n,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function os(t){return Lt((e,r)=>t<=r)}function Xi(...t){let e=Nr(t);return pe((r,n)=>{(e?Wi(t,r,e):Wi(t,r)).subscribe(n)})}function It(t,e){return pe((r,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();r.subscribe(ge(n,l=>{i?.unsubscribe();let c=0,u=o++;lt(t(l,u)).subscribe(i=ge(n,d=>n.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ot(t){return pe((e,r)=>{lt(t).subscribe(ge(r,()=>r.complete(),ts)),!r.closed&&e.subscribe(r)})}function yt(t,e,r){let n=he(t)||e||r?{next:t,error:e,complete:r}:t;return n?pe((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(ge(o,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),o.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):Ht}function I0(t,e){return pe((r,n)=>{let{leading:i=!0,trailing:o=!1}=e??{},s=!1,a=null,l=null,c=!1,u=()=>{l?.unsubscribe(),l=null,o&&(h(),c&&n.complete())},d=()=>{l=null,c&&n.complete()},f=g=>l=lt(t(g)).subscribe(ge(n,u,d)),h=()=>{if(s){s=!1;let g=a;a=null,n.next(g),!c&&f(g)}};r.subscribe(ge(n,g=>{s=!0,a=g,!(l&&!l.closed)&&(i?h():f(g))},()=>{c=!0,!(o&&s&&l&&!l.closed)&&n.complete()}))})}function fd(t,e=oi,r){let n=za(t,e);return I0(()=>n,r)}var fg="https://g.co/ng/security#xss",oe=class extends Error{constructor(e,r){super(mf(e,r)),this.code=e}};function mf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Id=class extends Ne{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,r,n){let i=e,o=r||(()=>null),s=n;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=hd(o),i&&(i=hd(i)),s&&(s=hd(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof vt&&e.add(a),a}};function hd(t){return e=>{setTimeout(t,void 0,e)}}var sn=Id;var xe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(xe||{});function $t(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map($t).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}function M0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var hg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(hg||{}),Hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Hn||{});function bs(t){return{toString:t}.toString()}var ar=globalThis;var cs={},Dn=[];function Ze(t){for(let e in t)if(t[e]===Ze)return e;throw Error("Could not find renamed property on target object.")}var I9=Ze({\u0275cmp:Ze}),M9=Ze({\u0275dir:Ze}),T9=Ze({\u0275pipe:Ze}),A9=Ze({\u0275mod:Ze}),tl=Ze({\u0275fac:Ze}),ss=Ze({__NG_ELEMENT_ID__:Ze}),T0=Ze({__NG_ENV_ID__:Ze}),lr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(lr||{});function pg(t,e,r){let n=t.length;for(;;){let i=t.indexOf(e,r);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===n||t.charCodeAt(i+o)<=32)return i}r=i+1}}function Md(t,e,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let o=r[n++],s=r[n++],a=r[n++];t.setAttribute(e,s,a,o)}else{let o=i,s=r[++n];O9(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),n++}}return n}function R9(t){return t===3||t===4||t===6}function O9(t){return t.charCodeAt(0)===64}function vf(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){let i=e[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?A0(t,r,i,null,e[++n]):A0(t,r,i,null,null))}}return t}function A0(t,e,r,n,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===r){if(n===null){i!==null&&(t[o+1]=i);return}else if(n===t[o+1]){t[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,r),n!==null&&t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}var gg="ng-template";function N9(t,e,r){let n=0,i=!0;for(;n<t.length;){let o=t[n++];if(typeof o=="string"&&i){let s=t[n++];if(r&&o==="class"&&pg(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;n<t.length&&typeof(o=t[n++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function mg(t){return t.type===4&&t.value!==gg}function P9(t,e,r){let n=t.type===4&&!r?gg:t.value;return e===n}function k9(t,e,r){let n=4,i=t.attrs||[],o=V9(i),s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!bn(n)&&!bn(l))return!1;if(s&&bn(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!P9(t,l,r)||l===""&&e.length===1){if(bn(n))return!1;s=!0}}else{let c=n&8?l:e[++a];if(n&8&&t.attrs!==null){if(!N9(t.attrs,c,r)){if(bn(n))return!1;s=!0}continue}let u=n&8?"class":l,d=F9(u,i,mg(t),r);if(d===-1){if(bn(n))return!1;s=!0;continue}if(c!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let h=n&8?f:null;if(h&&pg(h,c,0)!==-1||n&2&&c!==f){if(bn(n))return!1;s=!0}}}}return bn(n)||s}function bn(t){return(t&1)===0}function F9(t,e,r,n){if(e===null)return-1;let i=0;if(n||!r){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return j9(e,t)}function vg(t,e,r=!1){for(let n=0;n<e.length;n++)if(k9(t,e[n],r))return!0;return!1}function L9(t){let e=t.attrs;if(e!=null){let r=e.indexOf(5);if(!(r&1))return e[r+1]}return null}function V9(t){for(let e=0;e<t.length;e++){let r=t[e];if(R9(r))return e}return t.length}function j9(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){let n=t[r];if(typeof n=="number")return-1;if(n===e)return r;r++}return-1}function U9(t,e){e:for(let r=0;r<e.length;r++){let n=e[r];if(t.length===n.length){for(let i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function R0(t,e){return t?":not("+e.trim()+")":e}function B9(t){let e=t[0],r=1,n=2,i="",o=!1;for(;r<t.length;){let s=t[r];if(typeof s=="string")if(n&2){let a=t[++r];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!bn(s)&&(e+=R0(o,i),i=""),n=s,o=o||!bn(n);r++}return i!==""&&(e+=R0(o,i)),e}function H9(t){return t.map(B9).join(",")}function $9(t){let e=[],r=[],n=1,i=2;for(;n<t.length;){let o=t[n];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++n]):i===8&&r.push(o);else{if(!bn(i))break;i=o}n++}return{attrs:e,classes:r}}function ce(t){return bs(()=>{let e=bg(t),r=Z(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Hn.Emulated,styles:t.styles||Dn,_:null,schemas:t.schemas||null,tView:null,id:""});Dg(r);let n=t.dependencies;return r.directiveDefs=N0(n,!1),r.pipeDefs=N0(n,!0),r.id=q9(r),r})}function G9(t){return ui(t)||Cg(t)}function z9(t){return t!==null}function jr(t){return bs(()=>({type:t.type,bootstrap:t.bootstrap||Dn,declarations:t.declarations||Dn,imports:t.imports||Dn,exports:t.exports||Dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function O0(t,e){if(t==null)return cs;let r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],o,s,a=lr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(r[o]=a!==lr.None?[n,a]:n,e[o]=s):r[o]=n}return r}function hr(t){return bs(()=>{let e=bg(t);return Dg(e),e})}function pr(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ui(t){return t[I9]||null}function Cg(t){return t[M9]||null}function yg(t){return t[T9]||null}function _g(t){let e=ui(t)||Cg(t)||yg(t);return e!==null?e.standalone:!1}function wg(t,e){let r=t[A9]||null;if(!r&&e===!0)throw new Error(`Type ${$t(t)} does not have '\u0275mod' property.`);return r}function bg(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||cs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Dn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:O0(t.inputs,e),outputs:O0(t.outputs),debugInfo:null}}function Dg(t){t.features?.forEach(e=>e(t))}function N0(t,e){if(!t)return null;let r=e?yg:G9;return()=>(typeof t=="function"?t():t).map(n=>r(n)).filter(z9)}function q9(t){let e=0,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var gr=0,_e=1,ae=2,At=3,xn=4,Qt=5,us=6,ds=7,Sn=8,no=9,cr=10,Mt=11,fs=12,P0=13,lo=14,En=15,Ds=16,Qi=17,ur=18,yl=19,xg=20,as=21,pd=22,di=23,Xt=25,Sg=1;var fi=7,nl=8,ro=9,Zt=10,Cf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Cf||{});function li(t){return Array.isArray(t)&&typeof t[Sg]=="object"}function mr(t){return Array.isArray(t)&&t[Sg]===!0}function yf(t){return(t.flags&4)!==0}function _l(t){return t.componentOffset>-1}function wl(t){return(t.flags&1)===1}function xs(t){return!!t.template}function W9(t){return(t[ae]&512)!==0}var Eg="svg",Y9="math",K9=!1;function Z9(){return K9}function $n(t){for(;Array.isArray(t);)t=t[gr];return t}function Ig(t,e){return $n(e[t])}function In(t,e){return $n(e[t.index])}function Mg(t,e){return t.data[e]}function Tg(t,e){return t[e]}function Ur(t,e){let r=e[t];return li(r)?r:r[gr]}function X9(t){return(t[ae]&4)===4}function _f(t){return(t[ae]&128)===128}function Q9(t){return mr(t[At])}function io(t,e){return e==null?null:t[e]}function Ag(t){t[Qi]=0}function J9(t){t[ae]&1024||(t[ae]|=1024,_f(t)&&hs(t))}function e7(t,e){for(;t>0;)e=e[lo],t--;return e}function wf(t){return!!(t[ae]&9216||t[di]?.dirty)}function Td(t){wf(t)?hs(t):t[ae]&64&&(Z9()?(t[ae]|=1024,hs(t)):t[cr].changeDetectionScheduler?.notify())}function hs(t){t[cr].changeDetectionScheduler?.notify();let e=ps(t);for(;e!==null&&!(e[ae]&8192||(e[ae]|=8192,!_f(e)));)e=ps(e)}function t7(t,e){if((t[ae]&256)===256)throw new oe(911,!1);t[as]===null&&(t[as]=[]),t[as].push(e)}function ps(t){let e=t[At];return mr(e)?e[At]:e}var me={lFrame:jg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function n7(){return me.lFrame.elementDepthCount}function r7(){me.lFrame.elementDepthCount++}function i7(){me.lFrame.elementDepthCount--}function Rg(){return me.bindingsEnabled}function Og(){return me.skipHydrationRootTNode!==null}function o7(t){return me.skipHydrationRootTNode===t}function s7(){me.skipHydrationRootTNode=null}function ze(){return me.lFrame.lView}function Kt(){return me.lFrame.tView}function X(t){return me.lFrame.contextLView=t,t[Sn]}function Q(t){return me.lFrame.contextLView=null,t}function cn(){let t=Ng();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ng(){return me.lFrame.currentTNode}function a7(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ci(t,e){let r=me.lFrame;r.currentTNode=t,r.isParent=e}function bf(){return me.lFrame.isParent}function Df(){me.lFrame.isParent=!1}function l7(){return me.lFrame.contextLView}function Pg(){let t=me.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function c7(t){return me.lFrame.bindingIndex=t}function kg(){return me.lFrame.bindingIndex++}function u7(t){let e=me.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function d7(){return me.lFrame.inI18n}function f7(t,e){let r=me.lFrame;r.bindingIndex=r.bindingRootIndex=t,Ad(e)}function h7(){return me.lFrame.currentDirectiveIndex}function Ad(t){me.lFrame.currentDirectiveIndex=t}function p7(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Fg(){return me.lFrame.currentQueryIndex}function xf(t){me.lFrame.currentQueryIndex=t}function g7(t){let e=t[_e];return e.type===2?e.declTNode:e.type===1?t[Qt]:null}function Lg(t,e,r){if(r&xe.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(r&xe.Host);)if(i=g7(o),i===null||(o=o[lo],i.type&10))break;if(i===null)return!1;e=i,t=o}let n=me.lFrame=Vg();return n.currentTNode=e,n.lView=t,!0}function Sf(t){let e=Vg(),r=t[_e];me.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function Vg(){let t=me.lFrame,e=t===null?null:t.child;return e===null?jg(t):e}function jg(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Ug(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Bg=Ug;function Ef(){let t=Ug();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function m7(t){return(me.lFrame.contextLView=e7(t,me.lFrame.contextLView))[Sn]}function co(){return me.lFrame.selectedIndex}function hi(t){me.lFrame.selectedIndex=t}function v7(){let t=me.lFrame;return Mg(t.tView,t.selectedIndex)}function Ye(){me.lFrame.currentNamespace=Eg}function Hg(){C7()}function C7(){me.lFrame.currentNamespace=null}function y7(){return me.lFrame.currentNamespace}var $g=!0;function bl(){return $g}function Dl(t){$g=t}function _7(){return uo(cn(),ze())}function uo(t,e){return new Gn(In(t,e))}var Gn=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=_7;let t=e;return t})();function w7(t){return t instanceof Gn?t.nativeElement:t}function b7(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],o=e[n];if(r&&(i=r(i),o=r(o)),o!==i)return!1}return!0}function D7(t){return t.flat(Number.POSITIVE_INFINITY)}function If(t,e){t.forEach(r=>Array.isArray(r)?If(r,e):e(r))}function Gg(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function rl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function x7(t,e){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function S7(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(i===1)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=r,t[e+1]=n}}function E7(t,e,r){let n=Ss(t,e);return n>=0?t[n|1]=r:(n=~n,S7(t,n,e,r)),n}function gd(t,e){let r=Ss(t,e);if(r>=0)return t[r|1]}function Ss(t,e){return I7(t,e,1)}function I7(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){let o=n+(i-n>>1),s=t[o<<r];if(e===s)return o<<r;s>e?i=o:n=o+1}return~(i<<r)}function M7(){return this._results[Symbol.iterator]()}var Rd=class t{get changes(){return this._changes??=new sn}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let r=t.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=M7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,r){return this._results.reduce(e,r)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,r){this.dirty=!1;let n=D7(e);(this._changesDetected=!b7(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function zg(t){return(t.flags&128)===128}var Od;function qg(t){Od=t}function T7(){if(Od!==void 0)return Od;if(typeof document<"u")return document;throw new oe(210,!1)}function ue(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Br(t){return{providers:t.providers||[],imports:t.imports||[]}}function xl(t){return k0(t,Yg)||k0(t,Kg)}function Wg(t){return xl(t)!==null}function k0(t,e){return t.hasOwnProperty(e)?t[e]:null}function A7(t){let e=t&&(t[Yg]||t[Kg]);return e||null}function F0(t){return t&&(t.hasOwnProperty(L0)||t.hasOwnProperty(R7))?t[L0]:null}var Yg=Ze({\u0275prov:Ze}),L0=Ze({\u0275inj:Ze}),Kg=Ze({ngInjectableDef:Ze}),R7=Ze({ngInjectorDef:Ze}),Re=class{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=ue({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Mf=new Re("",{providedIn:"root",factory:()=>O7}),O7="ng",Tf=new Re(""),fo=new Re("",{providedIn:"platform",factory:()=>"unknown"});var Af=new Re("",{providedIn:"root",factory:()=>T7().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Zg={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Sl=new Re("",{providedIn:"root",factory:()=>Zg}),N7=Ze({__forward_ref__:Ze});function Xg(t){return t.__forward_ref__=Xg,t.toString=function(){return $t(this())},t}function an(t){return Qg(t)?t():t}function Qg(t){return typeof t=="function"&&t.hasOwnProperty(N7)&&t.__forward_ref__===Xg}function Jg(t){return t&&!!t.\u0275providers}function Rf(t){return typeof t=="string"?t:t==null?"":String(t)}function P7(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Rf(t)}function k7(t,e){let r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new oe(-200,t)}function Of(t,e){throw new oe(-201,!1)}var Nd;function F7(){return Nd}function Yt(t){let e=Nd;return Nd=t,e}function e2(t,e,r){let n=xl(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&xe.Optional)return null;if(e!==void 0)return e;Of(t,"Injector")}var L7={},gs=L7,Pd="__NG_DI_FLAG__",il="ngTempTokenPath",V7="ngTokenPath",j7=/\n/gm,U7="\u0275",V0="__source",ls;function Fr(t){let e=ls;return ls=t,e}function B7(t,e=xe.Default){if(ls===void 0)throw new oe(-203,!1);return ls===null?e2(t,void 0,e):ls.get(t,e&xe.Optional?null:void 0,e)}function Pe(t,e=xe.Default){return(F7()||B7)(an(t),e)}function te(t,e=xe.Default){return Pe(t,El(e))}function El(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function kd(t){let e=[];for(let r=0;r<t.length;r++){let n=an(t[r]);if(Array.isArray(n)){if(n.length===0)throw new oe(900,!1);let i,o=xe.Default;for(let s=0;s<n.length;s++){let a=n[s],l=H7(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Pe(i,o))}else e.push(Pe(n))}return e}function t2(t,e){return t[Pd]=e,t.prototype[Pd]=e,t}function H7(t){return t[Pd]}function $7(t,e,r,n){let i=t[il];throw e[V0]&&i.unshift(e[V0]),t.message=G7(`
`+t.message,i,r,n),t[V7]=i,t[il]=null,t}function G7(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==U7?t.slice(2):t;let i=$t(e);if(Array.isArray(e))i=e.map($t).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$t(a)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(j7,`
  `)}`}var z7="h",q7="b";var W7=()=>null;function Nf(t,e,r=!1){return W7(t,e,r)}var Wa="__parameters__";function Y7(t){return function(...r){if(t){let n=t(...r);for(let i in n)this[i]=n[i]}}}function n2(t,e,r){return bs(()=>{let n=Y7(e);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Wa)?l[Wa]:Object.defineProperty(l,Wa,{value:[]})[Wa];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Pf=t2(n2("Optional"),8);var r2=t2(n2("SkipSelf"),4);function pi(t,e){let r=t.hasOwnProperty(tl);return r?t[tl]:null}var oo=new Re(""),i2=new Re("",-1),o2=new Re(""),ol=class{get(e,r=gs){if(r===gs){let n=new Error(`NullInjectorError: No provider for ${$t(e)}!`);throw n.name="NullInjectorError",n}return r}};function Il(t){return{\u0275providers:t}}function K7(...t){return{\u0275providers:s2(!0,t),\u0275fromNgModule:!0}}function s2(t,...e){let r=[],n=new Set,i,o=s=>{r.push(s)};return If(e,s=>{let a=s;Fd(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&a2(i,o),r}function a2(t,e){for(let r=0;r<t.length;r++){let{ngModule:n,providers:i}=t[r];kf(i,o=>{e(o,n)})}}function Fd(t,e,r,n){if(t=an(t),!t)return!1;let i=null,o=F0(t),s=!o&&ui(t);if(!o&&!s){let l=t.ngModule;if(o=F0(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Fd(c,e,r,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let c;try{If(o.imports,u=>{Fd(u,e,r,n)&&(c||=[],c.push(u))})}finally{}c!==void 0&&a2(c,e)}if(!a){let c=pi(i)||(()=>new i);e({provide:i,useFactory:c,deps:Dn},i),e({provide:o2,useValue:i,multi:!0},i),e({provide:oo,useValue:()=>Pe(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;kf(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function kf(t,e){for(let r of t)Jg(r)&&(r=r.\u0275providers),Array.isArray(r)?kf(r,e):e(r)}var Z7=Ze({provide:String,useValue:Ze});function l2(t){return t!==null&&typeof t=="object"&&Z7 in t}function X7(t){return!!(t&&t.useExisting)}function Q7(t){return!!(t&&t.useFactory)}function Ld(t){return typeof t=="function"}var Ml=new Re(""),Ka={},J7={},md;function Ff(){return md===void 0&&(md=new ol),md}var ln=class{},ms=class extends ln{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jd(e,s=>this.processProvider(s)),this.records.set(i2,Ji(void 0,this)),i.has("environment")&&this.records.set(ln,Ji(void 0,this));let o=this.records.get(Ml);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(o2,Dn,xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let r=Fr(this),n=Yt(void 0),i;try{return e()}finally{Fr(r),Yt(n)}}get(e,r=gs,n=xe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(T0))return e[T0](this);n=El(n);let i,o=Fr(this),s=Yt(void 0);try{if(!(n&xe.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=ov(e)&&xl(e);c&&this.injectableDefInScope(c)?l=Ji(Vd(e),Ka):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=n&xe.Self?Ff():this.parent;return r=n&xe.Optional&&r===gs?null:r,a.get(e,r)}catch(a){if(a.name==="NullInjectorError"){if((a[il]=a[il]||[]).unshift($t(e)),o)throw a;return $7(a,e,"R3InjectorError",this.source)}else throw a}finally{Yt(s),Fr(o)}}resolveInjectorInitializers(){let e=Fr(this),r=Yt(void 0),n;try{let i=this.get(oo,Dn,xe.Self);for(let o of i)o()}finally{Fr(e),Yt(r)}}toString(){let e=[],r=this.records;for(let n of r.keys())e.push($t(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(e){e=an(e);let r=Ld(e)?e:an(e&&e.provide),n=tv(e);if(!Ld(e)&&e.multi===!0){let i=this.records.get(r);i||(i=Ji(void 0,Ka,!0),i.factory=()=>kd(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){return r.value===Ka&&(r.value=J7,r.value=r.factory()),typeof r.value=="object"&&r.value&&iv(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(e){if(!e.providedIn)return!1;let r=an(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){let r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}};function Vd(t){let e=xl(t),r=e!==null?e.factory:pi(t);if(r!==null)return r;if(t instanceof Re)throw new oe(204,!1);if(t instanceof Function)return ev(t);throw new oe(204,!1)}function ev(t){if(t.length>0)throw new oe(204,!1);let r=A7(t);return r!==null?()=>r.factory(t):()=>new t}function tv(t){if(l2(t))return Ji(void 0,t.useValue);{let e=nv(t);return Ji(e,Ka)}}function nv(t,e,r){let n;if(Ld(t)){let i=an(t);return pi(i)||Vd(i)}else if(l2(t))n=()=>an(t.useValue);else if(Q7(t))n=()=>t.useFactory(...kd(t.deps||[]));else if(X7(t))n=()=>Pe(an(t.useExisting));else{let i=an(t&&(t.useClass||t.provide));if(rv(t))n=()=>new i(...kd(t.deps));else return pi(i)||Vd(i)}return n}function Ji(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function rv(t){return!!t.deps}function iv(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ov(t){return typeof t=="function"||typeof t=="object"&&t instanceof Re}function jd(t,e){for(let r of t)Array.isArray(r)?jd(r,e):r&&Jg(r)?jd(r.\u0275providers,e):e(r)}function yi(t,e){t instanceof ms&&t.assertNotDestroyed();let r,n=Fr(t),i=Yt(void 0);try{return e()}finally{Fr(n),Yt(i)}}function sv(t){return typeof t=="function"}var Ud=class{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function c2(t,e,r,n){e!==null?e.applyValueToInputSignal(e,n):t[r]=n}function Mn(){return u2}function u2(t){return t.type.prototype.ngOnChanges&&(t.setInput=lv),av}Mn.ngInherit=!0;function av(){let t=f2(this),e=t?.current;if(e){let r=t.previous;if(r===cs)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function lv(t,e,r,n,i){let o=this.declaredInputs[n],s=f2(t)||cv(t,{previous:cs,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Ud(c&&c.currentValue,r,l===cs),c2(t,e,i,r)}var d2="__ngSimpleChanges__";function f2(t){return t[d2]||null}function cv(t,e){return t[d2]=e}var j0=null;var Un=function(t,e,r){j0?.(t,e,r)};function uv(t,e,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(n){let s=u2(e);(r.preOrderHooks??=[]).push(t,s),(r.preOrderCheckHooks??=[]).push(t,s)}i&&(r.preOrderHooks??=[]).push(0-t,i),o&&((r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o))}function Tl(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){let o=t.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-r,s),a&&((t.contentHooks??=[]).push(r,a),(t.contentCheckHooks??=[]).push(r,a)),l&&(t.viewHooks??=[]).push(-r,l),c&&((t.viewHooks??=[]).push(r,c),(t.viewCheckHooks??=[]).push(r,c)),u!=null&&(t.destroyHooks??=[]).push(r,u)}}function Za(t,e,r){h2(t,e,3,r)}function Xa(t,e,r,n){(t[ae]&3)===r&&h2(t,e,r,n)}function vd(t,e){let r=t[ae];(r&3)===e&&(r&=16383,r+=1,t[ae]=r)}function h2(t,e,r,n){let i=n!==void 0?t[Qi]&65535:0,o=n??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(t[Qi]+=65536),(a<o||o==-1)&&(dv(t,r,e,l),t[Qi]=(t[Qi]&4294901760)+l+2),l++}function U0(t,e){Un(4,t,e);let r=Bt(null);try{e.call(t)}finally{Bt(r),Un(5,t,e)}}function dv(t,e,r,n){let i=r[n]<0,o=r[n+1],s=i?-r[n]:r[n],a=t[s];i?t[ae]>>14<t[Qi]>>16&&(t[ae]&3)===e&&(t[ae]+=16384,U0(a,o)):U0(a,o)}var to=-1,vs=class{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function fv(t){return t instanceof vs}function hv(t){return(t.flags&8)!==0}function pv(t){return(t.flags&16)!==0}function p2(t){return t!==to}function sl(t){return t&32767}function gv(t){return t>>16}function al(t,e){let r=gv(t),n=e;for(;r>0;)n=n[lo],r--;return n}var Bd=!0;function ll(t){let e=Bd;return Bd=t,e}var mv=256,g2=mv-1,m2=5,vv=0,Bn={};function Cv(t,e,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(ss)&&(n=r[ss]),n==null&&(n=r[ss]=vv++);let i=n&g2,o=1<<i;e.data[t+(i>>m2)]|=o}function v2(t,e){let r=C2(t,e);if(r!==-1)return r;let n=e[_e];n.firstCreatePass&&(t.injectorIndex=e.length,Cd(n.data,t),Cd(e,null),Cd(n.blueprint,null));let i=Lf(t,e),o=t.injectorIndex;if(p2(i)){let s=sl(i),a=al(i,e),l=a[_e].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Cd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function C2(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Lf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;i!==null;){if(n=D2(i),n===null)return to;if(r++,i=i[lo],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return to}function yv(t,e,r){Cv(t,e,r)}function y2(t,e,r){if(r&xe.Optional||t!==void 0)return t;Of(e,"NodeInjector")}function _2(t,e,r,n){if(r&xe.Optional&&n===void 0&&(n=null),!(r&(xe.Self|xe.Host))){let i=t[no],o=Yt(void 0);try{return i?i.get(e,n,r&xe.Optional):e2(e,n,r&xe.Optional)}finally{Yt(o)}}return y2(n,e,r)}function w2(t,e,r,n=xe.Default,i){if(t!==null){if(e[ae]&2048&&!(n&xe.Self)){let s=Dv(t,e,r,n,Bn);if(s!==Bn)return s}let o=b2(t,e,r,n,Bn);if(o!==Bn)return o}return _2(e,r,n,i)}function b2(t,e,r,n,i){let o=wv(r);if(typeof o=="function"){if(!Lg(e,t,n))return n&xe.Host?y2(i,r,n):_2(e,r,n,i);try{let s;if(s=o(n),s==null&&!(n&xe.Optional))Of(r);else return s}finally{Bg()}}else if(typeof o=="number"){let s=null,a=C2(t,e),l=to,c=n&xe.Host?e[En][Qt]:null;for((a===-1||n&xe.SkipSelf)&&(l=a===-1?Lf(t,e):e[a+8],l===to||!H0(n,!1)?a=-1:(s=e[_e],a=sl(l),e=al(l,e)));a!==-1;){let u=e[_e];if(B0(o,a,u.data)){let d=_v(a,e,r,s,n,c);if(d!==Bn)return d}l=e[a+8],l!==to&&H0(n,e[_e].data[a+8]===c)&&B0(o,a,e)?(s=u,a=sl(l),e=al(l,e)):a=-1}}return i}function _v(t,e,r,n,i,o){let s=e[_e],a=s.data[t+8],l=n==null?_l(a)&&Bd:n!=s&&(a.type&3)!==0,c=i&xe.Host&&o===a,u=Qa(a,s,r,l,c);return u!==null?so(e,s,u,a):Bn}function Qa(t,e,r,n,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=n?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let g=s[h];if(h<l&&r===g||h>=l&&g.type===r)return h}if(i){let h=s[l];if(h&&xs(h)&&h.type===r)return l}return null}function so(t,e,r,n){let i=t[r],o=e.data;if(fv(i)){let s=i;s.resolving&&k7(P7(o[r]));let a=ll(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Yt(s.injectImpl):null,u=Lg(t,n,xe.Default);try{i=t[r]=s.factory(void 0,o,t,n),e.firstCreatePass&&r>=n.directiveStart&&uv(r,o[r],e)}finally{c!==null&&Yt(c),ll(a),s.resolving=!1,Bg()}}return i}function wv(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ss)?t[ss]:void 0;return typeof e=="number"?e>=0?e&g2:bv:e}function B0(t,e,r){let n=1<<t;return!!(r[e+(t>>m2)]&n)}function H0(t,e){return!(t&xe.Self)&&!(t&xe.Host&&e)}var ci=class{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return w2(this._tNode,this._lView,e,El(n),r)}};function bv(){return new ci(cn(),ze())}function Vf(t){return bs(()=>{let e=t.prototype.constructor,r=e[tl]||Hd(e),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){let o=i[tl]||Hd(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Hd(t){return Qg(t)?()=>{let e=Hd(an(t));return e&&e()}:pi(t)}function Dv(t,e,r,n,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ae]&2048&&!(s[ae]&512);){let a=b2(o,s,r,n|xe.Self,Bn);if(a!==Bn)return a;let l=o.parent;if(!l){let c=s[xg];if(c){let u=c.get(r,Bn,n);if(u!==Bn)return u}l=D2(s),s=s[lo]}o=l}return i}function D2(t){let e=t[_e],r=e.type;return r===2?e.declTNode:r===1?t[Qt]:null}function $0(t,e=null,r=null,n){let i=x2(t,e,r,n);return i.resolveInjectorInitializers(),i}function x2(t,e=null,r=null,n,i=new Set){let o=[r||Dn,K7(t)];return n=n||(typeof t=="object"?void 0:$t(t)),new ms(o,e||Ff(),n||null,i)}var _i=(()=>{let e=class e{static create(n,i){if(Array.isArray(n))return $0({name:""},i,n,"");{let o=n.name??"";return $0({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=gs,e.NULL=new ol,e.\u0275prov=ue({token:e,providedIn:"any",factory:()=>Pe(i2)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),xv="ngOriginalError";function yd(t){return t[xv]}var dr=class{constructor(){this._console=console}handleError(e){let r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&yd(e);for(;r&&yd(r);)r=yd(r);return r||null}},S2=new Re("",{providedIn:"root",factory:()=>te(dr).handleError.bind(void 0)});var E2=!1,Sv=new Re("",{providedIn:"root",factory:()=>E2});var cl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fg})`}};function Al(t){return t instanceof cl?t.changingThisBreaksApplicationSecurity:t}function I2(t,e){let r=Ev(t);if(r!=null&&r!==e){if(r==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${r} (see ${fg})`)}return r===e}function Ev(t){return t instanceof cl&&t.getTypeName()||null}var Iv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function M2(t){return t=String(t),t.match(Iv)?t:"unsafe:"+t}var jf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(jf||{});function T2(t){let e=Mv();return e?e.sanitize(jf.URL,t)||"":I2(t,"URL")?Al(t):M2(Rf(t))}function Mv(){let t=ze();return t&&t[cr].sanitizer}var Tv=/^>|^->|<!--|-->|--!>|<!-$/g,Av=/(<|>)/g,Rv="\u200B$1\u200B";function Ov(t){return t.replace(Tv,e=>e.replace(Av,Rv))}var A2=new Map,Nv=0;function Pv(){return Nv++}function kv(t){A2.set(t[yl],t)}function Fv(t){A2.delete(t[yl])}var G0="__ngContext__";function Lr(t,e){li(e)?(t[G0]=e[yl],kv(e)):t[G0]=e}function Rl(t){return t.ownerDocument.defaultView}function R2(t){return t instanceof Function?t():t}var fr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fr||{}),Lv;function Uf(t,e){return Lv(t,e)}function eo(t,e,r,n,i){if(n!=null){let o,s=!1;mr(n)?o=n:li(n)&&(s=!0,n=n[gr]);let a=$n(n);t===0&&r!==null?i==null?L2(e,r,a):ul(e,r,a,i||null,!0):t===1&&r!==null?ul(e,r,a,i||null,!0):t===2?Jv(e,a,s):t===3&&e.destroyNode(a),o!=null&&tC(e,t,o,r,i)}}function Vv(t,e){return t.createText(e)}function jv(t,e,r){t.setValue(e,r)}function Uv(t,e){return t.createComment(Ov(e))}function O2(t,e,r){return t.createElement(e,r)}function Bv(t,e){N2(t,e),e[gr]=null,e[Qt]=null}function Hv(t,e,r,n,i,o){n[gr]=i,n[Qt]=e,Nl(t,n,r,1,i,o)}function N2(t,e){Nl(t,e,e[Mt],2,null,null)}function $v(t){let e=t[fs];if(!e)return _d(t[_e],t);for(;e;){let r=null;if(li(e))r=e[fs];else{let n=e[Zt];n&&(r=n)}if(!r){for(;e&&!e[xn]&&e!==t;)li(e)&&_d(e[_e],e),e=e[At];e===null&&(e=t),li(e)&&_d(e[_e],e),r=e&&e[xn]}e=r}}function Gv(t,e,r,n){let i=Zt+n,o=r.length;n>0&&(r[i-1][xn]=e),n<o-Zt?(e[xn]=r[i],Gg(r,Zt+n,e)):(r.push(e),e[xn]=null),e[At]=r;let s=e[Ds];s!==null&&r!==s&&zv(s,e);let a=e[ur];a!==null&&a.insertView(t),Td(e),e[ae]|=128}function zv(t,e){let r=t[ro],i=e[At][At][En];e[En]!==i&&(t[ae]|=Cf.HasTransplantedViews),r===null?t[ro]=[e]:r.push(e)}function P2(t,e){let r=t[ro],n=r.indexOf(e);r.splice(n,1)}function $d(t,e){if(t.length<=Zt)return;let r=Zt+e,n=t[r];if(n){let i=n[Ds];i!==null&&i!==t&&P2(i,n),e>0&&(t[r-1][xn]=n[xn]);let o=rl(t,Zt+e);Bv(n[_e],n);let s=o[ur];s!==null&&s.detachView(o[_e]),n[At]=null,n[xn]=null,n[ae]&=-129}return n}function k2(t,e){if(!(e[ae]&256)){let r=e[Mt];r.destroyNode&&Nl(t,e,r,3,null,null),$v(e)}}function _d(t,e){if(!(e[ae]&256)){e[ae]&=-129,e[ae]|=256,e[di]&&Kp(e[di]),Wv(t,e),qv(t,e),e[_e].type===1&&e[Mt].destroy();let r=e[Ds];if(r!==null&&mr(e[At])){r!==e[At]&&P2(r,e);let n=e[ur];n!==null&&n.detachView(t)}Fv(e)}}function qv(t,e){let r=t.cleanup,n=e[ds];if(r!==null)for(let o=0;o<r.length-1;o+=2)if(typeof r[o]=="string"){let s=r[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[r[o+1]];r[o].call(s)}n!==null&&(e[ds]=null);let i=e[as];if(i!==null){e[as]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Wv(t,e){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=e[r[n]];if(!(i instanceof vs)){let o=r[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Un(4,a,l);try{l.call(a)}finally{Un(5,a,l)}}else{Un(4,i,o);try{o.call(i)}finally{Un(5,i,o)}}}}}function F2(t,e,r){return Yv(t,e.parent,r)}function Yv(t,e,r){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return r[gr];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=t.data[n.directiveStart+i];if(o===Hn.None||o===Hn.Emulated)return null}return In(n,r)}}function ul(t,e,r,n,i){t.insertBefore(e,r,n,i)}function L2(t,e,r){t.appendChild(e,r)}function z0(t,e,r,n,i){n!==null?ul(t,e,r,n,i):L2(t,e,r)}function Kv(t,e,r,n){t.removeChild(e,r,n)}function Bf(t,e){return t.parentNode(e)}function Zv(t,e){return t.nextSibling(e)}function V2(t,e,r){return Qv(t,e,r)}function Xv(t,e,r){return t.type&40?In(t,r):null}var Qv=Xv,q0;function Ol(t,e,r,n){let i=F2(t,n,e),o=e[Mt],s=n.parent||e[Qt],a=V2(s,n,e);if(i!=null)if(Array.isArray(r))for(let l=0;l<r.length;l++)z0(o,i,r[l],a,!1);else z0(o,i,r,a,!1);q0!==void 0&&q0(o,n,e,r,i)}function Ja(t,e){if(e!==null){let r=e.type;if(r&3)return In(e,t);if(r&4)return Gd(-1,t[e.index]);if(r&8){let n=e.child;if(n!==null)return Ja(t,n);{let i=t[e.index];return mr(i)?Gd(-1,i):$n(i)}}else{if(r&32)return Uf(e,t)()||$n(t[e.index]);{let n=j2(t,e);if(n!==null){if(Array.isArray(n))return n[0];let i=ps(t[En]);return Ja(i,n)}else return Ja(t,e.next)}}}return null}function j2(t,e){if(e!==null){let n=t[En][Qt],i=e.projection;return n.projection[i]}return null}function Gd(t,e){let r=Zt+t+1;if(r<e.length){let n=e[r],i=n[_e].firstChild;if(i!==null)return Ja(n,i)}return e[fi]}function Jv(t,e,r){let n=Bf(t,e);n&&Kv(t,n,e,r)}function Hf(t,e,r,n,i,o,s){for(;r!=null;){let a=n[r.index],l=r.type;if(s&&e===0&&(a&&Lr($n(a),n),r.flags|=2),(r.flags&32)!==32)if(l&8)Hf(t,e,r.child,n,i,o,!1),eo(e,t,i,a,o);else if(l&32){let c=Uf(r,n),u;for(;u=c();)eo(e,t,i,u,o);eo(e,t,i,a,o)}else l&16?U2(t,e,n,r,i,o):eo(e,t,i,a,o);r=s?r.projectionNext:r.next}}function Nl(t,e,r,n,i,o){Hf(r,n,t.firstChild,e,i,o,!1)}function eC(t,e,r){let n=e[Mt],i=F2(t,r,e),o=r.parent||e[Qt],s=V2(o,r,e);U2(n,0,e,r,i,s)}function U2(t,e,r,n,i,o){let s=r[En],l=s[Qt].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];eo(e,t,i,u,o)}else{let c=l,u=s[At];zg(n)&&(c.flags|=128),Hf(t,e,c,u,i,o,!0)}}function tC(t,e,r,n,i){let o=r[fi],s=$n(r);o!==s&&eo(e,t,n,o,i);for(let a=Zt;a<r.length;a++){let l=r[a];Nl(l[_e],l,t,e,n,o)}}function nC(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let o=n.indexOf("-")===-1?void 0:fr.DashCase;i==null?t.removeStyle(r,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=fr.Important),t.setStyle(r,n,i,o))}}function rC(t,e,r){t.setAttribute(e,"style",r)}function B2(t,e,r){r===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function H2(t,e,r){let{mergedAttrs:n,classes:i,styles:o}=r;n!==null&&Md(t,e,n),i!==null&&B2(t,e,i),o!==null&&rC(t,e,o)}var wi={};function F(t=1){$2(Kt(),ze(),co()+t,!1)}function $2(t,e,r,n){if(!n)if((e[ae]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Za(e,o,r)}else{let o=t.preOrderHooks;o!==null&&Xa(e,o,0,r)}hi(r)}function re(t,e=xe.Default){let r=ze();if(r===null)return Pe(t,e);let n=cn();return w2(n,r,an(t),e)}function G2(t,e,r,n,i,o){let s=Bt(null);try{let a=null;i&lr.SignalBased&&(a=e[n][zp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&lr.HasDecoratorInputTransform&&(o=t.inputTransforms[n].call(e,o)),t.setInput!==null?t.setInput(e,a,o,r,n):c2(e,a,n,o)}finally{Bt(s)}}function iC(t,e){let r=t.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)hi(~i);else{let o=i,s=r[++n],a=r[++n];f7(s,o);let l=e[o];a(2,l)}}}finally{hi(-1)}}function Pl(t,e,r,n,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[gr]=i,d[ae]=n|4|128|8|64,(c!==null||t&&t[ae]&2048)&&(d[ae]|=2048),Ag(d),d[At]=d[lo]=t,d[Sn]=r,d[cr]=s||t&&t[cr],d[Mt]=a||t&&t[Mt],d[no]=l||t&&t[no]||null,d[Qt]=o,d[yl]=Pv(),d[us]=u,d[xg]=c,d[En]=e.type==2?t[En]:d,d}function ho(t,e,r,n,i){let o=t.data[e];if(o===null)o=oC(t,e,r,n,i),d7()&&(o.flags|=32);else if(o.type&64){o.type=r,o.value=n,o.attrs=i;let s=a7();o.injectorIndex=s===null?-1:s.injectorIndex}return Ci(o,!0),o}function oC(t,e,r,n,i){let o=Ng(),s=bf(),a=s?o:o&&o.parent,l=t.data[e]=dC(t,a,r,e,n,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function z2(t,e,r,n){if(r===0)return-1;let i=e.length;for(let o=0;o<r;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function q2(t,e,r,n,i){let o=co(),s=n&2;try{hi(-1),s&&e.length>Xt&&$2(t,e,Xt,!1),Un(s?2:0,i),r(n,i)}finally{hi(o),Un(s?3:1,i)}}function $f(t,e,r){if(yf(e)){let n=Bt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{Bt(n)}}}function Gf(t,e,r){Rg()&&(CC(t,e,r,In(r,e)),(r.flags&64)===64&&K2(t,e,r))}function zf(t,e,r=In){let n=e.localNames;if(n!==null){let i=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?r(e,t):t[s];t[i++]=a}}}function W2(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=qf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qf(t,e,r,n,i,o,s,a,l,c,u){let d=Xt+n,f=d+i,h=sC(d,f),g=typeof c=="function"?c():c;return h[_e]={type:t,blueprint:h,template:r,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function sC(t,e){let r=[];for(let n=0;n<e;n++)r.push(n<t?null:wi);return r}function aC(t,e,r,n){let o=n.get(Sv,E2)||r===Hn.ShadowDom,s=t.selectRootElement(e,o);return lC(s),s}function lC(t){cC(t)}var cC=()=>null;function uC(t,e,r,n){let i=Q2(e);i.push(r),t.firstCreatePass&&J2(t).push(n,i.length-1)}function dC(t,e,r,n,i,o){let s=e?e.injectorIndex:-1,a=0;return Og()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function W0(t,e,r,n,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,l=lr.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?Y0(n,r,c,a,l):Y0(n,r,c,a)}return n}function Y0(t,e,r,n,i){let o;t.hasOwnProperty(r)?(o=t[r]).push(e,n):o=t[r]=[e,n],i!==void 0&&o.push(i)}function fC(t,e,r){let n=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=n;u<i;u++){let d=o[u],f=r?r.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;l=W0(0,d.inputs,u,l,h),c=W0(1,d.outputs,u,c,g);let v=l!==null&&s!==null&&!mg(e)?IC(l,u,s):null;a.push(v)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function hC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function pC(t,e,r,n,i,o,s,a){let l=In(e,r),c=e.inputs,u;!a&&c!=null&&(u=c[n])?(Yf(t,r,u,n,i),_l(e)&&gC(r,e.index)):e.type&3?(n=hC(n),i=s!=null?s(i,e.value||"",n):i,o.setProperty(l,n,i)):e.type&12}function gC(t,e){let r=Ur(e,t);r[ae]&16||(r[ae]|=64)}function Wf(t,e,r,n){if(Rg()){let i=n===null?null:{"":-1},o=_C(t,r),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Y2(t,e,r,s,i,a),i&&wC(r,n,i)}r.mergedAttrs=vf(r.mergedAttrs,r.attrs)}function Y2(t,e,r,n,i,o){for(let c=0;c<n.length;c++)yv(v2(r,e),t,n[c].type);DC(r,t.data.length,n.length);for(let c=0;c<n.length;c++){let u=n[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=z2(t,e,n.length,null);for(let c=0;c<n.length;c++){let u=n[c];r.mergedAttrs=vf(r.mergedAttrs,u.hostAttrs),xC(t,r,e,l,u),bC(l,u,i),u.contentQueries!==null&&(r.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(r.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}fC(t,r,o)}function mC(t,e,r,n,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;vC(s)!=a&&s.push(a),s.push(r,n,o)}}function vC(t){let e=t.length;for(;e>0;){let r=t[--e];if(typeof r=="number"&&r<0)return r}return 0}function CC(t,e,r,n){let i=r.directiveStart,o=r.directiveEnd;_l(r)&&SC(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||v2(r,e),Lr(n,e);let s=r.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=so(e,t,a,r);if(Lr(c,e),s!==null&&EC(e,a-i,c,l,r,s),xs(l)){let u=Ur(r.index,e);u[Sn]=so(e,t,a,r)}}}function K2(t,e,r){let n=r.directiveStart,i=r.directiveEnd,o=r.index,s=h7();try{hi(o);for(let a=n;a<i;a++){let l=t.data[a],c=e[a];Ad(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&yC(l,c)}}finally{hi(-1),Ad(s)}}function yC(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _C(t,e){let r=t.directiveRegistry,n=null,i=null;if(r)for(let o=0;o<r.length;o++){let s=r[o];if(vg(e,s.selectors,!1))if(n||(n=[]),xs(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let l=a.length;zd(t,e,l)}else n.unshift(s),zd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function zd(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function wC(t,e,r){if(e){let n=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=r[e[i+1]];if(o==null)throw new oe(-301,!1);n.push(e[i],o)}}}function bC(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;xs(e)&&(r[""]=t)}}function DC(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function xC(t,e,r,n,i){t.data[n]=i;let o=i.factory||(i.factory=pi(i.type,!0)),s=new vs(o,xs(i),re);t.blueprint[n]=s,r[n]=s,mC(t,e,n,z2(t,r,i.hostVars,wi),i)}function SC(t,e,r){let n=In(e,t),i=W2(r),o=t[cr].rendererFactory,s=16;r.signals?s=4096:r.onPush&&(s=64);let a=kl(t,Pl(t,i,null,s,n,e,null,o.createRenderer(n,r),null,null,null));t[e.index]=a}function EC(t,e,r,n,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];G2(n,r,l,c,u,d)}}function IC(t,e,r){let n=null,i=0;for(;i<r.length;){let o=r[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){n===null&&(n=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],r[i+1]);break}}i+=2}return n}function Z2(t,e,r,n){return[t,!0,0,e,null,n,null,r,null,null]}function X2(t,e){let r=t.contentQueries;if(r!==null){let n=Bt(null);try{for(let i=0;i<r.length;i+=2){let o=r[i],s=r[i+1];if(s!==-1){let a=t.data[s];xf(o),a.contentQueries(2,e[s],s)}}}finally{Bt(n)}}}function kl(t,e){return t[fs]?t[P0][xn]=e:t[fs]=e,t[P0]=e,e}function qd(t,e,r){xf(0);let n=Bt(null);try{e(t,r)}finally{Bt(n)}}function Q2(t){return t[ds]||(t[ds]=[])}function J2(t){return t.cleanup||(t.cleanup=[])}function em(t,e){let r=t[no],n=r?r.get(dr,null):null;n&&n.handleError(e)}function Yf(t,e,r,n,i){for(let o=0;o<r.length;){let s=r[o++],a=r[o++],l=r[o++],c=e[s],u=t.data[s];G2(u,c,n,a,l,i)}}function MC(t,e,r){let n=Ig(e,t);jv(t[Mt],n,r)}function TC(t,e){let r=Ur(e,t),n=r[_e];AC(n,r);let i=r[gr];i!==null&&r[us]===null&&(r[us]=Nf(i,r[no])),Kf(n,r,r[Sn])}function AC(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}function Kf(t,e,r){Sf(e);try{let n=t.viewQuery;n!==null&&qd(1,n,r);let i=t.template;i!==null&&q2(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),e[ur]?.finishViewCreation(t),t.staticContentQueries&&X2(t,e),t.staticViewQueries&&qd(2,t.viewQuery,r);let o=t.components;o!==null&&RC(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[ae]&=-5,Ef()}}function RC(t,e){for(let r=0;r<e.length;r++)TC(t,e[r])}function OC(t,e,r,n){let i=e.tView,s=t[ae]&4096?4096:16,a=Pl(t,i,r,s,null,e,null,null,null,n?.injector??null,n?.dehydratedView??null),l=t[e.index];a[Ds]=l;let c=t[ur];return c!==null&&(a[ur]=c.createEmbeddedView(i)),Kf(i,a,r),a}function K0(t,e){return!e||e.firstChild===null||zg(t)}function NC(t,e,r,n=!0){let i=e[_e];if(Gv(i,e,t,r),n){let s=Gd(r,t),a=e[Mt],l=Bf(a,t[fi]);l!==null&&Hv(i,t[Qt],a,e,l,s)}let o=e[us];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function dl(t,e,r,n,i=!1){for(;r!==null;){let o=e[r.index];o!==null&&n.push($n(o)),mr(o)&&PC(o,n);let s=r.type;if(s&8)dl(t,e,r.child,n);else if(s&32){let a=Uf(r,e),l;for(;l=a();)n.push(l)}else if(s&16){let a=j2(e,r);if(Array.isArray(a))n.push(...a);else{let l=ps(e[En]);dl(l[_e],l,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function PC(t,e){for(let r=Zt;r<t.length;r++){let n=t[r],i=n[_e].firstChild;i!==null&&dl(n[_e],n,i,e)}t[fi]!==t[gr]&&e.push(t[fi])}var tm=[];function kC(t){return t[di]??FC(t)}function FC(t){let e=tm.pop()??Object.create(VC);return e.lView=t,e}function LC(t){t.lView[di]!==t&&(t.lView=null,tm.push(t))}var VC=Z(T({},qp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{hs(t.lView)},consumerOnSignalRead(){this.lView[di]=this}});function nm(t){return im(t[fs])}function rm(t){return im(t[xn])}function im(t){for(;t!==null&&!mr(t);)t=t[xn];return t}var om=100;function sm(t,e=!0,r=0){let n=t[cr],i=n.rendererFactory,o=!1;o||i.begin?.();try{jC(t,r)}catch(s){throw e&&em(t,s),s}finally{o||(i.end?.(),n.inlineEffectRunner?.flush())}}function jC(t,e){Wd(t,e);let r=0;for(;wf(t);){if(r===om)throw new oe(103,!1);r++,Wd(t,1)}}function UC(t,e,r,n){let i=e[ae];if((i&256)===256)return;let o=!1;!o&&e[cr].inlineEffectRunner?.flush(),Sf(e);let s=null,a=null;!o&&BC(t)&&(a=kC(e),s=Wp(a));try{Ag(e),c7(t.bindingStartIndex),r!==null&&q2(t,e,r,2,n);let l=(i&3)===3;if(!o)if(l){let d=t.preOrderCheckHooks;d!==null&&Za(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Xa(e,d,0,null),vd(e,0)}if(HC(e),am(e,0),t.contentQueries!==null&&X2(t,e),!o)if(l){let d=t.contentCheckHooks;d!==null&&Za(e,d)}else{let d=t.contentHooks;d!==null&&Xa(e,d,1),vd(e,1)}iC(t,e);let c=t.components;c!==null&&cm(e,c,0);let u=t.viewQuery;if(u!==null&&qd(2,u,n),!o)if(l){let d=t.viewCheckHooks;d!==null&&Za(e,d)}else{let d=t.viewHooks;d!==null&&Xa(e,d,2),vd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[pd]){for(let d of e[pd])d();e[pd]=null}o||(e[ae]&=-73)}catch(l){throw hs(e),l}finally{a!==null&&(Yp(a,s),LC(a)),Ef()}}function BC(t){return t.type!==2}function am(t,e){for(let r=nm(t);r!==null;r=rm(r))for(let n=Zt;n<r.length;n++){let i=r[n];lm(i,e)}}function HC(t){for(let e=nm(t);e!==null;e=rm(e)){if(!(e[ae]&Cf.HasTransplantedViews))continue;let r=e[ro];for(let n=0;n<r.length;n++){let i=r[n],o=i[At];J9(i)}}}function $C(t,e,r){let n=Ur(e,t);lm(n,r)}function lm(t,e){_f(t)&&Wd(t,e)}function Wd(t,e){let n=t[_e],i=t[ae],o=t[di],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ku(o)),o&&(o.dirty=!1),t[ae]&=-9217,s)UC(n,t,n.template,t[Sn]);else if(i&8192){am(t,1);let a=n.components;a!==null&&cm(t,a,1)}}function cm(t,e,r){for(let n=0;n<e.length;n++)$C(t,e[n],r)}function Zf(t){for(t[cr].changeDetectionScheduler?.notify();t;){t[ae]|=64;let e=ps(t);if(W9(t)&&!e)return t;t=e}return null}var gi=class{get rootNodes(){let e=this._lView,r=e[_e];return dl(r,e,r.firstChild,[])}constructor(e,r,n=!0){this._lView=e,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(e){this._lView[Sn]=e}get destroyed(){return(this._lView[ae]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(mr(e)){let r=e[nl],n=r?r.indexOf(this):-1;n>-1&&($d(e,n),rl(r,n))}this._attachedToViewContainer=!1}k2(this._lView[_e],this._lView)}onDestroy(e){t7(this._lView,e)}markForCheck(){Zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[ae]&=-129}reattach(){Td(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,sm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,N2(this._lView[_e],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=e,Td(this._lView)}},mi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qC;let t=e;return t})(),GC=mi,zC=class extends GC{constructor(e,r,n){super(),this._declarationLView=e,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,n){let i=OC(this._declarationLView,this._declarationTContainer,e,{injector:r,dehydratedView:n});return new gi(i)}};function qC(){return Fl(cn(),ze())}function Fl(t,e){return t.type&4?new zC(e,t,uo(t,e)):null}var CL=new RegExp(`^(\\d+)*(${q7}|${z7})*(.*)`);var WC=()=>null;function Z0(t,e){return WC(t,e)}var Yd=class{},Kd=class{},fl=class{};function YC(t){let e=Error(`No component factory found for ${$t(t)}.`);return e[KC]=t,e}var KC="ngComponent";var Zd=class{resolveComponentFactory(e){throw YC(e)}},po=(()=>{let e=class e{};e.NULL=new Zd;let t=e;return t})(),Cs=class{},Ll=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>ZC();let t=e;return t})();function ZC(){let t=ze(),e=cn(),r=Ur(e.index,t);return(li(r)?r:t)[Mt]}var XC=(()=>{let e=class e{};e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),wd={};function Xf(t){let e=Bt(null);try{return t()}finally{Bt(e)}}function um(t){return JC(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function QC(t,e){if(Array.isArray(t))for(let r=0;r<t.length;r++)e(t[r]);else{let r=t[Symbol.iterator](),n;for(;!(n=r.next()).done;)e(n.value)}}function JC(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Xd=class{constructor(){}supports(e){return um(e)}create(e){return new Qd(e)}},ey=(t,e)=>e,Qd=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ey}forEachItem(e){let r;for(r=this._itHead;r!==null;r=r._next)e(r)}forEachOperation(e){let r=this._itHead,n=this._removalsHead,i=0,o=null;for(;r||n;){let s=!n||r&&r.currentIndex<X0(n,i,o)?r:n,a=X0(s,i,o),l=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(r=r._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,g=h+f;u<=g&&g<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)e(r)}forEachMovedItem(e){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)e(r)}forEachIdentityChange(e){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)e(r)}diff(e){if(e==null&&(e=[]),!um(e))throw new oe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r=this._itHead,n=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,o,s,a),n=!0):(n&&(r=this._verifyReinsertion(r,o,s,a)),Object.is(r.item,o)||this._addIdentityChange(r,o)),r=r._next}else i=0,QC(e,a=>{s=this._trackByFn(i,a),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,a,s,i),n=!0):(n&&(r=this._verifyReinsertion(r,a,s,i)),Object.is(r.item,a)||this._addIdentityChange(r,a)),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,r,n,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,i),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._moveAfter(e,o,i)):e=this._addAfter(new Jd(r,n),o,i)),e}_verifyReinsertion(e,r,n,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let r=e._next;this._addToRemovals(this._unlink(e)),e=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,r,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,r,n),this._addToMoves(e,n),e}_moveAfter(e,r,n){return this._unlink(e),this._insertAfter(e,r,n),this._addToMoves(e,n),e}_addAfter(e,r,n){return this._insertAfter(e,r,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,r,n){let i=r===null?this._itHead:r._next;return e._next=i,e._prev=r,i===null?this._itTail=e:i._prev=e,r===null?this._itHead=e:r._next=e,this._linkedRecords===null&&(this._linkedRecords=new hl),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let r=e._prev,n=e._next;return r===null?this._itHead=n:r._next=n,n===null?this._itTail=r:n._prev=r,e}_addToMoves(e,r){return e.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new hl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,r){return e.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Jd=class{constructor(e,r){this.item=e,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ef=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,r){let n;for(n=this._head;n!==null;n=n._nextDup)if((r===null||r<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let r=e._prevDup,n=e._nextDup;return r===null?this._head=n:r._nextDup=n,n===null?this._tail=r:n._prevDup=r,this._head===null}},hl=class{constructor(){this.map=new Map}put(e){let r=e.trackById,n=this.map.get(r);n||(n=new ef,this.map.set(r,n)),n.add(e)}get(e,r){let n=e,i=this.map.get(n);return i?i.get(e,r):null}remove(e){let r=e.trackById;return this.map.get(r).remove(e)&&this.map.delete(r),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function X0(t,e,r){let n=t.previousIndex;if(n===null)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+e+i}function Q0(){return new Qf([new Xd])}var Qf=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,i){if(i!=null){let o=i.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Q0()),deps:[[e,new r2,new Pf]]}}find(n){let i=this.factories.find(o=>o.supports(n));if(i!=null)return i;throw new oe(901,!1)}};e.\u0275prov=ue({token:e,providedIn:"root",factory:Q0});let t=e;return t})();var Es=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ty;let t=e;return t})();function ty(t){return ny(cn(),ze(),(t&16)===16)}function ny(t,e,r){if(_l(t)&&!r){let n=Ur(t.index,e);return new gi(n,n)}else if(t.type&47){let n=e[En];return new gi(n,e)}return null}var J0=new Set;function dm(t){J0.has(t)||(J0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function eg(...t){}function ry(){let t=typeof ar.requestAnimationFrame=="function",e=ar[t?"requestAnimationFrame":"setTimeout"],r=ar[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&r){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:r}}var Dt=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sn(!1),this.onMicrotaskEmpty=new sn(!1),this.onStable=new sn(!1),this.onError=new sn(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=ry().nativeRequestAnimationFrame,sy(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new oe(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,iy,eg,eg);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}},iy={};function Jf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oy(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ar,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tf(t),t.isCheckStableRunning=!0,Jf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tf(t))}function sy(t){let e=()=>{oy(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,s,a)=>{if(ay(a))return r.invokeTask(i,o,s,a);try{return tg(t),r.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ng(t)}},onInvoke:(r,n,i,o,s,a,l)=>{try{return tg(t),r.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),ng(t)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,tf(t),Jf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function tf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function tg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ng(t){t._nesting--,Jf(t)}function ay(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var fm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function pl(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=M0(i,a);else if(o==2){let l=a,c=e[++s];n=M0(n,l+": "+c+";")}}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}var gl=class extends po{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let r=ui(e);return new ys(r,this.ngModule)}};function rg(t){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let n=t[r];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:r})}return e}function ly(t){let e=t.toLowerCase();return e==="svg"?Eg:e==="math"?Y9:null}var nf=class{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=El(n);let i=this.injector.get(e,wd,n);return i!==wd||r===wd?i:this.parentInjector.get(e,r,n)}},ys=class extends fl{get inputs(){let e=this.componentDef,r=e.inputTransforms,n=rg(e.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return rg(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=H9(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){i=i||this.ngModule;let o=i instanceof ln?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new nf(e,o):e,a=s.get(Cs,null);if(a===null)throw new oe(407,!1);let l=s.get(XC,null),c=s.get(fm,null),u=s.get(Yd,null),d={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:c,changeDetectionScheduler:u},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=n?aC(f,n,this.componentDef.encapsulation,s):O2(f,h,ly(h)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let _=null;g!==null&&(_=Nf(g,s,!0));let D=qf(0,null,null,1,0,null,null,null,null,null,null),I=Pl(null,D,null,v,null,null,d,f,s,null,_);Sf(I);let M,R;try{let V=this.componentDef,E,U=null;V.findHostDirectiveDefs?(E=[],U=new Map,V.findHostDirectiveDefs(V,E,U),E.push(V)):E=[V];let O=cy(I,g),z=uy(O,g,V,E,I,d,f);R=Mg(D,Xt),g&&hy(f,V,g,n),r!==void 0&&py(R,this.ngContentSelectors,r),M=fy(z,V,E,U,I,[gy]),Kf(D,I,null)}finally{Ef()}return new rf(this.componentType,M,uo(R,I),I,R)}},rf=class extends Kd{constructor(e,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new gi(i,void 0,!1),this.componentType=e}setInput(e,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;let o=this._rootLView;Yf(o[_e],o,i,e,r),this.previousInputValues.set(e,r);let s=Ur(this._tNode.index,o);Zf(s)}}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cy(t,e){let r=t[_e],n=Xt;return t[n]=e,ho(r,n,2,"#host",null)}function uy(t,e,r,n,i,o,s){let a=i[_e];dy(n,t,e,s);let l=null;e!==null&&(l=Nf(e,i[no]));let c=o.rendererFactory.createRenderer(e,r),u=16;r.signals?u=4096:r.onPush&&(u=64);let d=Pl(i,W2(r),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&zd(a,t,n.length-1),kl(i,d),i[t.index]=d}function dy(t,e,r,n){for(let i of t)e.mergedAttrs=vf(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(pl(e,e.mergedAttrs,!0),r!==null&&H2(n,r,e))}function fy(t,e,r,n,i,o){let s=cn(),a=i[_e],l=In(s,i);Y2(a,i,s,r,null,n);for(let u=0;u<r.length;u++){let d=s.directiveStart+u,f=so(i,a,d,s);Lr(f,i)}K2(a,i,s),l&&Lr(l,i);let c=so(i,a,s.directiveStart+s.componentOffset,s);if(t[Sn]=i[Sn]=c,o!==null)for(let u of o)u(c,e);return $f(a,s,t),c}function hy(t,e,r,n){if(n)Md(t,r,["ng-version","17.2.1"]);else{let{attrs:i,classes:o}=$9(e.selectors[0]);i&&Md(t,r,i),o&&o.length>0&&B2(t,r,o.join(" "))}}function py(t,e,r){let n=t.projection=[];for(let i=0;i<e.length;i++){let o=r[i];n.push(o!=null?Array.from(o):null)}}function gy(){let t=cn();Tl(ze()[_e],t)}var Tn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=my;let t=e;return t})();function my(){let t=cn();return pm(t,ze())}var vy=Tn,hm=class extends vy{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new ci(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lf(this._hostTNode,this._hostLView);if(p2(e)){let r=al(e,this._hostLView),n=sl(e),i=r[_e].data[n+8];return new ci(i,r)}else return new ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let r=ig(this._lContainer);return r!==null&&r[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,r,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=Z0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(r||{},o,s);return this.insertImpl(a,i,K0(this._hostTNode,s)),a}createComponent(e,r,n,i,o){let s=e&&!sv(e),a;if(s)a=r;else{let g=r||{};a=g.index,n=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?e:new ys(ui(e)),c=n||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(ln,null);v&&(o=v)}let u=ui(l.componentType??{}),d=Z0(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,K0(this._hostTNode,d)),h}insert(e,r){return this.insertImpl(e,r,!0)}insertImpl(e,r,n){let i=e._lView;if(Q9(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[At],c=new hm(l,l[Qt],l[At]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(r),s=this._lContainer;return NC(s,i,o,n),e.attachToViewContainerRef(),Gg(bd(s),o,e),e}move(e,r){return this.insert(e,r)}indexOf(e){let r=ig(this._lContainer);return r!==null?r.indexOf(e):-1}remove(e){let r=this._adjustIndex(e,-1),n=$d(this._lContainer,r);n&&(rl(bd(this._lContainer),r),k2(n[_e],n))}detach(e){let r=this._adjustIndex(e,-1),n=$d(this._lContainer,r);return n&&rl(bd(this._lContainer),r)!=null?new gi(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function ig(t){return t[nl]}function bd(t){return t[nl]||(t[nl]=[])}function pm(t,e){let r,n=e[t.index];return mr(n)?r=n:(r=Z2(n,e,null,t),e[t.index]=r,kl(e,r)),yy(r,e,t,n),new hm(r,t,e)}function Cy(t,e){let r=t[Mt],n=r.createComment(""),i=In(e,t),o=Bf(r,i);return ul(r,o,n,Zv(r,i),!1),n}var yy=by,_y=()=>!1;function wy(t,e,r){return _y(t,e,r)}function by(t,e,r,n){if(t[fi])return;let i;r.type&8?i=$n(n):i=Cy(e,r),t[fi]=i}var of=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},sf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let r=e.queries;if(r!==null){let n=e.contentQueries!==null?e.contentQueries[0]:r.length,i=[];for(let o=0;o<n;o++){let s=r.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let r=0;r<this.queries.length;r++)eh(e,r).matches!==null&&this.queries[r].setDirty()}},af=class{constructor(e,r,n=null){this.flags=r,this.read=n,typeof e=="string"?this.predicate=Ay(e):this.predicate=e}},lf=class t{constructor(e=[]){this.queries=e}elementStart(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,r)}elementEnd(e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(e)}embeddedTView(e){let r=null;for(let n=0;n<this.length;n++){let i=r!==null?r.length:0,o=this.getByIndex(n).embeddedTView(e,i);o&&(o.indexInDeclarationView=n,r!==null?r.push(o):r=[o])}return r!==null?new t(r):null}template(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,r)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},cf=class t{constructor(e,r=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(e,r){this.isApplyingToNode(r)&&this.matchTNode(e,r)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,r){this.elementStart(e,r)}embeddedTView(e,r){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,r),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,r){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(e,r,Dy(r,o)),this.matchTNodeWithReadOption(e,r,Qa(r,e,o,!1,!1))}else n===mi?r.type&4&&this.matchTNodeWithReadOption(e,r,-1):this.matchTNodeWithReadOption(e,r,Qa(r,e,n,!1,!1))}matchTNodeWithReadOption(e,r,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===Gn||i===Tn||i===mi&&r.type&4)this.addMatch(r.index,-2);else{let o=Qa(r,e,i,!1,!1);o!==null&&this.addMatch(r.index,o)}else this.addMatch(r.index,n)}}addMatch(e,r){this.matches===null?this.matches=[e,r]:this.matches.push(e,r)}};function Dy(t,e){let r=t.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1]}return null}function xy(t,e){return t.type&11?uo(t,e):t.type&4?Fl(t,e):null}function Sy(t,e,r,n){return r===-1?xy(e,t):r===-2?Ey(t,e,n):so(t,t[_e],r,e)}function Ey(t,e,r){if(r===Gn)return uo(e,t);if(r===mi)return Fl(e,t);if(r===Tn)return pm(e,t)}function gm(t,e,r,n){let i=e[ur].queries[n];if(i.matches===null){let o=t.data,s=r.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(Sy(e,u,s[l+1],r.metadata.read))}}i.matches=a}return i.matches}function uf(t,e,r,n){let i=t.queries.getByIndex(r),o=i.matches;if(o!==null){let s=gm(t,e,i,r);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=Zt;d<u.length;d++){let f=u[d];f[Ds]===f[At]&&uf(f[_e],f,c,n)}if(u[ro]!==null){let d=u[ro];for(let f=0;f<d.length;f++){let h=d[f];uf(h[_e],h,c,n)}}}}}return n}function Iy(t,e){return t[ur].queries[e].queryList}function My(t,e,r){let n=new Rd((r&4)===4);return uC(t,e,n,n.destroy),(e[ur]??=new sf).queries.push(new of(n))-1}function Ty(t,e,r){let n=Kt();return n.firstCreatePass&&(Ry(n,new af(t,e,r),-1),(e&2)===2&&(n.staticViewQueries=!0)),My(n,ze(),e)}function Ay(t){return t.split(",").map(e=>e.trim())}function Ry(t,e,r){t.queries===null&&(t.queries=new lf),t.queries.track(new cf(e,r))}function eh(t,e){return t.queries.getByIndex(e)}function Oy(t,e){let r=t[_e],n=eh(r,e);return n.crossesNgTemplate?uf(r,t,e,[]):gm(r,t,n,e)}var Vr=class{},_s=class{};var df=class extends Vr{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gl(this);let i=wg(e);this._bootstrapComponents=R2(i.bootstrap),this._r3Injector=x2(e,r,[{provide:Vr,useValue:this},{provide:po,useValue:this.componentFactoryResolver},...n],$t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ff=class extends _s{constructor(e){super(),this.moduleType=e}create(e){return new df(this.moduleType,e,[])}};var ml=class extends Vr{constructor(e){super(),this.componentFactoryResolver=new gl(this),this.instance=null;let r=new ms([...e.providers,{provide:Vr,useValue:this},{provide:po,useValue:this.componentFactoryResolver}],e.parent||Ff(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function th(t,e,r=null){return new ml({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}var Vl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ny(t,e,r){return t[e]=r}function jl(t,e,r){let n=t[e];return Object.is(n,r)?!1:(t[e]=r,!0)}function Py(t,e,r,n,i,o,s,a,l){let c=e.consts,u=ho(e,t,4,s||null,io(c,a));Wf(e,r,u,io(c,l)),Tl(e,u);let d=u.tView=qf(2,u,n,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function J(t,e,r,n,i,o,s,a){let l=ze(),c=Kt(),u=t+Xt,d=c.firstCreatePass?Py(u,c,l,e,r,n,i,o,s):c.data[u];Ci(d,!1);let f=ky(c,l,d,t);bl()&&Ol(c,l,f,d),Lr(f,l);let h=Z2(f,l,f,d);return l[u]=h,kl(l,h),wy(h,d,l),wl(d)&&Gf(c,l,d),s!=null&&zf(l,d,a),J}var ky=Fy;function Fy(t,e,r,n){return Dl(!0),e[Mt].createComment("")}function Ly(t,e,r,n){return jl(t,kg(),r)?e+Rf(r)+n:wi}function Ya(t,e){return t<<17|e<<2}function vi(t){return t>>17&32767}function Vy(t){return(t&2)==2}function jy(t,e){return t&131071|e<<17}function hf(t){return t|2}function ao(t){return(t&131068)>>2}function Dd(t,e){return t&-131069|e<<2}function Uy(t){return(t&1)===1}function pf(t){return t|1}function By(t,e,r,n,i,o){let s=o?e.classBindings:e.styleBindings,a=vi(s),l=ao(s);t[n]=r;let c=!1,u;if(Array.isArray(r)){let d=r;u=d[1],(u===null||Ss(d,u)>0)&&(c=!0)}else u=r;if(i)if(l!==0){let f=vi(t[a+1]);t[n+1]=Ya(f,a),f!==0&&(t[f+1]=Dd(t[f+1],n)),t[a+1]=jy(t[a+1],n)}else t[n+1]=Ya(a,0),a!==0&&(t[a+1]=Dd(t[a+1],n)),a=n;else t[n+1]=Ya(l,0),a===0?a=n:t[l+1]=Dd(t[l+1],n),l=n;c&&(t[n+1]=hf(t[n+1])),og(t,u,n,!0),og(t,u,n,!1),Hy(e,u,t,n,o),s=Ya(a,l),o?e.classBindings=s:e.styleBindings=s}function Hy(t,e,r,n,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ss(o,e)>=0&&(r[n+1]=pf(r[n+1]))}function og(t,e,r,n){let i=t[r+1],o=e===null,s=n?vi(i):ao(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];$y(l,e)&&(a=!0,t[s+1]=n?pf(c):hf(c)),s=n?vi(c):ao(c)}a&&(t[r+1]=n?hf(i):pf(i))}function $y(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ss(t,e)>=0:!1}function k(t,e,r){let n=ze(),i=kg();if(jl(n,i,e)){let o=Kt(),s=v7();pC(o,s,n,t,e,n[Mt],r,!1)}return k}function sg(t,e,r,n,i){let o=e.inputs,s=i?"class":"style";Yf(t,r,o[s],s,n)}function Ul(t,e,r){return mm(t,e,r,!1),Ul}function An(t,e){return mm(t,e,null,!0),An}function mm(t,e,r,n){let i=ze(),o=Kt(),s=u7(2);if(o.firstUpdatePass&&zy(o,t,s,n),e!==wi&&jl(i,s,e)){let a=o.data[co()];Zy(o,a,i,i[Mt],t,i[s+1]=Xy(e,r),n,s)}}function Gy(t,e){return e>=t.expandoStartIndex}function zy(t,e,r,n){let i=t.data;if(i[r+1]===null){let o=i[co()],s=Gy(t,r);Qy(o,n)&&e===null&&!s&&(e=!1),e=qy(i,o,e,n),By(i,o,e,r,s,n)}}function qy(t,e,r,n){let i=p7(t),o=n?e.residualClasses:e.residualStyles;if(i===null)(n?e.classBindings:e.styleBindings)===0&&(r=xd(null,t,e,r,n),r=ws(r,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(r=xd(i,t,e,r,n),o===null){let l=Wy(t,e,n);l!==void 0&&Array.isArray(l)&&(l=xd(null,t,e,l[1],n),l=ws(l,e.attrs,n),Yy(t,e,n,l))}else o=Ky(t,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),r}function Wy(t,e,r){let n=r?e.classBindings:e.styleBindings;if(ao(n)!==0)return t[vi(n)]}function Yy(t,e,r,n){let i=r?e.classBindings:e.styleBindings;t[vi(i)]=n}function Ky(t,e,r){let n,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;n=ws(n,s,r)}return ws(n,e.attrs,r)}function xd(t,e,r,n,i){let o=null,s=r.directiveEnd,a=r.directiveStylingLast;for(a===-1?a=r.directiveStart:a++;a<s&&(o=e[a],n=ws(n,o.hostAttrs,i),o!==t);)a++;return t!==null&&(r.directiveStylingLast=a),n}function ws(t,e,r){let n=r?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),E7(t,s,r?!0:e[++o]))}return t===void 0?null:t}function Zy(t,e,r,n,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=Uy(c)?ag(l,e,r,i,ao(c),s):void 0;if(!vl(u)){vl(o)||Vy(c)&&(o=ag(l,null,r,i,a,s));let d=Ig(co(),r);nC(n,s,d,i,o)}}function ag(t,e,r,n,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=r[i+1];f===wi&&(f=d?Dn:void 0);let h=d?gd(f,n):u===n?f:void 0;if(c&&!vl(h)&&(h=gd(l,n)),vl(h)&&(a=h,s))return a;let g=t[i+1];i=s?vi(g):ao(g)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=gd(l,n))}return a}function vl(t){return t!==void 0}function Xy(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=$t(Al(t)))),t}function Qy(t,e){return(t.flags&(e?8:16))!==0}function Jy(t,e,r,n,i,o){let s=e.consts,a=io(s,i),l=ho(e,t,2,n,a);return Wf(e,r,l,io(s,o)),l.attrs!==null&&pl(l,l.attrs,!1),l.mergedAttrs!==null&&pl(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function b(t,e,r,n){let i=ze(),o=Kt(),s=Xt+t,a=i[Mt],l=o.firstCreatePass?Jy(s,o,i,e,r,n):o.data[s],c=e_(o,i,l,a,e,t);i[s]=c;let u=wl(l);return Ci(l,!0),H2(a,c,l),(l.flags&32)!==32&&bl()&&Ol(o,i,c,l),n7()===0&&Lr(c,i),r7(),u&&(Gf(o,i,l),$f(o,l,i)),n!==null&&zf(i,l),b}function S(){let t=cn();bf()?Df():(t=t.parent,Ci(t,!1));let e=t;o7(e)&&s7(),i7();let r=Kt();return r.firstCreatePass&&(Tl(r,t),yf(t)&&r.queries.elementEnd(t)),e.classesWithoutHost!=null&&hv(e)&&sg(r,e,ze(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pv(e)&&sg(r,e,ze(),e.stylesWithoutHost,!1),S}function B(t,e,r,n){return b(t,e,r,n),S(),B}var e_=(t,e,r,n,i,o)=>(Dl(!0),O2(n,i,y7()));function t_(t,e,r,n,i){let o=e.consts,s=io(o,n),a=ho(e,t,8,"ng-container",s);s!==null&&pl(a,s,!0);let l=io(o,i);return Wf(e,r,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Xe(t,e,r){let n=ze(),i=Kt(),o=t+Xt,s=i.firstCreatePass?t_(o,i,n,e,r):i.data[o];Ci(s,!0);let a=n_(i,n,s,t);return n[o]=a,bl()&&Ol(i,n,a,s),Lr(a,n),wl(s)&&(Gf(i,n,s),$f(i,s,n)),r!=null&&zf(n,s),Xe}function Qe(){let t=cn(),e=Kt();return bf()?Df():(t=t.parent,Ci(t,!1)),e.firstCreatePass&&(Tl(e,t),yf(t)&&e.queries.elementEnd(t)),Qe}function Oe(t,e,r){return Xe(t,e,r),Qe(),Oe}var n_=(t,e,r,n)=>(Dl(!0),Uv(e[Mt],""));function qe(){return ze()}var ai=void 0;function r_(t){let e=t,r=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return r===1&&n===0?1:5}var i_=["en",[["a","p"],["AM","PM"],ai],[["AM","PM"],ai,ai],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ai,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ai,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ai,"{1} 'at' {0}",ai],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",r_],Sd={};function nh(t){let e=o_(t),r=lg(e);if(r)return r;let n=e.split("-")[0];if(r=lg(n),r)return r;if(n==="en")return i_;throw new oe(701,!1)}function lg(t){return t in Sd||(Sd[t]=ar.ng&&ar.ng.common&&ar.ng.common.locales&&ar.ng.common.locales[t]),Sd[t]}var go=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(go||{});function o_(t){return t.toLowerCase().replace(/_/g,"-")}var Cl="en-US";var s_=Cl;function a_(t){typeof t=="string"&&(s_=t.toLowerCase().replace(/_/g,"-"))}function W(t,e,r,n){let i=ze(),o=Kt(),s=cn();return c_(o,i,i[Mt],s,t,e,n),W}function l_(t,e,r,n){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===r&&i[o+1]===n){let a=e[ds],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function c_(t,e,r,n,i,o,s){let a=wl(n),c=t.firstCreatePass&&J2(t),u=e[Sn],d=Q2(e),f=!0;if(n.type&3||s){let v=In(n,e),_=s?s(v):v,D=d.length,I=s?R=>s($n(R[n.index])):n.index,M=null;if(!s&&a&&(M=l_(t,e,i,n.index)),M!==null){let R=M.__ngLastListenerFn__||M;R.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,f=!1}else{o=ug(n,e,u,o,!1);let R=r.listen(_,i,o);d.push(o,R),c&&c.push(i,I,D,D+1)}}else o=ug(n,e,u,o,!1);let h=n.outputs,g;if(f&&h!==null&&(g=h[i])){let v=g.length;if(v)for(let _=0;_<v;_+=2){let D=g[_],I=g[_+1],V=e[D][I].subscribe(o),E=d.length;if(d.push(o,V),c){let U=typeof V=="function"?E+1:-(E+1);c.push(i,n.index,E,U)}}}}function cg(t,e,r,n){try{return Un(6,e,r),r(n)!==!1}catch(i){return em(t,i),!1}finally{Un(7,e,r)}}function ug(t,e,r,n,i){return function o(s){if(s===Function)return n;let a=t.componentOffset>-1?Ur(t.index,e):e;Zf(a);let l=cg(e,r,n,s),c=o.__ngNextListenerFn__;for(;c;)l=cg(e,r,c,s)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&s.preventDefault(),l}}function N(t=1){return m7(t)}function u_(t,e){let r=null,n=L9(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){r=i;continue}if(n===null?vg(t,o,!0):U9(n,o))return i}return r}function vm(t){let e=ze()[En][Qt];if(!e.projection){let r=t?t.length:1,n=e.projection=x7(r,null),i=n.slice(),o=e.child;for(;o!==null;){let s=t?u_(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:n[s]=o,i[s]=o),o=o.next}}}function Cm(t,e=0,r){let n=ze(),i=Kt(),o=ho(i,Xt+t,16,null,r||null);o.projection===null&&(o.projection=e),Df(),(!n[us]||Og())&&(o.flags&32)!==32&&eC(i,n,o)}function vr(t,e,r){Ty(t,e,r)}function zn(t){let e=ze(),r=Kt(),n=Fg();xf(n+1);let i=eh(r,n);if(t.dirty&&X9(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Oy(e,n);t.reset(o,w7),t.notifyOnChanges()}return!0}return!1}function qn(){return Iy(ze(),Fg())}function d_(t,e,r,n){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}function ve(t){let e=l7();return Tg(e,Xt+t)}function G(t,e=""){let r=ze(),n=Kt(),i=t+Xt,o=n.firstCreatePass?ho(n,i,1,e,null):n.data[i],s=f_(n,r,o,e,t);r[i]=s,bl()&&Ol(n,r,s,o),Ci(o,!1)}var f_=(t,e,r,n,i)=>(Dl(!0),Vv(e[Mt],n));function un(t){return Wn("",t,""),un}function Wn(t,e,r){let n=ze(),i=Ly(n,t,e,r);return i!==wi&&MC(n,co(),i),Wn}var h_=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=s2(!1,n.type),o=i.length>0?th([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ue({token:e,providedIn:"environment",factory:()=>new e(Pe(ln))});let t=e;return t})();function fe(t){dm("NgStandalone"),t.getStandaloneInjector=e=>e.get(h_).getOrCreateStandaloneInjector(t)}function ym(t,e,r,n){return _m(ze(),Pg(),t,e,r,n)}function p_(t,e){let r=t[e];return r===wi?void 0:r}function _m(t,e,r,n,i,o){let s=e+r;return jl(t,s,i)?Ny(t,s+1,o?n.call(o,i):n(i)):p_(t,s+1)}function Ue(t,e){let r=Kt(),n,i=t+Xt;r.firstCreatePass?(n=g_(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];let o=n.factory||(n.factory=pi(n.type,!0)),s,a=Yt(re);try{let l=ll(!1),c=o();return ll(l),d_(r,ze(),i,c),c}finally{Yt(a)}}function g_(t,e){if(e)for(let r=e.length-1;r>=0;r--){let n=e[r];if(t===n.name)return n}}function Be(t,e,r){let n=t+Xt,i=ze(),o=Tg(i,n);return m_(i,n)?_m(i,Pg(),e,o.transform,r,o):o.transform(r)}function m_(t,e){return t[_e].data[e].pure}function Ie(t,e){return Fl(t,e)}var Bl=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var wm=new Re("");function mo(t){return!!t&&typeof t.then=="function"}function rh(t){return!!t&&typeof t.subscribe=="function"}var Hl=new Re(""),bm=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=te(Hl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(mo(s))n.push(s);else if(rh(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),n.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ih=new Re("");function v_(){Zp(()=>{throw new oe(600,!1)})}function C_(t){return t.isBoundToModule}function y_(t,e,r){try{let n=r();return mo(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}var bi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=te(S2),this.afterRenderEffectManager=te(fm),this.componentTypes=[],this.components=[],this.isStable=te(Vl).hasPendingTasks.pipe(ie(n=>!n)),this._injector=te(ln)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let o=n instanceof fl;if(!this._injector.get(bm).done){let h=!o&&_g(n),g=!1;throw new oe(405,g)}let a;o?a=n:a=this._injector.get(po).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=C_(a)?void 0:this._injector.get(Vr),c=i||a.selector,u=a.create(_i.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(wm,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ed(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let n=0;do{if(n===om)throw new oe(103,!1);let i=n===0;for(let{_lView:o,notifyErrorHandler:s}of this._views)!i&&!dg(o)||this.detectChangesInView(o,s,i);this.afterRenderEffectManager.execute(),n++}while(this._views.some(({_lView:i})=>dg(i)))}detectChangesInView(n,i,o){let s;o?(s=0,n[ae]|=1024):n[ae]&64?s=0:s=1,sm(n,i,s)}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Ed(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(ih,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ed(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new oe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ed(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function dg(t){return wf(t)}var gf=class{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}},oh=(()=>{let e=class e{compileModuleSync(n){return new ff(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),o=wg(n),s=R2(o.declarations).reduce((a,l)=>{let c=ui(l);return c&&a.push(new ys(c)),a},[]);return new gf(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var __=(()=>{let e=class e{constructor(){this.zone=te(Dt),this.applicationRef=te(bi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function w_(t){return[{provide:Dt,useFactory:t},{provide:oo,multi:!0,useFactory:()=>{let e=te(__,{optional:!0});return()=>e.initialize()}},{provide:oo,multi:!0,useFactory:()=>{let e=te(S_);return()=>{e.initialize()}}},{provide:S2,useFactory:b_}]}function b_(){let t=te(Dt),e=te(dr);return r=>t.runOutsideAngular(()=>e.handleError(r))}function D_(t){let e=w_(()=>new Dt(x_(t)));return Il([[],e])}function x_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var S_=(()=>{let e=class e{constructor(){this.subscription=new vt,this.initialized=!1,this.zone=te(Dt),this.pendingTasks=te(Vl)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Dt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Dt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function E_(){return typeof $localize<"u"&&$localize.locale||Cl}var $l=new Re("",{providedIn:"root",factory:()=>te($l,xe.Optional|xe.SkipSelf)||E_()});var Dm=new Re("");var el=null;function I_(t=[],e){return _i.create({name:e,providers:[{provide:Ml,useValue:"platform"},{provide:Dm,useValue:new Set([()=>el=null])},...t]})}function M_(t=[]){if(el)return el;let e=I_(t);return el=e,v_(),T_(e),e}function T_(t){t.get(Tf,null)?.forEach(r=>r())}function xm(t){try{let{rootComponent:e,appProviders:r,platformProviders:n}=t,i=M_(n),o=[D_(),...r||[]],a=new ml({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Dt);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(dr,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(Dm);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),y_(c,l,()=>{let h=a.get(bm);return h.runInitializers(),h.donePromise.then(()=>{let g=a.get($l,Cl);a_(g||Cl);let v=a.get(bi);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}var Om=null;function Co(){return Om}function Nm(t){Om??=t}var Gl=class{};var dn=new Re(""),Pm=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:()=>te(N_),providedIn:"platform"});let t=e;return t})();var N_=(()=>{let e=class e extends Pm{constructor(){super(),this._doc=te(dn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Co().getBaseHref(this._doc)}onPopState(n){let i=Co().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Co().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function km(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function Sm(t){let e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function Di(t){return t&&t[0]!=="?"?"?"+t:t}var Wl=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:()=>te(Fm),providedIn:"root"});let t=e;return t})(),P_=new Re(""),Fm=(()=>{let e=class e extends Wl{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??te(dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return km(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Di(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+Di(s));this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+Di(s));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(Pe(Pm),Pe(P_,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ms=(()=>{let e=class e{constructor(n){this._subject=new sn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=L_(Sm(Em(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Di(i))}normalize(n){return e.stripTrailingSlash(F_(this._basePath,Em(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Di(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Di(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}};e.normalizeQueryParams=Di,e.joinWithSlash=km,e.stripTrailingSlash=Sm,e.\u0275fac=function(i){return new(i||e)(Pe(Wl))},e.\u0275prov=ue({token:e,factory:()=>k_(),providedIn:"root"});let t=e;return t})();function k_(){return new Ms(Pe(Wl))}function F_(t,e){if(!t||!e.startsWith(t))return e;let r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function Em(t){return t.replace(/\/index.html$/,"")}function L_(t){if(new RegExp("^(https?:)?//").test(t)){let[,r]=t.split(/\/\/[^\/]+/);return r}return t}var Lm=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Lm||{});var Rn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Rn||{});function vo(t,e){let r=nh(t),n=r[go.NumberSymbols][e];if(typeof n>"u"){if(e===Rn.CurrencyDecimal)return r[go.NumberSymbols][Rn.Decimal];if(e===Rn.CurrencyGroup)return r[go.NumberSymbols][Rn.Group]}return n}function V_(t,e){return nh(t)[go.NumberFormats][e]}var j_=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Im=22,zl=".",Is="0",U_=";",B_=",",sh="#";var H_="%";function $_(t,e,r,n,i,o,s=!1){let a="",l=!1;if(!isFinite(t))a=vo(r,Rn.Infinity);else{let c=W_(t);s&&(c=q_(c));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(o){let I=o.match(j_);if(I===null)throw new Error(`${o} is not a valid digit info`);let M=I[1],R=I[3],V=I[5];M!=null&&(u=ah(M)),R!=null&&(d=ah(R)),V!=null?f=ah(V):R!=null&&d>f&&(f=d)}Y_(c,d,f);let h=c.digits,g=c.integerLen,v=c.exponent,_=[];for(l=h.every(I=>!I);g<u;g++)h.unshift(0);for(;g<0;g++)h.unshift(0);g>0?_=h.splice(g,h.length):(_=h,h=[0]);let D=[];for(h.length>=e.lgSize&&D.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)D.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&D.unshift(h.join("")),a=D.join(vo(r,n)),_.length&&(a+=vo(r,i)+_.join("")),v&&(a+=vo(r,Rn.Exponential)+"+"+v)}return t<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function G_(t,e,r){let n=V_(e,Lm.Percent),i=z_(n,vo(e,Rn.MinusSign));return $_(t,i,e,Rn.Group,Rn.Decimal,r,!0).replace(new RegExp(H_,"g"),vo(e,Rn.PercentSign))}function z_(t,e="-"){let r={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(U_),i=n[0],o=n[1],s=i.indexOf(zl)!==-1?i.split(zl):[i.substring(0,i.lastIndexOf(Is)+1),i.substring(i.lastIndexOf(Is)+1)],a=s[0],l=s[1]||"";r.posPre=a.substring(0,a.indexOf(sh));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Is?r.minFrac=r.maxFrac=u+1:d===sh?r.maxFrac=u+1:r.posSuf+=d}let c=a.split(B_);if(r.gSize=c[1]?c[1].length:0,r.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-r.posPre.length-r.posSuf.length,d=o.indexOf(sh);r.negPre=o.substring(0,d).replace(/'/g,""),r.negSuf=o.slice(d+u).replace(/'/g,"")}else r.negPre=e+r.posPre,r.negSuf=r.posSuf;return r}function q_(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function W_(t){let e=Math.abs(t)+"",r=0,n,i,o,s,a;for((i=e.indexOf(zl))>-1&&(e=e.replace(zl,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Is;o++);if(o===(a=e.length))n=[0],i=1;else{for(a--;e.charAt(a)===Is;)a--;for(i-=o,n=[],s=0;o<=a;o++,s++)n[s]=Number(e.charAt(o))}return i>Im&&(n=n.splice(0,Im-1),r=i-1,i=1),{digits:n,exponent:r,integerLen:i}}function Y_(t,e,r){if(e>r)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${r}).`);let n=t.digits,i=n.length-t.integerLen,o=Math.min(Math.max(e,i),r),s=o+t.integerLen,a=n[s];if(s>0){n.splice(Math.max(t.integerLen,s));for(let d=s;d<n.length;d++)n[d]=0}else{i=Math.max(0,i),t.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let d=1;d<s;d++)n[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[s-1]++;for(;i<Math.max(0,o);i++)n.push(0);let l=o!==0,c=e+t.integerLen,u=n.reduceRight(function(d,f,h,g){return f=f+d,g[h]=f<10?f:f-10,l&&(g[h]===0&&h>=c?g.pop():l=!1),f>=10?1:0},0);u&&(n.unshift(u),t.integerLen++)}function ah(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Vm(t,e){e=encodeURIComponent(e);for(let r of t.split(";")){let n=r.indexOf("="),[i,o]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var lh=/\s+/,Mm=[],jm=(()=>{let e=class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=Mm,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(lh):Mm}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(lh):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(lh).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(re(Gn),re(Ll))},e.\u0275dir=hr({type:e,selectors:[["","ngClass",""]],inputs:{klass:[lr.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var ch=class{constructor(e,r,n,i){this.$implicit=e,this.ngForOf=r,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yo=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new ch(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let l=i.get(s);i.move(l,a),Tm(l,o)}});for(let o=0,s=i.length;o<s;o++){let l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Tm(s,o)})}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(re(Tn),re(mi),re(Qf))},e.\u0275dir=hr({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Tm(t,e){t.context.$implicit=e.item}var ut=(()=>{let e=class e{constructor(n,i){this._viewContainer=n,this._context=new uh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Am("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Am("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(re(Tn),re(mi))},e.\u0275dir=hr({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),uh=class{constructor(){this.$implicit=null,this.ngIf=null}};function Am(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${$t(e)}'.`)}var Vt=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(n,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};e.\u0275fac=function(i){return new(i||e)(re(Tn))},e.\u0275dir=hr({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Mn]});let t=e;return t})();function Um(t,e){return new oe(2100,!1)}var dh=class{createSubscription(e,r){return Xf(()=>e.subscribe({next:r,error:n=>{throw n}}))}dispose(e){Xf(()=>e.unsubscribe())}},fh=class{createSubscription(e,r){return e.then(r,n=>{throw n})}dispose(e){}},K_=new fh,Z_=new dh,jt=(()=>{let e=class e{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(mo(n))return K_;if(rh(n))return Z_;throw Um(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this._ref.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(re(Es,16))},e.\u0275pipe=pr({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Bm=(()=>{let e=class e{constructor(n){this._locale=n}transform(n,i,o){if(!X_(n))return null;o||=this._locale;try{let s=Q_(n);return G_(s,o,i)}catch(s){throw Um(e,s.message)}}};e.\u0275fac=function(i){return new(i||e)(re($l,16))},e.\u0275pipe=pr({name:"percent",type:e,pure:!0,standalone:!0});let t=e;return t})();function X_(t){return!(t==null||t===""||t!==t)}function Q_(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var le=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=jr({type:e}),e.\u0275inj=Br({});let t=e;return t})(),Hm="browser",J_="server";function hh(t){return t===J_}var ql=class{};var mh=class extends Gl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},vh=class t extends mh{static makeCurrent(){Nm(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=ew();return r==null?null:tw(r)}resetBaseElement(){Ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Vm(document.cookie,e)}},Ts=null;function ew(){return Ts=Ts||document.querySelector("base"),Ts?Ts.getAttribute("href"):null}function tw(t){return new URL(t,document.baseURI).pathname}var nw=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})(),Ch=new Re(""),qm=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new oe(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(Pe(Ch),Pe(Dt))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})(),Yl=class{constructor(e){this._doc=e}},ph="ng-app-id",Wm=(()=>{let e=class e{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hh(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${ph}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute(ph),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ph,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Pe(dn),Pe(Mf),Pe(Af,8),Pe(fo))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})(),gh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_h=/%COMP%/g,Ym="%COMP%",rw=`_nghost-${Ym}`,iw=`_ngcontent-${Ym}`,ow=!0,sw=new Re("",{providedIn:"root",factory:()=>ow});function aw(t){return iw.replace(_h,t)}function lw(t){return rw.replace(_h,t)}function Km(t,e){return e.map(r=>r.replace(_h,t))}var $m=(()=>{let e=class e{constructor(n,i,o,s,a,l,c,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=hh(l),this.defaultRenderer=new As(n,a,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Hn.ShadowDom&&(i=Z(T({},i),{encapsulation:Hn.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof Kl?o.applyToHost(n):o instanceof Rs&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Hn.Emulated:s=new Kl(c,u,i,this.appId,d,a,l,f);break;case Hn.ShadowDom:return new yh(c,u,n,i,a,l,this.nonce,f);default:s=new Rs(c,u,i,d,a,l,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Pe(qm),Pe(Wm),Pe(Mf),Pe(sw),Pe(dn),Pe(fo),Pe(Dt),Pe(Af))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})(),As=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(gh[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(Gm(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(Gm(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new oe(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let o=gh[i];o?e.setAttributeNS(o,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=gh[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(r,n,i&fr.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&fr.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=Co().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function Gm(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var yh=class extends As{constructor(e,r,n,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Km(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Rs=class extends As{constructor(e,r,n,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=l?Km(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Kl=class extends Rs{constructor(e,r,n,i,o,s,a,l){let c=i+"-"+n.id;super(e,r,n,o,s,a,l,c),this.contentAttr=aw(c),this.hostAttr=lw(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},cw=(()=>{let e=class e extends Yl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(Pe(dn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})(),zm=["alt","control","meta","shift"],uw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dw={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fw=(()=>{let e=class e extends Yl{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Co().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),zm.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(n,i){let o=uw[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),zm.forEach(a=>{if(a!==o){let l=dw[a];l(n)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(Pe(dn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})();function Zm(t,e){return xm(T({rootComponent:t},hw(e)))}function hw(t){return{appProviders:[...Cw,...t?.providers??[]],platformProviders:vw}}function pw(){vh.makeCurrent()}function gw(){return new dr}function mw(){return qg(document),document}var vw=[{provide:fo,useValue:Hm},{provide:Tf,useValue:pw,multi:!0},{provide:dn,useFactory:mw,deps:[]}];var Cw=[{provide:Ml,useValue:"root"},{provide:dr,useFactory:gw,deps:[]},{provide:Ch,useClass:cw,multi:!0,deps:[dn,Dt,fo]},{provide:Ch,useClass:fw,multi:!0,deps:[dn]},$m,Wm,qm,{provide:Cs,useExisting:$m},{provide:ql,useClass:nw,deps:[]},[]];var Xm=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(Pe(dn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ce="primary",qs=Symbol("RouteTitle"),Sh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function xo(t){return new Sh(t)}function _w(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function ww(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Yn(t[r],e[r]))return!1;return!0}function Yn(t,e){let r=t?Eh(t):void 0,n=e?Eh(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!r4(t[i],e[i]))return!1;return!0}function Eh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function r4(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,o)=>n[o]===i)}else return t===e}function i4(t){return t.length>0?t[t.length-1]:null}function Gr(t){return Ha(t)?t:mo(t)?Ct(Promise.resolve(t)):se(t)}var bw={exact:s4,subset:a4},o4={exact:Dw,subset:xw,ignored:()=>!0};function Qm(t,e,r){return bw[r.paths](t.root,e.root,r.matrixParams)&&o4[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function Dw(t,e){return Yn(t,e)}function s4(t,e,r){if(!Si(t.segments,e.segments)||!Ql(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!s4(t.children[n],e.children[n],r))return!1;return!0}function xw(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>r4(t[r],e[r]))}function a4(t,e,r){return l4(t,e,e.segments,r)}function l4(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!Si(i,r)||e.hasChildren()||!Ql(i,r,n))}else if(t.segments.length===r.length){if(!Si(t.segments,r)||!Ql(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!a4(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!Si(t.segments,i)||!Ql(t.segments,i,n)||!t.children[Ce]?!1:l4(t.children[Ce],e,o,n)}}function Ql(t,e,r){return e.every((n,i)=>o4[r](t[i].parameters,n.parameters))}var Hr=class{constructor(e=new $e([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){return Iw.serialize(this)}},$e=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jl(this)}},xi=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=xo(this.parameters),this._parameterMap}toString(){return u4(this)}};function Sw(t,e){return Si(t,e)&&t.every((r,n)=>Yn(r.parameters,e[n].parameters))}function Si(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function Ew(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===Ce&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==Ce&&(r=r.concat(e(i,n)))}),r}var Qh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:()=>new tc,providedIn:"root"});let t=e;return t})(),tc=class{parse(e){let r=new Mh(e);return new Hr(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${Os(e.root,!0)}`,n=Aw(e.queryParams),i=typeof e.fragment=="string"?`#${Mw(e.fragment)}`:"";return`${r}${n}${i}`}},Iw=new tc;function Jl(t){return t.segments.map(e=>u4(e)).join("/")}function Os(t,e){if(!t.hasChildren())return Jl(t);if(e){let r=t.children[Ce]?Os(t.children[Ce],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Ce&&n.push(`${i}:${Os(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=Ew(t,(n,i)=>i===Ce?[Os(t.children[Ce],!1)]:[`${i}:${Os(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ce]!=null?`${Jl(t)}/${r[0]}`:`${Jl(t)}/(${r.join("//")})`}}function c4(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zl(t){return c4(t).replace(/%3B/gi,";")}function Mw(t){return encodeURI(t)}function Ih(t){return c4(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ec(t){return decodeURIComponent(t)}function Jm(t){return ec(t.replace(/\+/g,"%20"))}function u4(t){return`${Ih(t.path)}${Tw(t.parameters)}`}function Tw(t){return Object.entries(t).map(([e,r])=>`;${Ih(e)}=${Ih(r)}`).join("")}function Aw(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${Zl(r)}=${Zl(i)}`).join("&"):`${Zl(r)}=${Zl(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var Rw=/^[^\/()?;#]+/;function wh(t){let e=t.match(Rw);return e?e[0]:""}var Ow=/^[^\/()?;=#]+/;function Nw(t){let e=t.match(Ow);return e?e[0]:""}var Pw=/^[^=?&#]+/;function kw(t){let e=t.match(Pw);return e?e[0]:""}var Fw=/^[^&#]+/;function Lw(t){let e=t.match(Fw);return e?e[0]:""}var Mh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[Ce]=new $e(e,r)),n}parseSegment(){let e=wh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new oe(4009,!1);return this.capture(e),new xi(ec(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=Nw(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=wh(this.remaining);i&&(n=i,this.capture(n))}e[ec(r)]=ec(n)}parseQueryParam(e){let r=kw(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let s=Lw(this.remaining);s&&(n=s,this.capture(n))}let i=Jm(r),o=Jm(n);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=wh(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new oe(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ce);let s=this.parseChildren();r[o]=Object.keys(s).length===1?s[Ce]:new $e([],s),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new oe(4011,!1)}};function d4(t){return t.segments.length>0?new $e([],{[Ce]:t}):t}function f4(t){let e={};for(let[n,i]of Object.entries(t.children)){let o=f4(i);if(n===Ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let r=new $e(t.segments,e);return Vw(r)}function Vw(t){if(t.numberOfChildren===1&&t.children[Ce]){let e=t.children[Ce];return new $e(t.segments.concat(e.segments),e.children)}return t}function So(t){return t instanceof Hr}function jw(t,e,r=null,n=null){let i=h4(t);return p4(i,e,r,n)}function h4(t){let e;function r(o){let s={};for(let l of o.children){let c=r(l);s[l.outlet]=c}let a=new $e(o.url,s);return o===t&&(e=a),a}let n=r(t.root),i=d4(n);return e??i}function p4(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bh(i,i,i,r,n);let o=Uw(e);if(o.toRoot())return bh(i,i,new $e([],{}),r,n);let s=Bw(o,i,t),a=s.processChildren?ks(s.segmentGroup,s.index,o.commands):m4(s.segmentGroup,s.index,o.commands);return bh(i,s.segmentGroup,a,r,n)}function nc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Vs(t){return typeof t=="object"&&t!=null&&t.outlets}function bh(t,e,r,n,i){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=r:s=g4(t,e,r);let a=d4(f4(s));return new Hr(a,o,i)}function g4(t,e,r){let n={};return Object.entries(t.children).forEach(([i,o])=>{o===e?n[i]=r:n[i]=g4(o,e,r)}),new $e(t.segments,n)}var rc=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&nc(n[0]))throw new oe(4003,!1);let i=n.find(Vs);if(i&&i!==i4(n))throw new oe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Uw(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new rc(!0,0,t);let e=0,r=!1,n=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?r=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new rc(r,e,n)}var bo=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function Bw(t,e,r){if(t.isAbsolute)return new bo(e,!0,0);if(!r)return new bo(e,!1,NaN);if(r.parent===null)return new bo(r,!0,0);let n=nc(t.commands[0])?0:1,i=r.segments.length-1+n;return Hw(r,i,t.numberOfDoubleDots)}function Hw(t,e,r){let n=t,i=e,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new oe(4005,!1);i=n.segments.length}return new bo(n,!1,i-o)}function $w(t){return Vs(t[0])?t[0].outlets:{[Ce]:t}}function m4(t,e,r){if(t??=new $e([],{}),t.segments.length===0&&t.hasChildren())return ks(t,e,r);let n=Gw(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new $e(t.segments.slice(0,n.pathIndex),{});return o.children[Ce]=new $e(t.segments.slice(n.pathIndex),t.children),ks(o,0,i)}else return n.match&&i.length===0?new $e(t.segments,{}):n.match&&!t.hasChildren()?Th(t,e,r):n.match?ks(t,0,i):Th(t,e,r)}function ks(t,e,r){if(r.length===0)return new $e(t.segments,{});{let n=$w(r),i={};if(Object.keys(n).some(o=>o!==Ce)&&t.children[Ce]&&t.numberOfChildren===1&&t.children[Ce].segments.length===0){let o=ks(t.children[Ce],e,r);return new $e(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=m4(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new $e(t.segments,i)}}function Gw(t,e,r){let n=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return o;let s=t.segments[i],a=r[n];if(Vs(a))break;let l=`${a}`,c=n<r.length-1?r[n+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!t4(l,c,s))return o;n+=2}else{if(!t4(l,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function Th(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let o=r[i];if(Vs(o)){let l=zw(o.outlets);return new $e(n,l)}if(i===0&&nc(r[0])){let l=t.segments[e];n.push(new xi(l.path,e4(r[0]))),i++;continue}let s=Vs(o)?o.outlets[Ce]:`${o}`,a=i<r.length-1?r[i+1]:null;s&&a&&nc(a)?(n.push(new xi(s,e4(a))),i+=2):(n.push(new xi(s,{})),i++)}return new $e(n,{})}function zw(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=Th(new $e([],{}),0,n))}),e}function e4(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function t4(t,e,r){return t==r.path&&Yn(e,r.parameters)}var Fs="imperative",Rt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Rt||{}),hn=class{constructor(e,r){this.id=e,this.url=r}},js=class extends hn{constructor(e,r,n="imperative",i=null){super(e,r),this.type=Rt.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ei=class extends hn{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=Rt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},fn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(fn||{}),Ah=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ah||{}),$r=class extends hn{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Rt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ii=class extends hn{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Rt.NavigationSkipped}},Us=class extends hn{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=Rt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ic=class extends hn{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Rt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rh=class extends hn{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Rt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oh=class extends hn{constructor(e,r,n,i,o){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=Rt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nh=class extends hn{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Rt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ph=class extends hn{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Rt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kh=class{constructor(e){this.route=e,this.type=Rt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fh=class{constructor(e){this.route=e,this.type=Rt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Lh=class{constructor(e){this.snapshot=e,this.type=Rt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vh=class{constructor(e){this.snapshot=e,this.type=Rt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jh=class{constructor(e){this.snapshot=e,this.type=Rt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uh=class{constructor(e){this.snapshot=e,this.type=Rt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Bs=class{},Hs=class{constructor(e){this.url=e}};var Bh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uc,this.attachRef=null}},uc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Bh,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=Hh(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=Hh(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=$h(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $h(e,this._root).map(r=>r.value)}};function Hh(t,e){if(t===e.value)return e;for(let r of e.children){let n=Hh(t,r);if(n)return n}return null}function $h(t,e){if(t===e.value)return[e];for(let r of e.children){let n=$h(t,r);if(n.length)return n.unshift(e),n}return[]}var en=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function wo(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var sc=class extends oc{constructor(e,r){super(e),this.snapshot=r,e1(this,e)}toString(){return this.snapshot.toString()}};function v4(t){let e=qw(t),r=new nt([new xi("",{})]),n=new nt({}),i=new nt({}),o=new nt({}),s=new nt(""),a=new Eo(r,n,o,s,i,Ce,t,e.root);return a.snapshot=e.root,new sc(new en(a,[]),e)}function qw(t){let e={},r={},n={},i="",o=new $s([],e,n,i,r,Ce,t,null,{});return new ac("",new en(o,[]))}var Eo=class{constructor(e,r,n,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ie(c=>c[qs]))??se(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>xo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>xo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jh(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),i?.data),t._resolvedData)}:n={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},i&&y4(i)&&(n.resolve[qs]=i.title),n}var $s=class{get title(){return this.data?.[qs]}constructor(e,r,n,i,o,s,a,l,c){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},ac=class extends oc{constructor(e,r){super(r),this.url=e,e1(this,r)}toString(){return C4(this._root)}};function e1(t,e){e.value._routerState=t,e.children.forEach(r=>e1(t,r))}function C4(t){let e=t.children.length>0?` { ${t.children.map(C4).join(", ")} } `:"";return`${t.value}${e}`}function Dh(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Yn(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Yn(e.params,r.params)||t.paramsSubject.next(r.params),ww(e.url,r.url)||t.urlSubject.next(r.url),Yn(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Gh(t,e){let r=Yn(t.params,e.params)&&Sw(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||Gh(t.parent,e.parent))}function y4(t){return typeof t.title=="string"||t.title===null}var t1=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ce,this.activateEvents=new sn,this.deactivateEvents=new sn,this.attachEvents=new sn,this.detachEvents=new sn,this.parentContexts=te(uc),this.location=te(Tn),this.changeDetector=te(Es),this.environmentInjector=te(ln),this.inputBinder=te(n1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new oe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new oe(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new zh(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=hr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]});let t=e;return t})(),zh=class{constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===Eo?this.route:e===uc?this.childContexts:this.parent.get(e,r)}},n1=new Re("");function Ww(t,e,r){let n=Gs(t,e._root,r?r._root:void 0);return new sc(n,e)}function Gs(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=Yw(t,e,r);return new en(n,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Gs(t,a)),s}}let n=Kw(e.value),i=e.children.map(o=>Gs(t,o));return new en(n,i)}}function Yw(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return Gs(t,n,i);return Gs(t,n)})}function Kw(t){return new Eo(new nt(t.url),new nt(t.params),new nt(t.queryParams),new nt(t.fragment),new nt(t.data),t.outlet,t.component,t)}var _4="ngNavigationCancelingError";function w4(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=So(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=b4(!1,fn.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function b4(t,e){let r=new Error(`NavigationCancelingError: ${t||""}`);return r[_4]=!0,r.cancellationCode=e,r}function Zw(t){return D4(t)&&So(t.url)}function D4(t){return!!t&&t[_4]}var Xw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ce({type:e,selectors:[["ng-component"]],standalone:!0,features:[fe],decls:1,vars:0,template:function(i,o){i&1&&B(0,"router-outlet")},dependencies:[t1],encapsulation:2});let t=e;return t})();function Qw(t,e){return t.providers&&!t._injector&&(t._injector=th(t.providers,e,`Route: ${t.path}`)),t._injector??e}function r1(t){let e=t.children&&t.children.map(r1),r=e?Z(T({},t),{children:e}):T({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==Ce&&(r.component=Xw),r}function Kn(t){return t.outlet||Ce}function Jw(t,e){let r=t.filter(n=>Kn(n)===e);return r.push(...t.filter(n=>Kn(n)!==e)),r}function Ws(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var eb=(t,e,r,n)=>ie(i=>(new qh(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),qh=class{constructor(e,r,n,i,o){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Dh(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=wo(r);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(e,r,s.children)}else this.deactivateChildRoutes(e,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=wo(r);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new Uh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Vh(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(Dh(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,s.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dh(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ws(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},lc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Do=class{constructor(e,r){this.component=e,this.route=r}};function tb(t,e,r){let n=t._root,i=e?e._root:null;return Ns(n,i,r,[n.value])}function nb(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Mo(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!Wg(t)?t:e.get(t):n}function Ns(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wo(e);return t.children.forEach(s=>{rb(s,o[s.value.outlet],r,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ls(a,r.getContext(s),i)),i}function rb(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=ib(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new lc(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ns(t,e,a?a.children:null,n,i):Ns(t,e,r,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Do(a.outlet.component,s))}else s&&Ls(e,a,i),i.canActivateChecks.push(new lc(n)),o.component?Ns(t,null,a?a.children:null,n,i):Ns(t,null,r,n,i);return i}function ib(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!Si(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Si(t.url,e.url)||!Yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gh(t,e)||!Yn(t.queryParams,e.queryParams);case"paramsChange":default:return!Gh(t,e)}}function Ls(t,e,r){let n=wo(t),i=t.value;Object.entries(n).forEach(([o,s])=>{i.component?e?Ls(s,e.children.getContext(o),r):Ls(s,null,r):Ls(s,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new Do(e.outlet.component,i)):r.canDeactivateChecks.push(new Do(null,i)):r.canDeactivateChecks.push(new Do(null,i))}function Ys(t){return typeof t=="function"}function ob(t){return typeof t=="boolean"}function sb(t){return t&&Ys(t.canLoad)}function ab(t){return t&&Ys(t.canActivate)}function lb(t){return t&&Ys(t.canActivateChild)}function cb(t){return t&&Ys(t.canDeactivate)}function ub(t){return t&&Ys(t.canMatch)}function x4(t){return t instanceof sr||t?.name==="EmptyError"}var Xl=Symbol("INITIAL_VALUE");function Io(){return It(t=>$a(t.map(e=>e.pipe(qt(1),Xi(Xl)))).pipe(ie(e=>{for(let r of e)if(r!==!0){if(r===Xl)return Xl;if(r===!1||r instanceof Hr)return r}return!0}),Lt(e=>e!==Xl),qt(1)))}function db(t,e){return St(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return s.length===0&&o.length===0?se(Z(T({},r),{guardsResult:!0})):fb(s,n,i,t).pipe(St(a=>a&&ob(a)?hb(n,o,t,e):se(a)),ie(a=>Z(T({},r),{guardsResult:a})))})}function fb(t,e,r,n){return Ct(t).pipe(St(i=>Cb(i.component,i.route,r,e,n)),jn(i=>i!==!0,!0))}function hb(t,e,r,n){return Ct(e).pipe(Yi(i=>Wi(gb(i.route.parent,n),pb(i.route,n),vb(t,i.path,r),mb(t,i.route,r))),jn(i=>i!==!0,!0))}function pb(t,e){return t!==null&&e&&e(new jh(t)),se(!0)}function gb(t,e){return t!==null&&e&&e(new Lh(t)),se(!0)}function mb(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return se(!0);let i=n.map(o=>Ga(()=>{let s=Ws(e)??r,a=Mo(o,s),l=ab(a)?a.canActivate(e,t):yi(s,()=>a(e,t));return Gr(l).pipe(jn())}));return se(i).pipe(Io())}function vb(t,e,r){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>nb(s)).filter(s=>s!==null).map(s=>Ga(()=>{let a=s.guards.map(l=>{let c=Ws(s.node)??r,u=Mo(l,c),d=lb(u)?u.canActivateChild(n,t):yi(c,()=>u(n,t));return Gr(d).pipe(jn())});return se(a).pipe(Io())}));return se(o).pipe(Io())}function Cb(t,e,r,n,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return se(!0);let s=o.map(a=>{let l=Ws(e)??i,c=Mo(a,l),u=cb(c)?c.canDeactivate(t,e,r,n):yi(l,()=>c(t,e,r,n));return Gr(u).pipe(jn())});return se(s).pipe(Io())}function yb(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return se(!0);let o=i.map(s=>{let a=Mo(s,t),l=sb(a)?a.canLoad(e,r):yi(t,()=>a(e,r));return Gr(l)});return se(o).pipe(Io(),S4(n))}function S4(t){return or(yt(e=>{if(So(e))throw w4(t,e)}),ie(e=>e===!0))}function _b(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return se(!0);let o=i.map(s=>{let a=Mo(s,t),l=ub(a)?a.canMatch(e,r):yi(t,()=>a(e,r));return Gr(l)});return se(o).pipe(Io(),S4(n))}var zs=class{constructor(e){this.segmentGroup=e||null}},cc=class extends Error{constructor(e){super(),this.urlTree=e}};function _o(t){return qi(new zs(t))}function wb(t){return qi(new oe(4e3,!1))}function bb(t){return qi(b4(!1,fn.GuardRejected))}var Wh=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return se(n);if(i.numberOfChildren>1||!i.children[Ce])return wb(e.redirectTo);i=i.children[Ce]}}applyRedirectCommands(e,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r.startsWith("/"))throw new cc(i);return i}applyRedirectCreateUrlTree(e,r,n,i){let o=this.createSegmentGroup(e,r.root,n,i);return new Hr(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[i]=r[a]}else n[i]=o}),n}createSegmentGroup(e,r,n,i){let o=this.createSegments(e,r.segments,n,i),s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,i)}),new $e(o,s)}createSegments(e,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new oe(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},Yh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Db(t,e,r,n,i){let o=i1(t,e,r);return o.matched?(n=Qw(e,n),_b(n,e,r,i).pipe(ie(s=>s===!0?o:T({},Yh)))):se(o)}function i1(t,e,r){if(e.path==="**")return xb(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?T({},Yh):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_w)(r,t,e);if(!i)return T({},Yh);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?T(T({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function xb(t){return{matched:!0,parameters:t.length>0?i4(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function n4(t,e,r,n){return r.length>0&&Ib(t,r,n)?{segmentGroup:new $e(e,Eb(n,new $e(r,t.children))),slicedSegments:[]}:r.length===0&&Mb(t,r,n)?{segmentGroup:new $e(t.segments,Sb(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new $e(t.segments,t.children),slicedSegments:r}}function Sb(t,e,r,n){let i={};for(let o of r)if(dc(t,e,o)&&!n[Kn(o)]){let s=new $e([],{});i[Kn(o)]=s}return T(T({},n),i)}function Eb(t,e){let r={};r[Ce]=e;for(let n of t)if(n.path===""&&Kn(n)!==Ce){let i=new $e([],{});r[Kn(n)]=i}return r}function Ib(t,e,r){return r.some(n=>dc(t,e,n)&&Kn(n)!==Ce)}function Mb(t,e,r){return r.some(n=>dc(t,e,n))}function dc(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function Tb(t,e,r,n){return Kn(t)!==n&&(n===Ce||!dc(e,r,t))?!1:i1(e,t,r).matched}function Ab(t,e,r){return e.length===0&&!t.children[r]}var Kh=class{};function Rb(t,e,r,n,i,o,s="emptyOnly"){return new Zh(t,e,r,n,i,s,o).recognize()}var Ob=31,Zh=class{constructor(e,r,n,i,o,s,a){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new oe(4002,`'${e.segmentGroup}'`)}recognize(){let e=n4(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(r=>{let n=new $s([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ce,this.rootComponentType,null,{}),i=new en(n,r),o=new ac("",i),s=jw(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ce).pipe(Pr(n=>{if(n instanceof cc)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof zs?this.noMatchError(n):n}))}inheritParamsAndData(e,r){let n=e.value,i=Jh(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0).pipe(ie(o=>o instanceof en?[o]:[]))}processChildren(e,r,n){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return Ct(i).pipe(Yi(o=>{let s=n.children[o],a=Jw(r,o);return this.processSegmentGroup(e,a,s,o)}),ud((o,s)=>(o.push(...s),o)),kr(null),cd(),St(o=>{if(o===null)return _o(n);let s=E4(o);return Nb(s),se(s)}))}processSegment(e,r,n,i,o,s){return Ct(r).pipe(Yi(a=>this.processSegmentAgainstRoute(a._injector??e,r,a,n,i,o,s).pipe(Pr(l=>{if(l instanceof zs)return se(null);throw l}))),jn(a=>!!a),Pr(a=>{if(x4(a))return Ab(n,i,o)?se(new Kh):_o(n);throw a}))}processSegmentAgainstRoute(e,r,n,i,o,s,a){return Tb(n,i,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,o,s):_o(i):_o(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=i1(r,i,o);if(!a)return _o(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ob&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(St(f=>this.processSegment(e,n,r,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,r,n,i,o){let s=Db(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),s.pipe(It(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(It(({routes:l})=>{let c=n._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new $s(u,f,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,kb(n),Kn(n),n.component??n._loadedComponent??null,n,Fb(n)),{segmentGroup:g,slicedSegments:v}=n4(r,u,d,l);if(v.length===0&&g.hasChildren())return this.processChildren(c,l,g).pipe(ie(D=>D===null?null:new en(h,D)));if(l.length===0&&v.length===0)return se(new en(h,[]));let _=Kn(n)===o;return this.processSegment(c,l,g,v,_?Ce:o,!0).pipe(ie(D=>new en(h,D instanceof en?[D]:[])))}))):_o(r)))}getChildConfig(e,r,n){return r.children?se({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?se({routes:r._loadedRoutes,injector:r._loadedInjector}):yb(e,r,n,this.urlSerializer).pipe(St(i=>i?this.configLoader.loadChildren(e,r).pipe(yt(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):bb(r))):se({routes:[],injector:e})}};function Nb(t){t.sort((e,r)=>e.value.outlet===Ce?-1:r.value.outlet===Ce?1:e.value.outlet.localeCompare(r.value.outlet))}function Pb(t){let e=t.value.routeConfig;return e&&e.path===""}function E4(t){let e=[],r=new Set;for(let n of t){if(!Pb(n)){e.push(n);continue}let i=e.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=E4(n.children);e.push(new en(n.value,i))}return e.filter(n=>!r.has(n))}function kb(t){return t.data||{}}function Fb(t){return t.resolve||{}}function Lb(t,e,r,n,i,o){return St(s=>Rb(t,e,r,n,s.extractedUrl,i,o).pipe(ie(({state:a,tree:l})=>Z(T({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Vb(t,e){return St(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return se(r);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of I4(l))s.add(c);let a=0;return Ct(s).pipe(Yi(l=>o.has(l)?jb(l,n,t,e):(l.data=Jh(l,l.parent,t).resolve,se(void 0))),yt(()=>a++),Ki(1),St(l=>a===s.size?se(r):on))})}function I4(t){let e=t.children.map(r=>I4(r)).flat();return[t,...e]}function jb(t,e,r,n){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!y4(i)&&(o[qs]=i.title),Ub(o,t,e,n).pipe(ie(s=>(t._resolvedData=s,t.data=Jh(t,t.parent,r).resolve,null)))}function Ub(t,e,r,n){let i=Eh(t);if(i.length===0)return se({});let o={};return Ct(i).pipe(St(s=>Bb(t[s],e,r,n).pipe(jn(),yt(a=>{o[s]=a}))),Ki(1),ld(o),Pr(s=>x4(s)?on:qi(s)))}function Bb(t,e,r,n){let i=Ws(e)??n,o=Mo(t,i),s=o.resolve?o.resolve(e,r):yi(i,()=>o(e,r));return Gr(s)}function xh(t){return It(e=>{let r=t(e);return r?Ct(r).pipe(ie(()=>e)):se(e)})}var M4=(()=>{let e=class e{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Ce);return i}getResolvedTitleForRoute(n){return n.data[qs]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:()=>te(Hb),providedIn:"root"});let t=e;return t})(),Hb=(()=>{let e=class e extends M4{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Pe(Xm))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),o1=new Re("",{providedIn:"root",factory:()=>({})}),s1=new Re(""),$b=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=te(oh)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return se(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Gr(n.loadComponent()).pipe(ie(T4),yt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),is(()=>{this.componentLoaders.delete(n)})),o=new Gi(i,()=>new Ne).pipe($i());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Gb(i,this.compiler,n,this.onLoadEndListener).pipe(is(()=>{this.childrenLoaders.delete(i)})),a=new Gi(s,()=>new Ne).pipe($i());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gb(t,e,r,n){return Gr(t.loadChildren()).pipe(ie(T4),St(i=>i instanceof _s||Array.isArray(i)?se(i):Ct(e.compileModuleAsync(i))),ie(i=>{n&&n(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(r).injector,s=o.get(s1,[],{optional:!0,self:!0}).flat()),{routes:s.map(r1),injector:o}}))}function zb(t){return t&&typeof t=="object"&&"default"in t}function T4(t){return zb(t)?t.default:t}var a1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:()=>te(qb),providedIn:"root"});let t=e;return t})(),qb=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wb=new Re("");var Yb=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.transitionAbortSubject=new Ne,this.configLoader=te($b),this.environmentInjector=te(ln),this.urlSerializer=te(Qh),this.rootContexts=te(uc),this.location=te(Ms),this.inputBindingEnabled=te(n1,{optional:!0})!==null,this.titleStrategy=te(M4),this.options=te(o1,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=te(a1),this.createViewTransition=te(Wb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let n=o=>this.events.next(new kh(o)),i=o=>this.events.next(new Fh(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Z(T(T({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new nt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fs,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lt(s=>s.id!==0),ie(s=>Z(T({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),It(s=>{this.currentTransition=s;let a=!1,l=!1;return se(s).pipe(yt(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Z(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),It(c=>{let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Ii(c.id,this.urlSerializer.serialize(c.rawUrl),f,Ah.IgnoredSameUrlNavigation)),c.resolve(null),on}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return se(c).pipe(It(f=>{let h=this.transitions?.getValue();return this.events.next(new js(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?on:Promise.resolve(f)}),Lb(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),yt(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Z(T({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new ic(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:g,restoredState:v,extras:_}=c,D=new js(f,this.urlSerializer.serialize(h),g,v);this.events.next(D);let I=v4(this.rootComponentType).snapshot;return this.currentTransition=s=Z(T({},c),{targetSnapshot:I,urlAfterRedirects:h,extras:Z(T({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,se(s)}else{let f="";return this.events.next(new Ii(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Ah.IgnoredByUrlHandlingStrategy)),c.resolve(null),on}}),yt(c=>{let u=new Rh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ie(c=>(this.currentTransition=s=Z(T({},c),{guards:tb(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),db(this.environmentInjector,c=>this.events.next(c)),yt(c=>{if(s.guardsResult=c.guardsResult,So(c.guardsResult))throw w4(this.urlSerializer,c.guardsResult);let u=new Oh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Lt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",fn.GuardRejected),!1)),xh(c=>{if(c.guards.canActivateChecks.length)return se(c).pipe(yt(u=>{let d=new Nh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),It(u=>{let d=!1;return se(u).pipe(Vb(this.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",fn.NoDataFromResolver)}}))}),yt(u=>{let d=new Ph(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),xh(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(yt(h=>{d.component=h}),ie(()=>{})));for(let h of d.children)f.push(...u(h));return f};return $a(u(c.targetSnapshot.root)).pipe(kr(null),qt(1))}),xh(()=>this.afterPreactivation()),It(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Ct(d).pipe(ie(()=>s)):se(s)}),ie(c=>{let u=Ww(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=Z(T({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),yt(()=>{this.events.next(new Bs)}),eb(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),qt(1),yt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ei(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),ot(this.transitionAbortSubject.pipe(yt(c=>{throw c}))),is(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",fn.SupersededByNewNavigation),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Pr(c=>{if(l=!0,D4(c))this.events.next(new $r(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),Zw(c)?this.events.next(new Hs(c.url)):s.resolve(!1);else{this.events.next(new Us(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return on}))}))}cancelNavigationTransition(n,i,o){let s=new $r(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kb(t){return t!==Fs}var Zb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:()=>te(Xb),providedIn:"root"});let t=e;return t})(),Xh=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},Xb=(()=>{let e=class e extends Xh{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Vf(e)))(o||e)}})(),e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),A4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:()=>te(Qb),providedIn:"root"});let t=e;return t})(),Qb=(()=>{let e=class e extends A4{constructor(){super(...arguments),this.location=te(Ms),this.urlSerializer=te(Qh),this.options=te(o1,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=te(a1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Hr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=v4(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof js)this.stateMemento=this.createStateMemento();else if(n instanceof Ii)this.rawUrlTree=i.initialUrl;else if(n instanceof ic){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else n instanceof Bs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof $r&&(n.code===fn.GuardRejected||n.code===fn.NoDataFromResolver)?this.restoreHistory(i):n instanceof Us?this.restoreHistory(i,!0):n instanceof Ei&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=T(T({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=T(T({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Vf(e)))(o||e)}})(),e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ps=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ps||{});function Jb(t,e){t.events.pipe(Lt(r=>r instanceof Ei||r instanceof $r||r instanceof Us||r instanceof Ii),ie(r=>r instanceof Ei||r instanceof Ii?Ps.COMPLETE:(r instanceof $r?r.code===fn.Redirect||r.code===fn.SupersededByNewNavigation:!1)?Ps.REDIRECTING:Ps.FAILED),Lt(r=>r!==Ps.REDIRECTING),qt(1)).subscribe(()=>{e()})}function eD(t){throw t}var tD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},R4=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=te(Bl),this.stateManager=te(A4),this.options=te(o1,{optional:!0})||{},this.pendingTasks=te(Vl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=te(Yb),this.urlSerializer=te(Qh),this.location=te(Ms),this.urlHandlingStrategy=te(a1),this._events=new Ne,this.errorHandler=this.options.errorHandler||eD,this.navigated=!1,this.routeReuseStrategy=te(Zb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=te(s1,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!te(n1,{optional:!0}),this.eventsSubscription=new vt,this.isNgZoneEnabled=te(Dt)instanceof Dt&&Dt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof $r&&i.code!==fn.Redirect&&i.code!==fn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ei)this.navigated=!0;else if(i instanceof Hs){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Kb(o.source)};this.scheduleNavigation(a,Fs,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}iD(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=T({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(r1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=T(T({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=h4(h)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return p4(f,n,d,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=So(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Fs,null,i)}navigate(n,i={skipLocationChange:!1}){return rD(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=T({},tD):i===!1?o=T({},nD):o=i,So(n))return Qm(this.currentUrlTree,n,o);let s=this.parseUrl(n);return Qm(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(n,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return Jb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rD(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new oe(4008,!1)}function iD(t){return!(t instanceof Bs)&&!(t instanceof Hs)}var oD=new Re("");function O4(t,...e){return Il([{provide:s1,multi:!0,useValue:t},[],{provide:Eo,useFactory:sD,deps:[R4]},{provide:ih,multi:!0,useFactory:aD},e.map(r=>r.\u0275providers)])}function sD(t){return t.routerState.root}function aD(){let t=te(_i);return e=>{let r=t.get(bi);if(e!==r.components[0])return;let n=t.get(R4),i=t.get(lD);t.get(cD)===1&&n.initialNavigation(),t.get(uD,null,xe.Optional)?.setUpPreloading(),t.get(oD,null,xe.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var lD=new Re("",{factory:()=>new Ne}),cD=new Re("",{providedIn:"root",factory:()=>1});var uD=new Re("");function dD(...t){let e={config:{},state:{}};for(let{config:r,props:n}of t)Object.assign(e.config,r),Object.assign(e.state,n);return e}var P4=new nt(!1),fD=P4.asObservable().pipe(Lt(t=>!t),qt(1));var To={},l1=class{registerPreStoreUpdate(e){To.preStoreUpdate=e}registerPreStateInit(e){To.preStateInit=e}},BV=new l1,Ks=new Map,u1=new Ne,k4=u1.asObservable();function hD(t){Ks.set(t.name,t),u1.next({type:"add",store:t})}function pD(t){Ks.delete(t.name),u1.next({type:"remove",store:t})}function F4(t){return Ks.get(t)}function L4(){return Ks}function d1(){let t={};return Ks.forEach((e,r)=>{t[r]=e.getValue()}),t}var fc=[];function gD(t){fc.push(t)}function N4(t){fc.length&&fc.forEach(e=>t.next(e)),fc=[]}var c1=class extends nt{constructor(e){super(e.state),this.storeDef=e,this.initialState=void 0,this.state=void 0,this.batchInProgress=!1,this.events=new Ne,this.context={config:this.getConfig(),setEvent:r=>{gD(r)}},this.events$=this.events.asObservable(),this.state=this.getInitialState(e.state),this.initialState=this.getValue(),hD(this)}get name(){return this.storeDef.name}getInitialState(e){return To.preStateInit?To.preStateInit(e,this.name):e}getConfig(){return this.storeDef.config}query(e){return e(this.getValue())}update(...e){let r=this.getValue(),n=e.reduce((i,o)=>(i=o(i,this.context),i),r);To.preStoreUpdate&&(n=To.preStoreUpdate(r,n,this.name)),n!==r&&(this.state=n,P4.getValue()?this.batchInProgress||(this.batchInProgress=!0,fD.subscribe(()=>{super.next(this.state),N4(this.events),this.batchInProgress=!1})):(super.next(this.state),N4(this.events)))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(e){let r=!0,n={};return new ke(i=>{for(let[o,s]of Object.entries(e))i.add(s.subscribe(a=>{n[o]=a,r=!0}));return this.subscribe({next(){r&&(i.next(T({},n)),r=!1)},error(o){i.error(o)},complete(){i.complete()}})})}destroy(){pD(this),this.reset()}next(e){this.update(()=>e)}error(){}complete(){}};function f1(t,...e){let{state:r,config:n}=dD(...e),{name:i}=t;return new c1({name:i,state:r,config:n})}function Mi(t){return Array.isArray(t)?t:[t]}function Ao(t){return typeof t=="function"}function V4(t){return t===void 0}function zr(t){return t.charAt(0).toUpperCase()+t.slice(1)}function mD(t){return typeof t=="object"&&!Array.isArray(t)&&t!==null}function h1(t,e){return function(r){return Z(T({},r),{[t]:Ao(e)?e(r[t]):e})}}function Ti(t){return or(ie(t),Wt())}function hc(){return Wt((t,e)=>t===e?!0:t.length!==e.length?!1:!e.some((n,i)=>t[i]!==n))}function p1(){return Lt(t=>t!=null)}function g1(t,{initialValue:e,config:r}){let n=e,i=zr(t);return{[`with${i}`](o=n){return{props:{[t]:o},config:r}},[`set${i}InitialValue`](o){n=o},[`set${i}`](o){return function(s){let a=Ao(o)?o(s):o;return a===s[t]?s:Z(T({},s),{[t]:a})}},[`update${i}`](o){return function(s){let a=Ao(o)?o(s):o;return a===s[t]?s:Z(T({},s),{[t]:mD(a)?T(T({},s[t]),a):a})}},[`reset${i}`](){return function(o){return Z(T({},o),{[t]:n})}},[`select${i}`](){return Ti(o=>o[t])},[`get${i}`](o){return o[t]}}}function j4(t,e){let r=zr(t),n=g1(t,e);return Z(T({},n),{[`add${r}`](i){return function(o){return Z(T({},o),{[t]:vD(o[t],i)})}},[`remove${r}`](i){return function(o){return Z(T({},o),{[t]:CD(o[t],i)})}},[`toggle${r}`](i){return function(o){return Z(T({},o),{[t]:yD(o[t],i)})}},[`update${r}`](i,o){return function(s){return Z(T({},s),{[t]:wD(s[t],i,o)})}},[`in${r}`](i){return o=>_D(o[t],i)}})}function vD(t,e){return[...t,...Mi(e)]}function CD(t,e){let r=Mi(e);return t.filter(n=>!r.includes(n))}function yD(t,e){let r=Mi(e),n=[...t];return r.forEach(i=>{let o=n.indexOf(i);o>-1?n.splice(o,1):n.push(i)}),n}function _D(t,e){return t.includes(e)}function wD(t,e,r){return t.map(n=>n===e?r:n)}function U4(t){return{props:t,config:void 0}}var bD=!0;function B4(){return bD}var DD=new Ne;function H4(t={}){if(!window.__REDUX_DEVTOOLS_EXTENSION__)return;let e=!1,r=window.__REDUX_DEVTOOLS_EXTENSION__.connect(t),n=new Map,i=l=>{r.send(l,d1())};n.set("externalSend",DD.subscribe(i));let o=l=>{let c=l.name,u=zr(c);i({type:`[${u}] - @Init`});let d=l.pipe(os(1)).subscribe(()=>{if(e){e=!1;return}t.preAction?.(),i({type:`[${u}] - Update`})});n.set(c,d)};L4().forEach(o),t.actionsDispatcher&&n.set("actionsDispatcher",t.actionsDispatcher.subscribe(l=>{i(l)}));let s=k4.subscribe(({store:l,type:c})=>{let u=l.name,d=zr(u);if(t.logTrace){let f=`[${d}] - ${c}`;console.groupCollapsed(f),console.trace(),console.groupEnd()}c==="add"&&o(l),c==="remove"&&(n.get(u)?.unsubscribe(),n.delete(u),i({type:`Remove ${d}`}))}),a=r.subscribe(l=>{if(l.type==="DISPATCH"){let c=l.payload.type;if(c==="COMMIT"){r.init(d1());return}if(c==="JUMP_TO_STATE"||c==="JUMP_TO_ACTION"){let u=JSON.parse(l.state);for(let[d,f]of Object.entries(u))e=!0,F4(d)?.update(()=>f);t.postTimelineUpdate?.()}}});return{unsubscribe(){s.unsubscribe(),r.unsubscribe(),n.forEach(l=>l.unsubscribe()),a()}}}var $4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ce({type:e,selectors:[["app-header"]],standalone:!0,features:[fe],decls:4,vars:0,consts:[[1,"container"],[1,"logo"],[1,"menu"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1),G(2," Image Cutter "),S(),B(3,"div",2),S())},dependencies:[le],styles:[".container[_ngcontent-%COMP%]{width:100%;max-height:32px}.menu[_ngcontent-%COMP%]{padding:0,10px}.logo[_ngcontent-%COMP%]{font-size:24px;font-weight:400;line-height:32px;margin:auto auto auto 10px}"]});let t=e;return t})();var Ai=function(t){return t.TOP="top",t.BOTTOM="bottom",t.LEFT="left",t.RIGHT="right",t.DEFAULT="bottom",t}(Ai||{}),qr=(()=>{let e=class e{constructor(n,i,o,s,a){this.elementRef=n,this.appRef=i,this.componentFactoryResolver=o,this.viewContainerRef=s,this.injector=a,this.tooltip="",this.position="bottom",this.componentRef=null}onMouseEnter(){if(this.componentRef===null){this.componentRef=this.viewContainerRef.createComponent(G4);let n=this.componentRef.hostView.rootNodes[0];document.body.appendChild(n),this.setTooltipComponentProperties()}}setTooltipComponentProperties(){if(this.componentRef!==null){this.componentRef.instance.tooltip=this.tooltip,this.componentRef.instance.position=this.position;let{left:n,right:i,top:o,bottom:s}=this.elementRef.nativeElement.getBoundingClientRect();switch(this.position){case Ai.BOTTOM:{this.componentRef.instance.left=Math.round((i-n)/2+n),this.componentRef.instance.top=Math.round(s);break}case Ai.TOP:{this.componentRef.instance.left=Math.round((i-n)/2+n),this.componentRef.instance.top=Math.round(o);break}case Ai.RIGHT:{this.componentRef.instance.left=Math.round(i),this.componentRef.instance.top=Math.round(o+(s-o)/2);break}case Ai.LEFT:{this.componentRef.instance.left=Math.round(n),this.componentRef.instance.top=Math.round(o+(s-o)/2);break}default:{this.componentRef.instance.left=Math.round((i-n)/2+n),this.componentRef.instance.top=Math.round(s);break}}}}onMouseLeave(){this.destroy()}ngOnDestroy(){this.destroy()}destroy(){this.componentRef!==null&&(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.componentRef=null)}};e.\u0275fac=function(i){return new(i||e)(re(Gn),re(bi),re(po),re(Tn),re(_i))},e.\u0275dir=hr({type:e,selectors:[["","tooltip",""]],hostBindings:function(i,o){i&1&&W("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseLeave()})},inputs:{tooltip:"tooltip",position:"position"}});let t=e;return t})();var xD=t=>[t],G4=(()=>{let e=class e{constructor(){this.tooltip="",this.left=0,this.top=0,this.position=Ai.DEFAULT}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ce({type:e,selectors:[["app-tooltip"]],decls:2,vars:8,consts:[[1,"tooltip",3,"ngClass"]],template:function(i,o){i&1&&(b(0,"div",0),G(1),S()),i&2&&(Ul("left",o.left+"px")("top",o.top+"px"),k("ngClass",ym(6,xD,"tooltip-"+o.position)),F(),Wn(" ",o.tooltip,`
`))},dependencies:[jm],styles:['.tooltip[_ngcontent-%COMP%]{position:fixed;background-color:#fff;border-radius:5px;color:var(--background-header);padding:3px 6px;font-size:13px;transform:translate(-50%)}.tooltip[_ngcontent-%COMP%]:before{content:"";width:0;height:0;border:5px solid white;position:absolute}.tooltip-bottom[_ngcontent-%COMP%]{transform:translate(-50%);margin-top:7px}.tooltip-bottom[_ngcontent-%COMP%]:before{border-left-color:transparent;border-right-color:transparent;border-top:none;left:calc(50% - 5px);top:-5px}.tooltip-top[_ngcontent-%COMP%]{transform:translate(-50%,calc(-100% - 7px));margin-bottom:7px}.tooltip-top[_ngcontent-%COMP%]:before{border-left-color:transparent;border-right-color:transparent;border-bottom:none;left:calc(50% - 5px);bottom:-5px}.tooltip-left[_ngcontent-%COMP%]{transform:translate(calc(-100% - 7px),-50%);margin-right:7px}.tooltip-left[_ngcontent-%COMP%]:before{border-top-color:transparent;border-bottom-color:transparent;border-right:none;right:-5px;top:calc(50% - 5px)}.tooltip-right[_ngcontent-%COMP%]{transform:translateY(-50%);margin-left:7px}.tooltip-right[_ngcontent-%COMP%]:before{border-top-color:transparent;border-bottom-color:transparent;border-left:none;left:-5px;top:calc(50% - 5px)}']});let t=e;return t})();var pn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=jr({type:e}),e.\u0275inj=Br({imports:[le]});let t=e;return t})();var SD=["*"],Ro=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ce({type:e,selectors:[["app-layer-box"]],inputs:{headerText:"headerText"},standalone:!0,features:[fe],ngContentSelectors:SD,decls:6,vars:1,consts:[[1,"container"],[1,"header"],[1,"header-text","prevent-select"],[1,"content"]],template:function(i,o){i&1&&(vm(),b(0,"div",0)(1,"div",1)(2,"div",2),G(3),S()(),b(4,"div",3),Cm(5),S()()),i&2&&(F(3),Wn(" ",o.headerText," "))},dependencies:[le,pn],styles:[".container[_ngcontent-%COMP%]{display:block}.header[_ngcontent-%COMP%]{background-color:var(--background-subheader);height:32px}.header-text[_ngcontent-%COMP%]{line-height:32px;text-align:center;margin:auto;font-weight:500}"]});let t=e;return t})();var Xo=Wu(pp());function g6(t,e){let r={},n=[];for(let i of t){let o=i[e];n.push(o),r[o]=i}return{ids:n,asObject:r}}function m6(t,e){return t&&e?Ao(e)?e(t):t[e]:t}function wM(t,e){return t.config[e.idKeyRef]}var gp=class{constructor(e){this.entitiesKey=void 0,this.idsKey=void 0,this.idKeyRef="idKey",this.entitiesKey=e.entitiesKey,this.idsKey=e.idsKey,this.idKeyRef=e.idKeyRef}};function v6(t){let e=t?`idKey${zr(t)}`:"idKey",r=new gp({entitiesKey:t?`${t}Entities`:"entities",idsKey:t?`${t}Ids`:"ids",idKeyRef:e});function n(i){let o={},s=[],a=i?.idKey||"id";return i?.initialValue&&({ids:s,asObject:o}=g6(i.initialValue,a)),{props:{[r.entitiesKey]:o,[r.idsKey]:s},config:{[e]:a}}}return{[`${t}EntitiesRef`]:r,[`with${zr(t)}Entities`]:n}}var{withEntities:mp,EntitiesRef:nr}=v6(""),{UIEntitiesRef:mU,withUIEntities:vU}=v6("UI");function C6(t,e={}){return function(r,n){let{ref:{idsKey:i,entitiesKey:o}=nr}=e,s=Mi(t),a=T({},r[o]),l=r[i].filter(c=>!s.includes(c));for(let c of s)Reflect.deleteProperty(a,c);return n.setEvent({type:"delete",ids:s}),Z(T({},r),{[o]:a,[i]:l})}}function Ou(t,e={}){return function(r,n){let{prepend:i=!1,ref:o=nr}=e,{entitiesKey:s,idsKey:a}=o,l=wM(n,o),c=Mi(t);if(!c.length)return r;B4()&&(bM(c,l,r,s),DM(c,l));let{ids:u,asObject:d}=g6(c,l);return n.setEvent({type:"add",ids:u}),Z(T({},r),{[s]:T(T({},r[s]),d),[a]:i?[...u,...r[a]]:[...r[a],...u]})}}function bM(t,e,r,n){t.forEach(i=>{let o=i[e];if(r[n][o])throw Error(`Entity already exists. ${e} ${o}`)})}function DM(t,e){let r=new Set;t.forEach(n=>{let i=n[e];if(r.has(i))throw Error(`Duplicate entity id provided. ${e} ${i}`);r.add(i)})}function y6(t={}){let{ref:{entitiesKey:e,idsKey:r}=nr}=t;return function(n){return n[r].map(i=>n[e][i])}}function nn(t,e={}){return function(r){let{ref:{entitiesKey:n}=nr}=e;return r[n][t]}}function xM(t,e={}){return function(r){let{ref:{entitiesKey:n}=nr}=e;return Reflect.has(r[n],t)}}function SM(t,e){return Ao(t)?t(e):T(T({},e),t)}function yn(t,e,r={}){return function(n,i){let o=Mi(t);if(!o.length)return n;let{ref:{entitiesKey:s}=nr}=r,a={};for(let l of o)xM(l,r)(n)&&(a[l]=SM(e,nn(l,r)(n)));return i.setEvent({type:"update",ids:o}),Z(T({},n),{[s]:T(T({},n[s]),a)})}}function _6(t){return Wt((e,r)=>e[t]===r[t])}function vp(t,e={}){let{ref:{entitiesKey:r}=nr,pluck:n}=e;return or(_6(r),Ti(i=>EM(i[r],t,n)))}function EM(t,e,r){let n=t[e];if(!V4(n))return r?m6(n,r):n}function Cp(t,e){let{ref:{entitiesKey:r,idsKey:n}=nr,pluck:i}=e||{};return or(_6(r),Ti(o=>{let s=[];return o[n].forEach((a,l)=>{let c=o[r][a];t(c,l)&&s.push(m6(c,i))}),s}),hc())}var{selectActiveId:IM,setActiveId:yp,withActiveId:w6,resetActiveId:CU,getActiveId:MM}=g1("activeId",{initialValue:void 0});function b6(t={}){let{ref:e=nr}=t;return function(r){return r.pipe(IM()).pipe(It(n=>r.pipe(vp(n,{ref:e}))))}}function Zo(t={}){let{ref:{entitiesKey:e}=nr}=t;return function(r){return r[e][MM(r)]}}var{setActiveIds:yU,resetActiveIds:_U,withActiveIds:wU,selectActiveIds:bU,toggleActiveIds:DU,removeActiveIds:xU,addActiveIds:SU,getActiveIds:EU}=j4("activeIds",{initialValue:[]});function D6(t,e){let r={source:l=>l,preStoreInit:l=>l,key:e.key??`${t.name}@store`,runGuard(){return typeof window<"u"}},n=T(T({},r),e);if(!n.runGuard?.())return{initialized$:se(!1),unsubscribe(){}};let{storage:i}=e,o=new ii(1),s=Ct(i.getItem(n.key)).subscribe(l=>{l&&t.update(c=>n.preStoreInit(T(T({},c),l))),o.next(!0),o.complete()}),a=n.source(t).pipe(os(1),It(l=>{let c=n.preStorageUpdate?n.preStorageUpdate(t.name,l):l;return i.setItem(n.key,c)})).subscribe();return{initialized$:o.asObservable(),unsubscribe(){a.unsubscribe(),s.unsubscribe()}}}function x6(t){if(t)return{getItem(e){let r=t.getItem(e);return se(r&&JSON.parse(r))},setItem(e,r){return t.setItem(e,JSON.stringify(r)),se(!0)},removeItem(e){return t.removeItem(e),se(!0)}}}var TM=()=>{try{if(typeof localStorage<"u")return localStorage}catch{}},RU=x6(TM()),AM=()=>{try{if(typeof sessionStorage<"u")return sessionStorage}catch{}},OU=x6(AM());var Nu,RM=new Uint8Array(16);function _p(){if(!Nu&&(Nu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Nu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nu(RM)}var kt=[];for(let t=0;t<256;++t)kt.push((t+256).toString(16).slice(1));function S6(t,e=0){return kt[t[e+0]]+kt[t[e+1]]+kt[t[e+2]]+kt[t[e+3]]+"-"+kt[t[e+4]]+kt[t[e+5]]+"-"+kt[t[e+6]]+kt[t[e+7]]+"-"+kt[t[e+8]]+kt[t[e+9]]+"-"+kt[t[e+10]]+kt[t[e+11]]+kt[t[e+12]]+kt[t[e+13]]+kt[t[e+14]]+kt[t[e+15]]}var OM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wp={randomUUID:OM};function NM(t,e,r){if(wp.randomUUID&&!e&&!t)return wp.randomUUID();t=t||{};let n=t.random||(t.rng||_p)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return S6(n)}var Fi=NM;function E6(t){return Tt(this,null,function*(){let e=[];for(let r=0;r<t.length;r++){let n=t[r];if(!FM(n))continue;let i={lastModified:n.lastModified,lastModifiedDate:new Date(n.lastModified),name:n.name,size:n.size,type:n.type,width:0,height:0,dataURL:""},o=yield PM(n);i.dataURL=o;let s=yield fetch(o).then(l=>l.blob()),a=yield createImageBitmap(s);i.width=a.width,i.height=a.height,e.push(i)}return e})}function PM(t){return Tt(this,null,function*(){return new Promise(r=>{let n=new FileReader;n.onloadend=i=>{let o=n.result;r(o)},n.readAsDataURL(t)})})}var kM=["image/apng","image/bmp","image/gif","image/jpeg","image/pjpeg","image/png","image/svg+xml","image/tiff","image/webp","image/x-icon"];function FM(t){return kM.includes(t.type)}var Pu=Wu(M6());function rr(t,e){let r=t.y/e.y,n=(t.y+t.height)/e.y,i=t.x/e.x,o=(t.x+t.width)/e.x;return{top:r,bottom:n,left:i,right:o}}function ma(t,e){let r=Math.round(t.left*e.x),n=Math.round(t.top*e.y),i=Math.round((t.right-t.left)*e.x),o=Math.round((t.bottom-t.top)*e.y);return{x:r,y:n,width:i,height:o}}Pu.default.config({driver:Pu.default.INDEXEDDB,name:"ImageCutter",version:1,storeName:"AppStore"});var Ae=(()=>{let e=class e{constructor(){this.store=f1({name:"AppStore"},mp(),w6(),U4({bestNumber:42,showDropzone:!1,mouseoverCutID:""})),this.restoredImageProps=[],this.preAppStoreInit=n=>{console.log("preAppStoreInit",n);let i=[];n.ids.forEach(s=>{let a=n.entities[s];i.push(a)}),this.addCanvasEntities(i);let o=T({},n);return o.showDropzone=!1,o},this.persist=D6(this.store,{key:"AppStore",storage:Pu.default,source:()=>this.store.pipe(Vn(1e3)),preStoreInit:this.preAppStoreInit}),this.canvasStore=f1({name:"CanvasStore"},mp()),this.app$=this.store.pipe(n=>n),this.showDropzone$=this.store.pipe(Ti(n=>n.showDropzone)),this.mouseoverCutID$=this.store.pipe(Ti(n=>n.mouseoverCutID),Wt()),this.active$=this.store.pipe(b6()),this.activeCanvas$=this.active$.pipe(p1(),ie(n=>n.id),Wt(),It(n=>this.canvasStore.pipe(vp(n))),p1()),this.activeFile$=this.active$.pipe(ie(n=>{if(n)return n.file}),Wt()),this.zoom$=this.active$.pipe(ie(n=>n?.meta.zoom),Wt()),this.scroll$=this.active$.pipe(ie(n=>{let i={x:.5,y:.5};return n&&(i.x=n.meta.scrollX,i.y=n.meta.scrollY),i}),Wt((n,i)=>n.x===i.x&&n.y===i.y)),this.selectedCut$=this.active$.pipe(ie(n=>n?.cuts?.find(o=>o.selected)),Wt()),this.nonSelectedCuts$=this.active$.pipe(ie(n=>n?.cuts.filter(o=>!o.selected)||[]),hc()),this.imagesOpen$=this.store.pipe(Cp(n=>n.meta.active)),this.imagesClosed$=this.store.pipe(Cp(n=>!n.meta.active)),console.log("AppRepo constructor")}updateShowDropzone(n){this.store.update(h1("showDropzone",n))}updateMouseoverCutID(n){this.store.update(h1("mouseoverCutID",n))}updateZoom(n,i){this.store.update(yn(n,o=>Z(T({},o),{meta:Z(T({},o.meta),{zoom:i,date:new Date})})))}updateScroll(n,i,o){this.store.update(yn(n,s=>Z(T({},s),{meta:Z(T({},s.meta),{scrollX:i,scrollY:o,date:new Date})})))}setActiveImage(n){this.store.update(yp(n)),this.store.query(nn(n))&&this.store.update(yn(n,o=>Z(T({},o),{meta:Z(T({},o.meta),{active:!0,date:new Date})})))}getActiveEntity(){return this.store.query(Zo())}addNewCut(n){let i=this.store.query(nn(n));if(!i)return;let o=T({},i),s={x:i.file.width,y:i.file.height};if(!i.cuts||i.cuts.length<1){o.cuts=[];let a={id:Fi(),name:"Cut 1",visible:!0,selected:!0,locked:!1,type:"absolute",absolute:{x:0,y:0,width:32,height:32},relative:{top:0,bottom:1,left:0,right:1}};a.relative=rr(a.absolute,s),o.cuts.push(a)}else{let a={id:Fi(),name:`Cut ${i.cuts.length+1}`,visible:!0,selected:!1,locked:!1,type:"absolute",absolute:{x:0,y:0,width:32,height:32},relative:{top:0,bottom:1,left:0,right:1}};a.relative=rr(a.absolute,s),o.cuts.push(a)}this.store.update(yn(n,a=>Z(T({},o),{meta:Z(T({},o.meta),{date:new Date})})))}duplicateCut(n,i){let o=this.store.query(nn(n));if(!o||!o.cuts)return;let s=o.cuts.findIndex(u=>u.id===i);if(s<0)return;let a=o.cuts[s],l=JSON.parse(JSON.stringify(o)),c=JSON.parse(JSON.stringify(a));c.id=Fi(),c.name=c.name+"(2)",c.selected=!1,l.cuts.push(c),this.store.update(yn(n,u=>Z(T({},l),{meta:Z(T({},l.meta),{date:new Date})})))}removeCut(n,i){let o=this.store.query(nn(n));if(!o||!o.cuts)return;let s=o.cuts.findIndex(c=>c.id===i);if(s<0)return;let a=o.cuts[s],l=T({},o);if(l.cuts=o.cuts.filter(c=>c.id!=i),!(l.cuts.length<1)){if(a.selected){let c=Math.max(0,s-1);l.cuts[c].selected=!0}}this.store.update(yn(n,c=>Z(T({},l),{meta:Z(T({},l.meta),{date:new Date})})))}updateCut(n,i){let o=this.store.query(nn(n));if(!o||!o.cuts)return;let s=o.cuts.findIndex(u=>u.id===i.id);if(s<0)return;let a=o.cuts[s],l=T({},o),c=T({},i);if(c.absolute){let u=c.absolute;c.absolute.x=Number(u.x),c.absolute.y=Number(u.y),c.absolute.height=Number(u.height),c.absolute.width=Number(u.width)}if(l.cuts[s]=c,a.selected&&!i.selected){let u=Math.max(0,s-1);l.cuts[u].selected=!0}this.store.update(yn(n,u=>Z(T({},l),{meta:Z(T({},l.meta),{date:new Date})})))}updateSelectedCut(n,i){}selectCut(n,i){let o=this.store.query(nn(n));if(!o||!o.cuts)return;let s=T({},o);if(s.cuts=o.cuts.map(a=>{let l=T({},a);return l.selected=!1,l}),i){let a=o.cuts.findIndex(c=>c.id===i.id);if(a<0)return;let l=o.cuts[a];s.cuts[a].selected=!0}this.store.update(yn(n,a=>Z(T({},s),{meta:Z(T({},s.meta),{date:new Date})})))}zoomCut(n,i){let o=this.store.query(nn(n));if(!o||!o.cuts||!i)return;let s=o.cuts.findIndex(ht=>ht.id===i.id);if(s<0)return;let a=o.cuts[s],l=a.absolute.height,c=a.absolute.width,u=JSON.parse(JSON.stringify(o)),d=o.file.width,f=o.file.height,h=window.innerHeight,g=window.innerWidth,v=24,_=h-32-48-32-32-2*v,D=g-48-240-2*v,I=.2,M=(1-2*I)*_/l,R=(1-2*I)*D/c,V=Math.min(M,R),E=17,U=Math.floor(V*d+2*v),O=D+2*v-E,q=(a.absolute.x*V-(D-V*c)/2)/(U-O);q=Math.min(Math.max(q,0),1);let Y=Math.floor(V*f+2*v),ye=_+2*v-E,Fe=(a.absolute.y*V-(_-V*l)/2)/(Y-ye);Fe=Math.min(Math.max(Fe,0),1),u.meta.zoom=V,u.meta.scrollX=q,u.meta.scrollY=Fe,this.store.update(yn(n,ht=>Z(T({},u),{meta:Z(T({},u.meta),{date:new Date})})))}openFileList(n){return Tt(this,null,function*(){let i=yield E6(n);if(i.length<1)return;console.log(i);let o=i.map(s=>({id:Fi(),meta:{name:s.name,date:new Date,active:!0,zoom:1,scrollX:.5,scrollY:.5},file:s,cuts:[]}));this.store.update(Ou(o)),yield this.addCanvasEntities(o),this.store.update(yp(o[0].id))})}addCanvasEntities(n){return Tt(this,null,function*(){let i=[];for(let o=0;o<n.length;o++){let s=n[o],a=new OffscreenCanvas(s.file.width,s.file.height),l={id:s.id,canvas:a},c=yield fetch(s.file.dataURL).then(f=>f.blob()),u=yield createImageBitmap(c);a.getContext("2d")?.drawImage(u,0,0),i.push(l)}this.canvasStore.update(Ou(i))})}closeImage(n){let i=this.store.query(nn(n));if(!i||!i.meta.active)return;let o=JSON.parse(JSON.stringify(i));o.meta.active=!1;let s=this.store.query(y6()).filter(u=>u.meta.active),a=s.length,l=s.findIndex(u=>u.id===n),c=this.getActiveEntity();if(c&&c.id===i.id)if(a>1){let u=Math.max(0,l-1),d=s[u];this.setActiveImage(d.id)}else this.setActiveImage("-1");this.store.update(yn(n,u=>Z(T({},o),{meta:Z(T({},o.meta),{date:new Date})})))}openImage(n){let i=this.store.query(nn(n));if(!i||i.meta.active)return;let o=JSON.parse(JSON.stringify(i));o.meta.active=!0,this.store.update(yn(n,s=>Z(T({},o),{meta:Z(T({},o.meta),{date:new Date})})))}deleteImage(n){if(!this.store.query(nn(n)))return;let o=this.getActiveEntity();o&&o.id===n&&this.closeImage(n),this.store.update(C6(n))}duplicateImage(n){let i=this.store.query(nn(n));if(!i)return;let o=JSON.parse(JSON.stringify(i));o.id=Fi(),o.meta.date=new Date,this.store.update(Ou([o])),this.addCanvasEntities([o])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var T6=(()=>{let e=class e{onResize(n){this.updateRect()}constructor(n){this.store=n,this.destroy$=new Ne,this.updateSubject=new Ne,this.dragging=!1,this.id="-42",this.zoom=1,this.scroll={x:.5,y:.5}}ngOnChanges(n){}ngAfterViewInit(){this.stage||(this.initStage(),this.initRect(),this.initSubs())}ngOnDestroy(){this.destroy$.next(1),this.destroy$.complete()}initStage(){this.stage=new Xo.default.Stage({height:117,width:208,container:"preview"});let n=new Xo.default.Layer({imageSmoothingEnabled:!1});this.layerBG=n,this.stage.add(this.layerBG);let i=new Xo.default.Layer({imageSmoothingEnabled:!1});this.layerRect=i,this.stage.add(this.layerRect)}initSubs(){this.store.activeFile$.pipe(ot(this.destroy$)).subscribe(n=>{this.imageFile=n;let i=this.store.store.query(Zo());i&&(this.id=i.id),this.drawBG(),this.updateRect()}),this.store.zoom$.pipe(ot(this.destroy$)).subscribe(n=>{this.zoom=n||1,this.updateRect()}),this.store.scroll$.pipe(ot(this.destroy$)).subscribe(n=>{this.scroll=n,this.updateRect()}),this.updateSubject.pipe(Vn(5),ot(this.destroy$)).subscribe(n=>{this.store.updateScroll(this.id,n.x,n.y)})}drawBG(){let n=this.imageFile;if(!n)return;let i=this.stage,o=117,s=208,a=n.dataURL,l=n.height,c=n.width,u=o/l,d=s/c,f=Math.min(u,d),h=(s-c*f)/2,g=(o-l*f)/2,v=this.layerBG;v.findOne("#previewBG")&&v.destroyChildren(),Xo.default.Image.fromURL(a,function(D){D.setAttrs({x:0,y:0,scaleX:1,scaleY:1,id:"previewBG"}),v.add(D)}),i.width(c*f),i.height(l*f),i.scale({x:f,y:f})}initRect(){let n=new Xo.default.Rect({x:0,y:0,width:100,height:100,stroke:"orange",strokeWidth:2,strokeScaleEnabled:!1,id:"previewRect",draggable:!0}),i=this;n.on("dragstart",function(){i.dragging=!0}),n.on("dragend",function(){i.dragging=!1}),n.on("dragmove",function(){let o=i.imageFile?.width||0,s=i.imageFile?.height||0,a=Math.max(0,Math.min(this.x(),o-this.width())),l=Math.max(0,Math.min(this.y(),s-this.height()));this.x(a),this.y(l),i.updateStoreFromRect()}),this.rect=n,this.layerRect.add(n)}updateStoreFromRect(){let n=this.rect,i=this.imageFile;if(!i)return;let o=i.width-n.width(),s=i.height-n.height(),a=o!=0?n.x()/o:.5,l=s!=0?n.y()/s:.5;this.updateSubject.next({x:a,y:l})}updateRect(){let n=this.imageFile;if(!n||this.dragging)return;let i=window.innerHeight,o=window.innerWidth,s=24,a=i-32-48-32-32-2*s,l=o-48-240-2*s,c=this.zoom,u=this.scroll,d=l/(n.width*c),f=a/(n.height*c),h=0,g=0,v=100,_=100;d<1?(v=d*n.width,h=u.x*(n.width-v)):(h=0,v=n.width),f<1?(_=f*n.height,g=u.y*(n.height-_)):(g=0,_=n.height),this.rect.x(h),this.rect.y(g),this.rect.width(v),this.rect.height(_)}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-canvas-preview"]],hostBindings:function(i,o){i&1&&W("resize",function(a){return o.onResize(a)},!1,Rl)},standalone:!0,features:[Mn,fe],decls:2,vars:0,consts:[[1,"container"],["id","preview"]],template:function(i,o){i&1&&(b(0,"div",0),B(1,"div",1),S())},dependencies:[le],styles:[".container[_ngcontent-%COMP%]{margin:0;padding:9px 16px}#preview[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:117px;width:208px}"]});let t=e;return t})();var LM=["zoomSlider"];function VM(t,e){t&1&&Oe(0)}function jM(t,e){t&1&&Oe(0)}function UM(t,e){t&1&&Oe(0)}function BM(t,e){if(t&1){let r=qe();Xe(0),b(1,"div",6),B(2,"app-canvas-preview",7),b(3,"div",8)(4,"div",9),W("click",function(){X(r);let i=N();return Q(i.zoomOutClicked(i.active.id))}),J(5,VM,1,0,"ng-container",10),S(),b(6,"input",11,12),W("input",function(i){X(r);let o=N();return Q(o.onSliderChange(i,o.active.id))}),Ue(8,"inverseExp"),S(),b(9,"div",13),W("click",function(){X(r);let i=N();return Q(i.zoomInClicked(i.active.id))}),J(10,jM,1,0,"ng-container",10),S()(),b(11,"div",14)(12,"div",15),G(13),Ue(14,"percent"),S(),B(15,"div",16),b(16,"div",17),W("click",function(){X(r);let i=N();return Q(i.zoomerClicked(i.active,1))}),G(17," 1x "),S(),b(18,"div",17),W("click",function(){X(r);let i=N();return Q(i.zoomerClicked(i.active,2))}),G(19," 2x "),S(),b(20,"div",17),W("click",function(){X(r);let i=N();return Q(i.zoomerClicked(i.active,5))}),G(21," 5x "),S(),b(22,"div",18),W("click",function(){X(r);let i=N();return Q(i.maximizeClicked(i.active))}),J(23,UM,1,0,"ng-container",10),S()()(),Qe()}if(t&2){let r=N(),n=ve(6),i=ve(4),o=ve(8);F(5),k("ngTemplateOutlet",n),F(),k("value",Be(8,5,r.active.meta.zoom)),F(4),k("ngTemplateOutlet",i),F(3),un(Be(14,7,r.active.meta.zoom)),F(10),k("ngTemplateOutlet",o)}}function HM(t,e){t&1&&Oe(0)}function $M(t,e){t&1&&Oe(0)}function GM(t,e){t&1&&Oe(0)}function zM(t,e){if(t&1&&(b(0,"div",6)(1,"div",19),B(2,"div"),S(),b(3,"div",8)(4,"div",20),J(5,HM,1,0,"ng-container",10),S(),B(6,"input",21,12),Ue(8,"inverseExp"),b(9,"div",22),J(10,$M,1,0,"ng-container",10),S()(),b(11,"div",14)(12,"div",15),G(13),Ue(14,"percent"),S(),B(15,"div",16),b(16,"div",23),G(17," 1x "),S(),b(18,"div",23),G(19," 2x "),S(),b(20,"div",23),G(21," 5x "),S(),b(22,"div",24),J(23,GM,1,0,"ng-container",10),S()()()),t&2){N();let r=ve(6),n=ve(4),i=ve(8);F(5),k("ngTemplateOutlet",r),F(),k("value",Be(8,5,1)),F(4),k("ngTemplateOutlet",n),F(3),un(Be(14,7,1)),F(10),k("ngTemplateOutlet",i)}}function qM(t,e){t&1&&(Ye(),b(0,"svg",25)(1,"g",26),B(2,"path",27)(3,"path",28),S(),b(4,"defs")(5,"clipPath",29),B(6,"rect",30),S()()())}function WM(t,e){t&1&&(Ye(),b(0,"svg",25)(1,"g",31),B(2,"path",32)(3,"path",33),S(),b(4,"defs")(5,"clipPath",34),B(6,"rect",30),S()()())}function YM(t,e){t&1&&(Ye(),b(0,"svg",35)(1,"g",36),B(2,"path",37)(3,"path",38)(4,"path",39)(5,"path",40),S(),b(6,"defs")(7,"clipPath",41),B(8,"rect",42),S()()())}function KM(t,e){t&1&&(b(0,"div",43),Ye(),b(1,"svg",44)(2,"g",45),B(3,"path",46)(4,"path",47)(5,"path",48),S(),b(6,"defs")(7,"clipPath",49),B(8,"rect",50),S()()()())}var ZM=(()=>{let e=class e{transform(n){return 17.7946*Math.log(5.516024049864857*n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=pr({name:"inverseExp",type:e,pure:!0,standalone:!0});let t=e;return t})(),A6=(()=>{let e=class e{constructor(n){this.store=n,this.destroy$=new Ne,this.updateSubject=new Ne,this.store.active$.pipe(ot(this.destroy$)).subscribe(i=>{this.active=i})}ngOnInit(){this.updateSubject.pipe(Vn(5),ot(this.destroy$)).subscribe(n=>{this.store.updateZoom(n[0],n[1])})}ngOnDestroy(){this.destroy$.next(1),this.destroy$.complete()}onSliderChange(n,i){let o=n.target,s=this.scaleValue(Number(o.value));this.updateSubject.next([i,s])}scaleValue(n){return .18129*Math.exp(.0561968*n)}zoomInClicked(n){let i=this.zoomSliderRef.nativeElement,o=Number(i.value),s=Math.round(o)+2,a=Math.min(s,Number(i.max)),l=this.scaleValue(a);this.updateSubject.next([n,l])}zoomOutClicked(n){let i=this.zoomSliderRef.nativeElement,o=Number(i.value),s=Math.round(o)-2,a=Math.max(s,Number(i.min)),l=this.scaleValue(a);this.updateSubject.next([n,l])}maximizeClicked(n){if(!n.file)return;let i=window.innerHeight,o=window.innerWidth,s=24,a=i-32-48-32-32-2*s,l=o-48-240-2*s,c=a/n.file.height,u=l/n.file.width,d=Math.min(c,u),f=this.zoomSliderRef.nativeElement,h=Math.max(Number(f.min),Math.min(Number(f.max),d));this.updateSubject.next([n.id,h])}zoomerClicked(n,i){this.updateSubject.next([n.id,i])}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-canvas-navigation"]],viewQuery:function(i,o){if(i&1&&vr(LM,5),i&2){let s;zn(s=qn())&&(o.zoomSliderRef=s.first)}},standalone:!0,features:[fe],decls:11,vars:2,consts:[[4,"ngIf","ngIfElse"],["fake",""],["zoomIn",""],["zoomOut",""],["maximize",""],["remove",""],[1,"container"],[1,"canvas"],[1,"slidercontainer"],[1,"zoomout",3,"click"],[4,"ngTemplateOutlet"],["type","range","min","0.1","max","100","step","0.1",1,"slider",3,"value","input"],["zoomSlider",""],[1,"zoomin",3,"click"],[1,"buttons"],[1,"percent","prevent-select"],[1,"spacer"],[1,"zoomer","prevent-select",3,"click"],[1,"maximize",3,"click"],[1,"canvas","canvas-fake"],[1,"zoomout"],["type","range","min","0.1","max","100","step","0.1",1,"slider",3,"value"],[1,"zoomin"],[1,"zoomer","prevent-select"],[1,"maximize"],["width","159","height","154","viewBox","0 0 159 154","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_996)"],["d","M14.5582 89.0236C18.4678 93.6319 23.5943 97.0394 29.3479 98.8536C34.6975 100.546 40.2624 101.455 45.8707 101.552C54.1113 101.739 62.3894 100.355 71.1896 97.3279C77.215 95.2655 82.9729 92.487 88.341 89.0516C88.4686 89.3108 88.6247 89.5558 88.806 89.7806C98.6486 101.542 109.39 112.293 118.602 121.262C127.919 130.332 137.524 139.404 146.562 147.919C147.982 149.195 149.492 150.368 151.078 151.428C151.531 151.749 151.99 152.069 152.442 152.396C153.183 152.982 154.089 153.318 155.032 153.359C155.727 153.357 156.402 153.119 156.946 152.684C158.44 151.526 158.732 149.642 157.689 147.883L157.16 146.983C156.104 145 154.816 143.151 153.326 141.473C147.01 134.934 140.206 128.106 133.102 121.18C125.232 113.508 117.189 105.75 109.411 98.2487C105.177 94.166 100.946 90.0815 96.7189 85.9936C96.1601 85.453 95.6388 84.8598 95.135 84.286C95.0107 84.1437 94.887 84.0033 94.7646 83.8656L94.9654 83.6434C95.2555 83.3185 95.5482 82.9975 95.8551 82.6953C103.119 75.6263 107.098 66.7872 107.68 56.4243C108.691 38.4186 102.638 23.1455 89.6879 11.0282C83.3401 4.94621 75.1086 1.22828 66.3629 0.493103C57.8574 -0.323972 49.2758 0.660071 41.1734 3.38146C28.8546 7.59665 18.3748 15.6449 10.0267 27.3015C2.57994 37.6942 -0.355364 49.0752 1.29327 61.1269C2.63368 70.9822 6.97543 80.1072 14.5582 89.0236ZM53.5401 12.2042C54.8611 12.0795 56.1821 11.9565 57.5031 11.8352C77.2085 11.0633 88.9504 24.6094 93.3705 37.5369C96.3913 46.3741 97.0317 53.8414 95.3869 61.0456C94.3055 66.0536 91.8669 70.6638 88.3404 74.3696C84.2408 78.6452 79.3338 82.0585 73.9054 84.4095C61.8292 89.8287 50.0894 91.6046 38.0179 89.8365C30.2785 88.7039 24.3963 85.2938 20.0351 79.4119C15.5521 73.3689 12.7302 67.6261 11.4072 61.8637C9.48378 53.9318 10.2632 45.582 13.6212 38.1464C17.4812 29.5504 22.6026 23.2111 29.2781 18.7672C34.5795 15.2375 39.4529 13.4045 44.6151 13.0003C47.5938 12.7644 50.6165 12.4791 53.5401 12.2042Z","fill","white"],["d","M20.9156 50.6481C20.8308 51.3752 21.03 52.107 21.4713 52.6899C21.9126 53.2729 22.5617 53.6617 23.2824 53.7749C24.5124 54.0906 25.7777 54.246 27.0472 54.2375C31.9089 54.0497 36.8483 53.8061 41.6253 53.5709L46.3044 53.3421C47.1067 53.3031 47.909 53.2603 48.8156 53.2122L49.6353 53.1692L49.6671 53.4513C49.7195 53.9126 49.7584 54.2519 49.7882 54.5924C49.9129 56.0219 50.0362 57.4513 50.1579 58.8808C50.4661 62.4826 50.7854 66.2053 51.1454 69.8656C51.1767 71.095 51.5269 72.2945 52.1614 73.3465C52.9538 74.4213 54.0918 75.188 55.3829 75.5168C55.5463 75.5486 55.7124 75.5649 55.8789 75.5655C57.1921 75.5655 58.3292 74.535 58.7391 72.9014C59.0872 71.6688 59.2463 70.39 59.2105 69.1092C59.0409 66.5276 58.7806 63.9149 58.528 61.3885C58.4309 60.4142 58.3355 59.4395 58.2418 58.4645L57.6759 52.5454L57.9174 52.5181C58.3642 52.4661 58.7048 52.4272 59.0461 52.3934L63.8009 51.921C68.0969 51.4967 72.5383 51.058 76.9041 50.5824C78.1163 50.5183 79.2941 50.1579 80.336 49.5324C80.8023 49.1734 81.1791 48.7107 81.4362 48.1808C81.6939 47.6508 81.826 47.0681 81.8208 46.4784C81.6985 45.4244 80.6689 44.3756 79.7636 43.8473C78.8396 43.4262 77.8177 43.2671 76.8102 43.3873C73.7726 43.5036 70.1722 43.6602 66.5046 43.9357C64.1603 44.1118 61.8635 44.3465 59.4326 44.5954C58.5926 44.682 57.7449 44.7685 56.8898 44.8552L56.8581 44.3783C56.8121 43.6922 56.7739 43.119 56.7415 42.5452L56.476 37.8018C56.2985 34.6113 56.1168 31.4212 55.9307 28.2317C55.8219 26.4123 54.8714 25.2731 53.2532 25.0184C52.9219 24.9655 52.5834 24.9802 52.2579 25.0615C51.9323 25.1428 51.6265 25.289 51.3584 25.4914C50.9636 25.8099 50.6351 26.2033 50.392 26.6494C50.1488 27.0954 49.9958 27.5851 49.9416 28.0906C49.7696 29.4454 49.6962 30.8111 49.7221 32.1765C49.7059 35.5372 49.7085 38.8986 49.7111 42.3509V45.7571C48.7566 45.8604 47.8281 45.963 46.9176 46.0631C44.5508 46.323 42.3155 46.572 40.0757 46.7779C34.6176 47.2763 29.0584 47.7331 23.8645 48.1522C21.6156 48.3348 21.0179 49.6104 20.9156 50.6481Z","fill","white"],["id","clip0_1_996"],["width","158","height","154","fill","white","transform","translate(0.777344)"],["clip-path","url(#clip0_1_999)"],["d","M154.779 142.458C152.263 139.504 149.475 136.556 146.255 133.445C133.915 121.518 121.334 109.429 109.168 97.7371L99.3711 88.3217C98.269 87.2632 97.1519 86.2183 96.0641 85.2027L95.005 84.2098L95.0381 84.1449C95.0875 84.0383 95.1448 83.9363 95.2104 83.8388C95.5609 83.4405 95.9361 83.0474 96.3249 82.6698C103.581 75.5995 107.548 66.75 108.116 56.3616C109.099 38.3741 102.984 23.1158 89.9373 11.0102C83.6322 5.0228 75.4832 1.34732 66.8192 0.583593C58.1676 -0.273856 49.4326 0.718459 41.1944 3.49464C28.7944 7.74168 18.6427 15.4963 10.1595 27.2035C2.62359 37.6047 -0.365394 49.0865 1.27637 61.3305C2.42399 69.8859 5.99426 77.9192 12.5132 86.6121C17.0159 92.6168 22.6506 96.741 29.2593 98.8717C34.5152 100.57 39.9918 101.49 45.5145 101.601C59.5589 101.895 73.3355 98.1342 86.5003 90.4602C87.0718 90.1268 87.6472 89.798 88.2155 89.4731L88.5192 89.299C89.5992 90.503 90.6655 91.698 91.7175 92.8832C94.2813 95.7631 96.7027 98.4818 99.2372 101.2C112.215 115.117 126.29 128.354 139.902 141.155C142.434 143.538 144.964 145.921 147.492 148.303C149.068 149.708 150.759 150.976 152.549 152.095L153.475 152.714C154.148 153.178 154.94 153.439 155.758 153.464C156.139 153.474 156.516 153.395 156.861 153.233C157.206 153.071 157.508 152.83 157.743 152.531C158.493 151.578 158.978 149.711 158.483 148.553C157.554 146.35 156.306 144.296 154.779 142.458ZM53.3468 12.2655C54.7772 12.1091 56.2062 11.9506 57.6336 11.7899C77.4403 11.1141 89.2604 24.6466 93.713 37.5332C96.8015 46.4743 97.4348 54.045 95.7072 61.3597C94.6038 66.2497 92.1961 70.7501 88.7402 74.3824C83.8559 79.5586 77.7043 83.395 69.381 86.4536C59.5604 90.1697 48.9675 91.3796 38.5611 89.9741C30.3425 88.8805 24.1265 85.2144 19.5543 78.7633C15.298 72.7586 12.7219 67.4362 11.4456 62.0121C9.67624 54.7328 10.1841 47.0861 12.9007 40.1044C17.4002 28.4225 25.239 19.987 36.2002 15.0336C38.156 14.1499 40.4604 13.8348 42.6886 13.5294L42.7874 13.5164C46.2953 13.0362 49.8805 12.6443 53.3481 12.2655H53.3468Z","fill","white"],["d","M24.1702 48.4609C22.3242 48.663 21.2196 49.8962 21.3555 51.6045C21.4491 52.7741 22.0882 54.1725 24.5999 54.1738C28.7892 54.1738 32.9791 54.177 37.1489 54.177H47.8085C50.3551 54.0904 52.8909 54.0081 55.4158 53.9302C62.0479 53.719 68.9108 53.5007 75.6267 53.1862C77.5897 53.0291 79.5332 52.6845 81.4305 52.1569C81.816 52.0633 82.201 51.9692 82.5852 51.8788C82.9936 51.7938 83.3804 51.6264 83.7224 51.3867C84.0638 51.147 84.3525 50.8402 84.571 50.485C84.7368 50.1976 84.8395 49.8784 84.8733 49.5484C84.9071 49.2183 84.8707 48.8849 84.766 48.57C84.5502 48.0316 84.2172 47.5479 83.7907 47.1545C83.3642 46.7611 82.8551 46.4677 82.3004 46.2958C80.8297 45.9733 79.3186 45.871 77.8173 45.9923C75.4765 46.0989 73.1 46.2411 70.8022 46.3789C67.9771 46.5478 65.0565 46.722 62.1845 46.8337C57.0173 47.0326 51.7604 47.1983 46.6771 47.3588C42.1816 47.5011 37.6861 47.6421 33.1912 47.8078C30.1281 47.9202 27.0935 48.1399 24.1702 48.4609Z","fill","white"],["id","clip0_1_999"],["width","158","height","156","viewBox","0 0 158 156","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_712)"],["d","M106.987 153.403C109.085 153.821 111.21 154.083 113.345 154.189C114.534 154.25 115.722 154.313 116.909 154.378C122.286 154.669 127.845 154.969 133.323 155C133.609 155 133.894 155 134.179 155C139.276 155 144.581 154.744 149.962 154.239C154.983 153.766 156.328 152.343 156.499 147.315C156.866 136.59 157.133 125.683 157.391 115.137L157.534 109.327C157.551 108.273 157.439 107.221 157.202 106.194C156.648 103.717 155.011 102.165 152.823 102.048C151.715 101.988 150.622 102.321 149.733 102.985C148.844 103.65 148.215 104.606 147.957 105.687C147.477 107.454 147.225 109.275 147.208 111.106C147.143 116.409 147.146 121.798 147.148 127.011C147.148 128.825 147.148 130.639 147.148 132.453C147.148 135.106 147.148 137.76 147.148 140.495V143.828L146.823 143.908C146.568 143.986 146.305 144.038 146.039 144.065C144.674 144.125 143.309 144.192 141.944 144.26C138.283 144.438 134.498 144.623 130.779 144.678C126.691 144.743 122.535 144.723 118.513 144.703C116.058 144.691 113.601 144.68 111.148 144.686C109.772 144.645 108.396 144.745 107.041 144.983C104.694 145.477 103.195 147.091 103.127 149.194C103.093 150.471 103.54 152.703 106.987 153.403Z","fill","white"],["d","M43.5595 144.771C36.5529 144.669 29.4294 144.641 22.5396 144.615C20.3338 144.607 18.1281 144.598 15.9223 144.588C14.8071 144.583 13.6918 144.584 12.4909 144.588H11.3154C11.2927 144.364 11.2707 144.158 11.2506 143.965C11.1857 143.341 11.1325 142.847 11.1163 142.374C10.9567 137.768 10.7996 133.163 10.6452 128.558C10.4333 122.28 10.2184 116.002 10.0004 109.723C9.98393 108.249 9.8595 106.778 9.62808 105.321C9.52765 104.556 9.16396 103.851 8.5998 103.327C8.03564 102.802 7.3063 102.491 6.53789 102.449C4.807 102.311 3.48875 103.216 2.83999 104.996C2.6042 105.68 2.45933 106.391 2.40918 107.113L2.33014 108.005C2.17963 109.682 2.02458 111.418 1.97852 113.14C1.63208 125.986 1.34195 137.653 1.09218 148.808C1.00784 152.552 3.21372 154.951 7.14326 155.388C8.42418 155.507 9.7106 155.556 10.9968 155.534C11.3978 155.534 11.7981 155.534 12.1984 155.54L17.9678 155.61C26.6573 155.715 35.642 155.825 44.4807 155.87H44.5222C45.9211 155.834 47.2999 155.528 48.5828 154.967C49.5334 154.64 50.3588 154.024 50.9446 153.206C51.5303 152.387 51.8475 151.407 51.8521 150.4C51.8567 149.393 51.5486 148.409 50.9704 147.585C50.3922 146.762 49.5724 146.138 48.6249 145.802C47.0104 145.162 45.2955 144.813 43.5595 144.771Z","fill","white"],["d","M5.74181 55.6845H5.84619C8.02732 55.6845 9.76346 54.0335 10.3921 51.3509C10.541 50.652 10.617 49.9395 10.619 49.2248C10.6301 48.6398 10.645 48.0547 10.6593 47.4697C10.7053 45.6308 10.7528 43.7298 10.6834 41.8533C10.487 36.5753 10.2725 31.298 10.0398 26.0213C9.87765 22.1871 9.71863 18.352 9.56293 14.5162C9.51687 13.3416 9.52855 12.1541 9.54152 10.897C9.54542 10.496 9.54924 10.0876 9.55184 9.66969C10.1052 9.66644 10.6424 9.65877 11.1673 9.65162C12.6594 9.62952 14.0743 9.61041 15.4594 9.68841C25.2453 10.2403 33.4776 10.4035 41.8498 9.38818C43.3624 9.2249 44.8293 8.77042 46.1699 8.04976C46.7312 7.74303 47.2013 7.29277 47.5323 6.74469C47.8634 6.19665 48.0437 5.57045 48.0546 4.92992C48.0574 4.27537 47.8872 3.63188 47.5612 3.06466C47.2351 2.49744 46.7649 2.02687 46.1984 1.70086C45.0505 1.06602 43.7791 0.687687 42.4714 0.591928C41.0896 0.49185 39.7032 0.472504 38.3192 0.534482C37.904 0.544882 37.4888 0.555926 37.0743 0.561776C31.1645 0.648443 25.2546 0.736775 19.3449 0.826475L5.78584 1.02992C3.56383 1.06307 2.28257 2.10365 1.87126 4.21485C1.54904 5.78135 1.37207 7.37454 1.34256 8.97367C1.23746 19.6792 1.15562 31.446 1.08296 46.004C1.04293 47.7067 1.13316 49.4098 1.35285 51.0986C1.77844 53.9138 3.41795 55.6286 5.74181 55.6845Z","fill","white"],["d","M146.662 16.5955C146.485 18.7619 146.302 21.0033 146.172 23.2139L145.995 26.1456C145.694 31.0778 145.383 36.1777 145.315 41.2048C145.322 43.4102 145.851 45.5826 146.858 47.5435C147.158 48.2106 147.636 48.7823 148.239 49.1961C148.841 49.61 149.545 49.8501 150.275 49.8906H150.328C151.065 49.859 151.779 49.6287 152.395 49.2241C153.012 48.8194 153.509 48.2553 153.832 47.5915C154.875 45.669 155.509 43.5501 155.692 41.3691C156.645 29.803 156.043 18.069 155.461 6.72394L155.391 5.34271C155.261 2.85256 153.95 1.24802 151.591 0.698766C149.82 0.242304 147.998 0.0214045 146.171 0.0421018C136.86 0.341752 127.037 0.730363 115.258 1.26466C113.865 1.36094 112.496 1.66948 111.196 2.17936C110.475 2.4362 109.865 2.93494 109.468 3.59108C109.072 4.24721 108.914 5.02043 109.022 5.77975C109.02 6.55995 109.324 7.30966 109.867 7.86846C110.411 8.42727 111.151 8.75077 111.93 8.76982C112.325 8.81207 112.72 8.8601 113.115 8.9082C114.146 9.033 115.212 9.16229 116.279 9.19349C118.723 9.26499 121.206 9.30405 123.61 9.34175C125.271 9.36775 126.93 9.39356 128.59 9.43061C132.912 9.52551 137.233 9.63211 141.715 9.74196L147.014 9.87209C147.014 10.0827 147.019 10.2803 147.022 10.4688C147.033 11.1636 147.041 11.7121 147.003 12.2484C146.896 13.6953 146.779 15.1453 146.662 16.5955Z","fill","white"],["id","clip0_1_712"],["width","157","height","156","fill","white","transform","translate(0.777344)"],[1,"remover"],["width","120","height","141","viewBox","0 0 120 141","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_576)"],["d","M11.5447 32.2823C9.35739 31.9305 7.54846 31.7222 5.77836 31.3361C2.60934 30.6453 0.988722 29.1086 0.949918 26.938C0.90982 24.6587 2.59503 22.7092 5.87594 22.292C10.5616 21.6963 15.3056 21.5295 20.03 21.2921C22.5846 21.1628 25.1507 21.2695 28.1082 21.2695C27.6794 19.2916 27.3724 17.7509 27.009 16.2245C26.2431 13.1665 26.6502 9.93253 28.1499 7.15974C30.1548 3.31135 33.21 0.966791 37.5696 0.821263C45.5318 0.555646 53.4971 0.406041 61.4658 0.372408C66.7409 0.347184 72.0177 0.592906 77.2931 0.718385C78.0466 0.736495 78.8026 0.733267 79.5535 0.788891C84.9344 1.18602 88.3776 3.94844 89.6148 9.22106C90.1749 11.6084 90.2467 14.1134 90.4976 16.5699C90.627 17.8376 90.6645 19.1143 90.7563 20.58C91.6242 20.7109 92.4993 20.7908 93.3769 20.8193C99.1891 20.655 104.999 20.4131 110.812 20.2863C112.31 20.2218 113.809 20.3725 115.263 20.734C116.431 21.0072 117.48 21.649 118.255 22.5645C119.03 23.48 119.49 24.6206 119.567 25.8177C119.768 27.0519 119.583 28.318 119.038 29.4433C118.493 30.5687 117.614 31.4986 116.521 32.1065C115.619 32.6562 114.629 33.0624 113.507 33.6199C113.507 36.7542 113.401 39.8628 113.525 42.9615C114.263 61.3478 115.277 79.7315 114.594 98.1391C114.347 104.796 113.896 111.473 112.986 118.065C112.481 121.727 111.006 125.296 109.663 128.789C109.028 130.464 108.025 131.975 106.728 133.211C105.431 134.447 103.872 135.375 102.169 135.928C99.021 137.007 95.7892 137.824 92.507 138.369C89.5152 138.752 86.5046 138.965 83.4895 139.006C71.7674 139.589 60.049 140.279 48.3204 140.659C43.3759 140.869 38.4226 140.655 33.5146 140.02C20.8883 138.243 14.0256 131.285 12.0272 118.648C11.4351 115.148 11.1059 111.607 11.0423 108.058C10.9086 87.7206 10.8602 67.383 10.8973 47.0453C10.9038 42.2177 11.3093 37.3887 11.5447 32.2823ZM21.213 33.0682C21.795 43.107 22.2262 92.2559 23.389 107.055C23.7318 111.419 24.7369 115.741 25.5971 120.052C26.4547 124.348 29.3579 126.846 33.5196 127.519C38.1762 128.271 42.9124 128.996 47.6077 128.961C59.3402 128.874 71.0741 128.47 82.7969 127.939C87.2853 127.736 91.751 126.893 96.2122 126.238C97.0251 126.136 97.7857 125.78 98.3839 125.22C98.9828 124.66 99.389 123.925 99.5455 123.121C100.163 120.625 100.962 118.14 101.257 115.602C102.951 101.021 102.602 86.3863 102.154 71.7566C101.802 60.2522 101.392 48.7496 101.003 37.2464C100.968 36.2116 100.897 35.1728 100.849 34.268C73.4017 33.8676 48.8907 33.4724 21.2148 33.0682H21.213ZM38.4807 21.0379C52.0098 21.5275 65.2706 21.5062 78.617 20.8833V11.9383C65.1232 11.4855 51.8792 10.9991 38.4807 12.3115V21.0379Z","fill","white"],["d","M82.2127 77.7577C82.0717 70.8105 81.7412 63.7697 81.4211 56.9597L81.4146 56.8303C81.2995 54.3613 81.1869 51.8924 81.0757 49.4233C81.0265 48.5606 80.8642 47.7079 80.5939 46.8872C80.0008 45.0115 78.6627 44.0226 76.9308 44.1862C75.8817 44.2729 74.0748 44.8129 73.7533 47.4479C73.7016 47.922 73.6757 48.3986 73.6757 48.8754C73.5722 57.4389 72.7903 85.75 72.7826 86.0385C72.6364 92.8447 72.4851 99.8798 72.3816 106.859C72.3279 108.781 72.5012 110.703 72.899 112.583C73.0911 113.579 73.6285 114.476 74.4162 115.115C75.2046 115.754 76.1928 116.094 77.2069 116.076C77.3259 116.076 77.4462 116.072 77.5671 116.063C78.5689 116.035 79.5281 115.652 80.2737 114.982C81.0188 114.312 81.5019 113.4 81.6364 112.406C81.9915 110.339 82.1862 108.247 82.2185 106.15L82.2534 101.336C82.3103 93.6124 82.3724 85.6265 82.2127 77.7577Z","fill","white"],["d","M47.6009 44.6397H47.5977C46.9524 44.6372 46.3162 44.7915 45.7437 45.0896C45.1713 45.3876 44.6798 45.8204 44.3116 46.3504C43.6881 47.4661 43.3363 48.7129 43.2847 49.9899C43.1747 51.7201 43.0594 53.4495 42.9417 55.2211C42.5375 61.3145 42.1185 67.6158 41.9388 73.8347C41.6801 82.6789 41.5928 91.666 41.5055 100.358C41.4792 103.018 41.451 105.678 41.4209 108.338C41.4194 109.427 41.5716 110.511 41.8734 111.557C42.579 114.058 44.2768 115.611 46.3037 115.611H46.3684C48.4916 115.575 50.1884 113.898 50.6897 111.339C50.9368 109.985 51.0413 108.609 51.0011 107.234C50.8885 100.171 50.7505 93.1097 50.6199 86.4012L50.5015 80.3356L50.6369 73.1316C50.7844 65.3281 50.9233 57.9518 51.0351 50.539C51.1015 49.296 50.9174 48.0524 50.4939 46.882C50.2341 46.2985 49.834 45.7884 49.3292 45.3972C48.8245 45.0059 48.2307 44.7458 47.6009 44.6397Z","fill","white"],["id","clip0_1_576"],["width","119","height","141","fill","white","transform","translate(0.777344)"]],template:function(i,o){if(i&1&&J(0,BM,24,9,"ng-container",0)(1,zM,24,9,"ng-template",null,1,Ie)(3,qM,7,0,"ng-template",null,2,Ie)(5,WM,7,0,"ng-template",null,3,Ie)(7,YM,9,0,"ng-template",null,4,Ie)(9,KM,9,0,"ng-template",null,5,Ie),i&2){let s=ve(2);k("ngIf",o.active)("ngIfElse",s)}},dependencies:[le,ut,Vt,Bm,ZM,T6],styles:['.container[_ngcontent-%COMP%]{width:100%;display:grid;height:100%;grid-template-areas:"canvas" "slider" "buttons";grid-template-rows:auto 32px 33px}.canvas[_ngcontent-%COMP%]{grid-area:canvas;height:135px}.canvas-fake[_ngcontent-%COMP%]{margin:0;padding:9px 16px;display:flex;justify-content:center;align-items:center;height:117px;width:208px}.canvas-fake[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:117px;width:117px;outline:1px solid orange;outline-offset:-1px}.slidercontainer[_ngcontent-%COMP%]{grid-area:slider;display:flex;padding:6px 16px;background-color:var(--background-subheader)}.slidercontainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{line-height:20px;text-align:center}.percent[_ngcontent-%COMP%]{width:50px;line-height:20px;margin-top:auto;margin-bottom:auto}.zoomin[_ngcontent-%COMP%]{width:20px}.zoomin[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{margin:0}.zoomout[_ngcontent-%COMP%]{width:20px}.zoomout[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{margin:0}.slider[_ngcontent-%COMP%]{margin:auto 8px;width:110px;width:100%;cursor:pointer;-webkit-appearance:none;appearance:none;height:5px;background:#3c3e42}input[type=range][_ngcontent-%COMP%]:focus{outline:none}input[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:#3c3e42;height:5px}input[type=range][_ngcontent-%COMP%]::-moz-range-track{background:#3c3e42;height:5px}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;margin-top:-6px;background-color:var(--accent);height:16px;width:16px;border-radius:50px}input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{border:none;background-color:var(--accent);height:16px;width:16px;border-radius:50px}.buttons[_ngcontent-%COMP%]{grid-area:buttons;height:32px;background-color:var(--background-subheader);display:grid;grid-template-columns:50px auto repeat(4,32px);gap:4px;padding-right:16px;padding-left:16px;border-bottom:1px solid rgba(0,0,0,.5)}.zoomer[_ngcontent-%COMP%]{text-align:center;margin-top:auto;margin-bottom:auto;opacity:.5;cursor:pointer}.spacer[_ngcontent-%COMP%]{width:100%}svg[_ngcontent-%COMP%]{margin-top:6px;margin-left:6px;height:20px;width:20px;opacity:.5;cursor:pointer}']});let t=e;return t})();var XM=["canvas"];function QM(t,e){t&1&&Oe(0)}function JM(t,e){if(t&1&&(Xe(0),J(1,QM,1,0,"ng-container",12),Qe()),t&2){N();let r=ve(14);F(),k("ngTemplateOutlet",r)}}function eT(t,e){t&1&&(Ye(),b(0,"svg",13),B(1,"path",14)(2,"path",15),S())}function tT(t,e){t&1&&(Ye(),b(0,"svg",16)(1,"g",17),B(2,"path",18)(3,"path",19)(4,"path",20),S(),b(5,"defs")(6,"clipPath",21),B(7,"rect",22),S()()())}var nT=(()=>{let e=class e{transform(n,...i){return`w: ${n.absolute.width}, h: ${n.absolute.height}`}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=pr({name:"cutSize",type:e,pure:!0,standalone:!0});let t=e;return t})(),R6=(()=>{let e=class e{constructor(n){this.store=n}ngOnChanges(n){this.drawCut()}ngAfterViewInit(){this.drawCut()}drawCut(){if(!this.canvasRef)return;let i=this.canvasRef.nativeElement.getContext("2d");if(!i)return;i.clearRect(0,0,i.canvas.width,i.canvas.height),i.imageSmoothingEnabled=!1;let o=this.activeCanvas.canvas,s=this.cut.absolute,a=s.x,l=s.y,c=s.width,u=s.height;if(c===u)i.drawImage(o,a,l,c,u,0,0,40,40);else if(c>u){let h=u/c*40,g=(40-h)/2;i.drawImage(o,a,l,c,u,0,g,40,h)}else{let d=c/u*40,f=(40-d)/2;i.drawImage(o,a,l,c,u,f,0,d,40)}}cutClicked(){this.cut.selected?this.store.selectCut(this.activeCanvas.id,void 0):this.store.selectCut(this.activeCanvas.id,this.cut)}eyeClicked(){let n=T({},this.cut);n.visible=!this.cut.visible,this.store.updateCut(this.activeCanvas.id,n)}mouseover(n){let i=n?this.cut.id:"";this.store.updateMouseoverCutID(i)}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-layers-cut"]],viewQuery:function(i,o){if(i&1&&vr(XM,5),i&2){let s;zn(s=qn())&&(o.canvasRef=s.first)}},inputs:{cut:"cut",activeCanvas:"activeCanvas"},standalone:!0,features:[Mn,fe],decls:17,vars:10,consts:[[1,"container",3,"click","mouseenter","mouseleave"],[1,"canvas"],["konva",""],["width","40","height","40"],["canvas",""],[1,"main"],[1,"title"],[1,"size"],[1,"eye",3,"tooltip","position","click"],[4,"ngIf","ngIfElse"],["eye",""],["eyeclosed",""],[4,"ngTemplateOutlet"],["width","24","height","15","viewBox","0 0 24 15","fill","none","xmlns","http://www.w3.org/2000/svg",1,"eye-normal"],["d","M12.4595 0.0192124C14.63 0.0802182 16.7069 0.559648 18.6372 1.56577C20.0555 2.29945 21.3561 3.24309 22.4956 4.36518C22.8344 4.71936 23.1541 5.09165 23.4531 5.48044C23.8222 5.93446 23.8842 6.49565 23.9092 7.04691C23.9055 7.29295 23.8339 7.53313 23.7024 7.74063C22.4448 9.84507 20.7984 11.5273 18.5446 12.5677C15.3568 14.0392 12.0887 14.3783 8.71694 13.3252C6.24358 12.5523 3.93249 11.4497 1.89889 9.8067C1.321 9.33973 0.798444 8.82492 0.433833 8.17135C0.292525 7.89987 0.168601 7.6196 0.0628248 7.33224C-0.0617866 7.0212 0.0147302 6.71933 0.178119 6.45149C0.31175 6.24537 0.465515 6.05317 0.637145 5.87777C1.84651 4.56934 3.19483 3.39809 4.65801 2.38496C6.02436 1.44152 7.56359 0.780481 9.18626 0.440257C10.2593 0.210774 11.343 -0.0286229 12.4595 0.0192124ZM1.4656 7.16838C1.83073 7.79835 2.38451 8.18441 2.93945 8.56646C4.8758 9.89963 6.99799 10.8208 9.25913 11.43C11.6382 12.071 13.9753 11.8831 16.2914 11.0943C18.627 10.2985 20.4504 8.80438 22.0162 6.94407C22.0613 6.90189 22.0932 6.84746 22.108 6.78739C22.1139 6.67149 22.1365 6.51619 22.0747 6.44455C21.3538 5.60901 20.6171 4.78612 19.6957 4.16278C15.4583 1.29783 11.0243 1.12555 6.47636 3.28951C4.70088 4.13422 3.15902 5.36519 1.71829 6.70816C1.59368 6.82343 1.54431 7.01897 1.46508 7.16838H1.4656Z","fill","white"],["d","M15.3756 6.68239C15.3849 7.27764 15.1745 7.85525 14.7852 8.30383C13.986 9.22945 13.0007 9.76837 11.7402 9.6884C11.3276 9.6691 10.9247 9.55614 10.5618 9.35795C10.1989 9.15976 9.88526 8.88152 9.64453 8.54409C9.40382 8.20665 9.24222 7.8188 9.1719 7.40962C9.10157 7.00044 9.12434 6.58054 9.23847 6.18147C9.373 5.71024 9.58398 5.26456 9.86289 4.86241C11.1087 3.10736 13.4096 3.38468 14.546 4.44433C15.1695 5.02583 15.3884 5.77236 15.3756 6.68239ZM12.1772 5.63991C11.6187 5.60998 11.1103 5.89341 10.9889 6.25028C10.8449 6.67395 10.8545 7.09529 11.1609 7.45901C11.2387 7.55171 11.3338 7.62831 11.4407 7.6845C11.6563 7.80217 11.9006 7.8559 12.1453 7.83949C12.3901 7.82307 12.6251 7.73718 12.8232 7.59177C13.5485 7.1034 13.4967 6.20929 12.7212 5.8322C12.5448 5.75469 12.363 5.69043 12.1772 5.63991Z","fill","white"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"eye-closed"],["clip-path","url(#clip0_40_26)"],["d","M6.16435 5.58635C6.16435 5.25874 5.92896 5.04813 5.76075 4.80592C5.27342 4.10452 4.7666 3.41594 4.29498 2.70422C3.91035 2.15093 3.63995 1.52717 3.49944 0.869124C3.47756 0.749184 3.48467 0.625797 3.52026 0.509155C3.55586 0.392512 3.61893 0.285985 3.70413 0.198392C3.78646 0.1096 3.89374 0.0475394 4.01204 0.0203287C4.13035 -0.00688204 4.25414 0.00200585 4.3673 0.0458353C4.7186 0.20015 4.96246 0.472402 5.19733 0.751315C6.1414 1.87239 7.08073 2.99748 8.01531 4.12661C8.91326 5.20671 9.82419 6.27661 10.6996 7.37433C11.651 8.56724 12.5675 9.78756 13.5003 10.9951C13.7617 11.3334 14.0119 11.6816 14.2932 12.0027C15.5423 13.4287 16.6627 14.9535 17.805 16.4629C18.2466 17.0462 18.7433 17.5879 19.1914 18.1666C20.2373 19.5176 21.2741 20.8756 22.302 22.2405C22.543 22.5611 22.4463 23.0322 22.1519 23.2118C22.0159 23.2827 21.8615 23.3104 21.7092 23.2913C21.557 23.2721 21.4144 23.2067 21.3007 23.1043C21.1283 22.9325 20.9628 22.7531 20.8019 22.5706C19.429 21.0126 18.0564 19.4544 16.6842 17.8959C16.6066 17.8009 16.5051 17.7281 16.3899 17.6851C16.2747 17.6419 16.1501 17.63 16.0287 17.6505C15.6066 17.7205 15.1875 17.8084 14.7665 17.886C12.4758 18.3086 10.254 17.9946 8.07881 17.2452C6.16007 16.584 4.33595 15.7268 2.68634 14.5368C2.18646 14.1854 1.71473 13.7958 1.27538 13.3719C0.934333 13.0234 0.637852 12.6344 0.392639 12.2137C-0.14668 11.3159 -0.0829795 10.898 0.657667 10.0965C2.03039 8.616 3.59367 7.32234 5.30689 6.24908C5.61176 6.05682 5.9887 5.95086 6.16435 5.58635ZM9.52374 9.39207C9.03379 8.61539 8.40706 7.95572 7.74429 7.332C7.63372 7.22773 7.39946 7.21199 7.2279 7.22564C7.04663 7.25167 6.87221 7.31258 6.71437 7.40497C4.91699 8.33753 3.30146 9.52783 1.79008 10.8638C1.73106 10.9115 1.68235 10.9705 1.64685 11.0374C1.61136 11.1043 1.58981 11.1776 1.58355 11.253C1.57728 11.3283 1.5864 11.4043 1.61037 11.476C1.63434 11.5477 1.67264 11.6139 1.723 11.6707C2.12844 12.126 2.59636 12.5223 3.11292 12.8479C4.90444 14.0395 6.85617 14.8915 8.91503 15.498C10.5761 15.9869 12.2765 16.0743 13.9929 15.8546C14.1222 15.8428 14.2461 15.7973 14.3521 15.7226C14.458 15.6478 14.5422 15.5466 14.5961 15.429C14.4274 15.2062 14.2434 14.9671 14.0637 14.7249C13.6068 14.1092 13.0949 13.6197 12.2269 13.8655C12.1058 13.882 11.9832 13.8828 11.8621 13.8675C10.5631 13.8686 8.99042 12.7977 9.21533 10.8256C9.2693 10.3508 9.41454 9.88672 9.52374 9.39167V9.39207Z","fill","white"],["d","M19.3487 16.197C18.9056 15.9579 18.6174 15.5789 18.3577 15.1445C18.2764 15.0113 18.245 14.8537 18.2691 14.6997C18.2933 14.5457 18.3715 14.4051 18.4898 14.303C18.5418 14.2581 18.5973 14.2173 18.6558 14.1812C19.3337 13.7657 19.9611 13.2735 20.5252 12.7144C22.7238 10.5486 22.6044 11.0792 20.5252 9.04304C19.2362 7.78141 17.6057 7.05614 15.8813 6.56317C14.8205 6.25997 13.7362 6.07196 12.6231 6.11482C12.3176 6.1267 12.0113 6.11981 11.7056 6.12721C11.2432 6.13858 10.8798 5.93142 10.58 5.60736C10.4162 5.43011 10.2845 5.22335 10.1376 5.03045C10.0467 4.91086 10.1577 4.63935 10.3079 4.58972C11.5006 4.1957 12.7232 4.23823 13.9415 4.38576C17.2847 4.79074 20.0949 6.30427 22.5232 8.56831C22.9205 8.93867 23.2471 9.3894 23.5763 9.82544C23.8264 10.1768 23.9585 10.5979 23.9536 11.0285C23.9585 11.265 23.9512 11.5424 23.8363 11.7343C22.7625 13.5305 21.5232 15.1765 19.5679 16.1279C19.4964 16.1557 19.4232 16.1787 19.3487 16.197Z","fill","white"],["d","M15.4976 10.6657C15.4679 10.9017 15.292 11.4323 15.2042 11.3237C14.5176 10.4791 13.4808 9.24302 12.8225 8.37615C12.7955 8.33057 12.7803 8.27899 12.7783 8.22609C12.7763 8.1732 12.7875 8.12065 12.811 8.07315C12.8526 8.03201 12.9028 8.0004 12.9579 7.98049C13.0131 7.9606 13.072 7.95289 13.1303 7.95794C13.6733 8.04394 14.1783 8.28842 14.5813 8.66039C15.2023 9.22593 15.5848 9.97362 15.4976 10.6657Z","fill","white"],["id","clip0_40_26"],["width","24","height","23.3557","fill","white"]],template:function(i,o){if(i&1&&(b(0,"div",0),W("click",function(){return o.cutClicked()})("mouseenter",function(){return o.mouseover(!0)})("mouseleave",function(){return o.mouseover(!1)}),b(1,"div",1,2),B(3,"canvas",3,4),S(),b(5,"div",5)(6,"div",6),G(7),S(),b(8,"div",7),G(9),Ue(10,"cutSize"),S()(),b(11,"div",8),W("click",function(){return o.eyeClicked()}),J(12,JM,2,1,"ng-container",9),S()(),J(13,eT,3,0,"ng-template",null,10,Ie)(15,tT,8,0,"ng-template",null,11,Ie)),i&2){let s=ve(16);An("selected",o.cut.selected),F(7),un(o.cut.name),F(2),un(Be(10,8,o.cut)),F(2),k("tooltip","Toggle Visibility")("position","top"),F(),k("ngIf",o.cut.visible)("ngIfElse",s)}},dependencies:[le,ut,Vt,nT,pn,qr],styles:['.container[_ngcontent-%COMP%]{width:240px;height:48px;display:grid;grid-template-areas:"canvas title eye" "canvas size eye";grid-template-columns:48px auto 64px;cursor:pointer;border-bottom:1px solid rgba(0,0,0,.5)}.container[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--accent)}.main[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.title[_ngcontent-%COMP%]{grid-area:title;font-size:14px;font-weight:500;line-height:17px;padding-top:5.5px;padding-bottom:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:112px}.size[_ngcontent-%COMP%]{grid-area:size;font-size:12px;line-height:15px;font-style:italic;padding-bottom:5.5px;color:#ffffff80}.eye[_ngcontent-%COMP%]{grid-area:eye;height:48px;margin-right:16px}.eye-normal[_ngcontent-%COMP%]{line-height:48px;width:24px;height:14px;margin:17px 12px}.eye-closed[_ngcontent-%COMP%]{line-height:48px;width:24px;height:24.36px;margin:11.82px 12px}.canvas[_ngcontent-%COMP%]{grid-area:canvas;padding:4px}']});let t=e;return t})();function rT(t,e){if(t&1&&(Xe(0),B(1,"app-layers-cut",12),Qe()),t&2){let r=e.$implicit,n=N().ngIf;F(),k("cut",r)("activeCanvas",n)}}function iT(t,e){if(t&1&&(Xe(0),J(1,rT,2,2,"ng-container",11),Qe()),t&2){let r=N().ngIf;F(),k("ngForOf",r.cuts)}}function oT(t,e){if(t&1&&(Xe(0),J(1,iT,2,1,"ng-container",10),Ue(2,"async"),Qe()),t&2){let r=N(),n=ve(10);F(),k("ngIf",Be(2,2,r.activeCanvas$))("ngIfElse",n)}}function sT(t,e){t&1&&Oe(0)}function aT(t,e){t&1&&Oe(0)}function lT(t,e){t&1&&Oe(0)}function cT(t,e){t&1&&Oe(0)}function uT(t,e){t&1&&G(0,` NO CANVAS ENTITY
`)}function dT(t,e){if(t&1){let r=qe();b(0,"div",13),W("click",function(){X(r);let i=N();return Q(i.adderClicked())}),Ye(),b(1,"svg",14)(2,"g",15),B(3,"path",16)(4,"path",17),S(),b(5,"defs")(6,"clipPath",18),B(7,"rect",19),S()()()()}t&2&&k("tooltip","Add Cut")("position","top")}function fT(t,e){if(t&1){let r=qe();b(0,"div",20),W("click",function(){X(r);let i=N();return Q(i.removerClicked())}),Ye(),b(1,"svg",21)(2,"g",22),B(3,"path",23)(4,"path",24)(5,"path",25),S(),b(6,"defs")(7,"clipPath",26),B(8,"rect",27),S()()()()}t&2&&k("tooltip","Remove Cut")("position","top")}function hT(t,e){if(t&1){let r=qe();b(0,"div",28),W("click",function(){X(r);let i=N();return Q(i.duplicateClicked())}),Ye(),b(1,"svg",29)(2,"g",30),B(3,"path",31),S(),b(4,"defs")(5,"clipPath",32),B(6,"rect",33),S()()()()}t&2&&k("tooltip","Duplicate Cut")("position","top")}function pT(t,e){if(t&1){let r=qe();b(0,"div",34),W("click",function(){X(r);let i=N();return Q(i.zoomClicked())}),Ye(),b(1,"svg",35)(2,"g",36),B(3,"path",37)(4,"path",38)(5,"path",39)(6,"path",40),S(),b(7,"defs")(8,"clipPath",41),B(9,"rect",42),S()()()()}t&2&&k("tooltip","Zoom Selected Cut")("position","top")}var O6=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$.pipe(yt(i=>{this.active=i})),this.activeCanvas$=n.activeCanvas$}adderClicked(){this.active&&(console.log("Adder",this.active),this.store.addNewCut(this.active.id))}removerClicked(){if(!this.active)return;console.log("Remover",this.active);let n=this.active.cuts?.find(i=>i.selected);this.active.cuts&&n&&this.store.removeCut(this.active.id,n.id)}duplicateClicked(){if(this.active){console.log("Duplicate");let n=this.active.cuts?.find(i=>i.selected);this.active.cuts&&n&&this.store.duplicateCut(this.active.id,n.id)}}zoomClicked(){if(!this.active)return;console.log("zoomClicked");let n=this.active.cuts?.find(i=>i.selected);this.active.cuts&&n&&this.store.zoomCut(this.active.id,n)}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-layers-cuts"]],standalone:!0,features:[fe],decls:19,vars:8,consts:[[1,"container"],[1,"cuts",3,"headerText"],[4,"ngIf"],[1,"buttons"],[4,"ngTemplateOutlet"],["error",""],["add",""],["remove",""],["duplicate",""],["zoom",""],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[3,"cut","activeCanvas"],[1,"adder",3,"tooltip","position","click"],["width","138","height","164","viewBox","0 0 138 164","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_589)"],["d","M137.273 82.673C137.273 97.0745 137.192 111.477 137.315 125.878C137.257 131.183 136.718 136.472 135.704 141.679C135.346 143.92 134.553 146.067 133.372 148.001C128.405 155.697 121.501 160.577 112.222 161.587C91.9284 163.816 71.465 164.02 51.1311 162.199C43.2342 161.486 35.2579 161.444 27.5523 159.315C23.8951 158.401 20.3171 157.194 16.8527 155.706C7.92056 151.593 2.80505 144.479 1.616 134.664C1.2437 131.655 1.05786 128.625 1.05958 125.593C1.16944 96.0341 1.35943 66.472 1.47704 36.911C1.53559 30.8429 2.38153 24.808 3.99348 18.959C5.06943 14.908 7.15491 11.1983 10.0538 8.17847C13.7054 4.23851 18.7609 1.90477 24.1195 1.68615C34.3047 1.17405 44.4892 0.555105 54.6821 0.331468C64.5003 0.116259 74.3316 0.206058 84.1504 0.425156C90.9403 0.576192 97.7296 1.06481 104.498 1.64627C106.373 1.80769 108.171 2.46653 109.709 3.55485C119.117 10.6029 127.839 18.4142 135.282 27.5846C136.961 29.6492 137.818 32.2647 137.688 34.9258C137.483 49.3241 137.407 63.7254 137.289 78.1251C137.277 79.6412 137.289 81.1568 137.289 82.673H137.273ZM12.4344 82.203C11.3675 98.0702 11.2945 113.953 11.2712 129.836C11.3269 133.244 11.8445 136.628 12.8099 139.896C13.3125 141.922 14.2457 143.815 15.5454 145.445C16.8452 147.076 18.4808 148.405 20.3404 149.343C22.3187 150.443 24.4302 151.281 26.6223 151.839C31.7689 152.976 36.9239 154.064 42.2352 154.358C62.9437 155.613 83.7077 155.647 104.421 154.461C107.053 154.297 109.695 154.112 112.299 153.717C115.3 153.231 118.098 151.891 120.362 149.857C123.238 147.384 125.384 144.168 126.566 140.557C128.419 135.061 128.44 129.408 128.44 123.727C128.436 99.141 128.432 74.5553 128.429 49.9698C128.429 46.9439 128.419 43.9173 128.343 40.8947C128.278 38.3095 126.856 37.0384 123.956 36.9528C118.679 36.7972 113.397 36.7643 108.123 36.5166C106.252 36.3845 104.402 36.0368 102.611 35.4797C101.691 35.243 100.858 34.7459 100.212 34.0478C99.5655 33.3498 99.1325 32.4801 98.9651 31.5423C98.6394 29.6825 98.4785 27.7972 98.4843 25.909C98.4326 21.3773 98.4902 16.8445 98.5134 12.3115C98.5173 11.5064 97.272 9.87169 96.598 9.77122C95.8626 9.61065 95.1175 9.49851 94.3679 9.43635C76.2697 9.17706 58.1707 8.9376 40.0716 8.71721C37.0615 8.68545 34.0476 9.00009 31.0342 9.13881C27.2124 9.31383 23.6077 10.4446 20.0871 11.802C17.589 12.7597 15.5152 14.5825 14.2407 16.9409C12.5838 19.9486 11.4509 23.1169 11.8393 26.6743C12.2496 30.434 12.8577 34.2002 12.8513 37.9631C12.8241 52.7076 12.5902 67.4553 12.4344 82.203ZM109.153 17.636C108.763 18.2309 108.47 18.8853 108.288 19.5736C108.114 21.4243 108.067 23.2915 108.076 25.1525C108.05 25.6142 108.116 26.0763 108.272 26.5117C108.427 26.9469 108.668 27.3468 108.98 27.6871C109.292 28.0276 109.669 28.3017 110.088 28.4937C110.507 28.6856 110.961 28.7913 111.422 28.8045C114.007 28.8466 116.595 28.7452 119.18 28.6544C119.332 28.6177 119.473 28.5453 119.592 28.443C119.711 28.3407 119.803 28.2111 119.863 28.0657C119.927 27.8917 119.956 27.7067 119.947 27.5213C119.94 27.3359 119.895 27.1536 119.816 26.9858C117.187 23.3863 113.949 20.2784 110.247 17.8043C109.975 17.615 109.523 17.6865 109.153 17.636Z","fill","white"],["d","M52.63 92.2501C56.3898 92.2501 60.1495 92.2806 63.9086 92.2346C64.652 92.1568 65.3482 91.8333 65.887 91.3134C66.4254 90.7936 66.7756 90.1084 66.8809 89.3662C67.1226 84.4663 67.2635 79.5612 67.5556 74.6652C67.6028 72.7853 67.9072 70.9211 68.4603 69.1242C68.6348 68.5836 68.9683 68.1091 69.4174 67.7636C69.8672 67.4174 70.4106 67.2171 70.9761 67.1886C71.5415 67.1601 72.1025 67.3046 72.5845 67.6035C73.066 67.9016 73.446 68.3405 73.6728 68.861C74.2705 70.2404 74.5969 71.7223 74.6337 73.2255C74.9232 76.9903 75.0447 80.7688 75.2696 84.5389C75.3375 85.6674 75.5094 86.7908 75.6625 87.9096C76.027 90.581 77.5618 92.1717 80.0375 92.1574C83.7972 92.1354 87.5557 91.8981 91.3154 91.8612C94.3107 91.834 97.3615 91.7691 100.104 93.2309C100.583 93.4856 100.757 94.4366 100.925 95.1042C100.954 95.2922 100.939 95.4847 100.882 95.6662C100.825 95.8471 100.726 96.0131 100.595 96.1505C100.072 96.6898 99.4197 97.0846 98.6998 97.2972C96.4716 97.6018 94.2189 97.7788 91.9707 97.8773C87.8348 98.0575 83.6951 98.1113 79.5599 98.2896C78.6235 98.3881 77.7537 98.8218 77.1088 99.5102C76.4645 100.199 76.0884 101.098 76.0496 102.042C75.7265 107.696 75.5042 113.355 75.1623 119.007C75.0492 120.876 74.7184 122.734 74.4366 124.589C74.2499 125.82 72.2136 127.291 71.095 127.104C69.884 126.901 68.1379 125.324 67.9834 124.155C67.7378 122.293 67.4664 120.423 67.4018 118.55C67.2008 112.893 67.1116 107.232 66.9359 101.573C66.868 100.825 66.5514 100.122 66.037 99.577C65.5226 99.0312 64.8399 98.6746 64.0992 98.5651C59.5911 98.3278 55.0792 98.1625 50.5718 97.9169C47.5701 97.7516 44.5703 97.5286 41.575 97.2622C40.0241 97.1254 38.2664 95.2806 38.753 94.3452C38.9799 93.8422 39.3438 93.4137 39.8026 93.1084C40.2614 92.8037 40.7967 92.6339 41.3469 92.6203C45.106 92.5872 48.8658 92.6086 52.6249 92.6086L52.63 92.2501Z","fill","white"],["id","clip0_1_589"],["width","137","height","164","fill","white","transform","translate(0.777344)"],[1,"remover",3,"tooltip","position","click"],["width","120","height","141","viewBox","0 0 120 141","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_576)"],["d","M11.5447 32.2823C9.35739 31.9305 7.54846 31.7222 5.77836 31.3361C2.60934 30.6453 0.988722 29.1086 0.949918 26.938C0.90982 24.6587 2.59503 22.7092 5.87594 22.292C10.5616 21.6963 15.3056 21.5295 20.03 21.2921C22.5846 21.1628 25.1507 21.2695 28.1082 21.2695C27.6794 19.2916 27.3724 17.7509 27.009 16.2245C26.2431 13.1665 26.6502 9.93253 28.1499 7.15974C30.1548 3.31135 33.21 0.966791 37.5696 0.821263C45.5318 0.555646 53.4971 0.406041 61.4658 0.372408C66.7409 0.347184 72.0177 0.592906 77.2931 0.718385C78.0466 0.736495 78.8026 0.733267 79.5535 0.788891C84.9344 1.18602 88.3776 3.94844 89.6148 9.22106C90.1749 11.6084 90.2467 14.1134 90.4976 16.5699C90.627 17.8376 90.6645 19.1143 90.7563 20.58C91.6242 20.7109 92.4993 20.7908 93.3769 20.8193C99.1891 20.655 104.999 20.4131 110.812 20.2863C112.31 20.2218 113.809 20.3725 115.263 20.734C116.431 21.0072 117.48 21.649 118.255 22.5645C119.03 23.48 119.49 24.6206 119.567 25.8177C119.768 27.0519 119.583 28.318 119.038 29.4433C118.493 30.5687 117.614 31.4986 116.521 32.1065C115.619 32.6562 114.629 33.0624 113.507 33.6199C113.507 36.7542 113.401 39.8628 113.525 42.9615C114.263 61.3478 115.277 79.7315 114.594 98.1391C114.347 104.796 113.896 111.473 112.986 118.065C112.481 121.727 111.006 125.296 109.663 128.789C109.028 130.464 108.025 131.975 106.728 133.211C105.431 134.447 103.872 135.375 102.169 135.928C99.021 137.007 95.7892 137.824 92.507 138.369C89.5152 138.752 86.5046 138.965 83.4895 139.006C71.7674 139.589 60.049 140.279 48.3204 140.659C43.3759 140.869 38.4226 140.655 33.5146 140.02C20.8883 138.243 14.0256 131.285 12.0272 118.648C11.4351 115.148 11.1059 111.607 11.0423 108.058C10.9086 87.7206 10.8602 67.383 10.8973 47.0453C10.9038 42.2177 11.3093 37.3887 11.5447 32.2823ZM21.213 33.0682C21.795 43.107 22.2262 92.2559 23.389 107.055C23.7318 111.419 24.7369 115.741 25.5971 120.052C26.4547 124.348 29.3579 126.846 33.5196 127.519C38.1762 128.271 42.9124 128.996 47.6077 128.961C59.3402 128.874 71.0741 128.47 82.7969 127.939C87.2853 127.736 91.751 126.893 96.2122 126.238C97.0251 126.136 97.7857 125.78 98.3839 125.22C98.9828 124.66 99.389 123.925 99.5455 123.121C100.163 120.625 100.962 118.14 101.257 115.602C102.951 101.021 102.602 86.3863 102.154 71.7566C101.802 60.2522 101.392 48.7496 101.003 37.2464C100.968 36.2116 100.897 35.1728 100.849 34.268C73.4017 33.8676 48.8907 33.4724 21.2148 33.0682H21.213ZM38.4807 21.0379C52.0098 21.5275 65.2706 21.5062 78.617 20.8833V11.9383C65.1232 11.4855 51.8792 10.9991 38.4807 12.3115V21.0379Z","fill","white"],["d","M82.2127 77.7577C82.0717 70.8105 81.7412 63.7697 81.4211 56.9597L81.4146 56.8303C81.2995 54.3613 81.1869 51.8924 81.0757 49.4233C81.0265 48.5606 80.8642 47.7079 80.5939 46.8872C80.0008 45.0115 78.6627 44.0226 76.9308 44.1862C75.8817 44.2729 74.0748 44.8129 73.7533 47.4479C73.7016 47.922 73.6757 48.3986 73.6757 48.8754C73.5722 57.4389 72.7903 85.75 72.7826 86.0385C72.6364 92.8447 72.4851 99.8798 72.3816 106.859C72.3279 108.781 72.5012 110.703 72.899 112.583C73.0911 113.579 73.6285 114.476 74.4162 115.115C75.2046 115.754 76.1928 116.094 77.2069 116.076C77.3259 116.076 77.4462 116.072 77.5671 116.063C78.5689 116.035 79.5281 115.652 80.2737 114.982C81.0188 114.312 81.5019 113.4 81.6364 112.406C81.9915 110.339 82.1862 108.247 82.2185 106.15L82.2534 101.336C82.3103 93.6124 82.3724 85.6265 82.2127 77.7577Z","fill","white"],["d","M47.6009 44.6397H47.5977C46.9524 44.6372 46.3162 44.7915 45.7437 45.0896C45.1713 45.3876 44.6798 45.8204 44.3116 46.3504C43.6881 47.4661 43.3363 48.7129 43.2847 49.9899C43.1747 51.7201 43.0594 53.4495 42.9417 55.2211C42.5375 61.3145 42.1185 67.6158 41.9388 73.8347C41.6801 82.6789 41.5928 91.666 41.5055 100.358C41.4792 103.018 41.451 105.678 41.4209 108.338C41.4194 109.427 41.5716 110.511 41.8734 111.557C42.579 114.058 44.2768 115.611 46.3037 115.611H46.3684C48.4916 115.575 50.1884 113.898 50.6897 111.339C50.9368 109.985 51.0413 108.609 51.0011 107.234C50.8885 100.171 50.7505 93.1097 50.6199 86.4012L50.5015 80.3356L50.6369 73.1316C50.7844 65.3281 50.9233 57.9518 51.0351 50.539C51.1015 49.296 50.9174 48.0524 50.4939 46.882C50.2341 46.2985 49.834 45.7884 49.3292 45.3972C48.8245 45.0059 48.2307 44.7458 47.6009 44.6397Z","fill","white"],["id","clip0_1_576"],["width","119","height","141","fill","white","transform","translate(0.777344)"],[1,"duplicate",3,"tooltip","position","click"],["width","151","height","173","viewBox","0 0 151 173","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_1076)"],["d","M30.9232 153.398C25.9083 153.062 21.2596 152.78 16.6154 152.431C13.3687 152.186 10.2998 151.464 7.57837 149.459C3.00697 146.09 1.56868 141.264 1.45764 136.007C1.29465 128.332 1.36022 120.646 1.56152 112.971C1.76671 105.186 2.0875 97.3959 2.65373 89.6298C3.85958 73.0868 4.3797 56.5257 4.83879 39.947C5.16786 31.9356 6.64063 24.0128 9.2122 16.4196C11.359 9.78579 15.6758 5.67804 22.633 4.53533C24.2765 4.26477 25.9219 3.95521 27.5791 3.81993C50.8388 1.97287 74.0727 -0.472549 97.463 0.405459C102.453 0.593417 107.451 0.999201 112.406 1.62356C118.56 2.39881 121.757 5.86334 121.977 12.0576C122.155 17.1357 121.886 22.2301 121.81 27.7778C122.815 27.7778 124.008 27.6887 125.186 27.7947C128.943 28.1322 132.725 28.3527 136.439 28.9654C142.402 29.9513 146.049 33.544 147.631 39.4325C148.915 44.4993 149.683 49.6836 149.923 54.9056C150.962 71.9558 149.786 88.9202 148.223 105.895C147.611 112.529 147.573 119.228 147.435 125.902C147.297 132.576 147.5 139.263 147.258 145.933C147.131 149.71 146.673 153.467 145.891 157.163C144.143 165.312 138.661 170.196 130.151 171.171C124.199 171.921 118.213 172.362 112.216 172.494C94.7721 172.676 77.3227 172.758 59.8816 172.485C54.1517 172.396 48.381 171.399 42.7388 170.278C36.1317 168.965 32.0472 163.932 31.3102 157.17C31.1771 155.969 31.0622 154.766 30.9232 153.398ZM42.1304 105.059H41.7044C41.4797 112.397 41.2546 119.735 41.0291 127.073C40.7538 135.633 40.4401 144.191 40.1934 152.752C40.1525 154.189 40.3927 155.633 40.459 157.076C40.5888 159.93 42.155 161.708 44.8232 162.227C49.3901 163.117 53.9849 164.166 58.607 164.406C68.2513 164.906 77.9247 165.201 87.5786 165.067C99.5656 164.9 111.549 164.269 123.527 163.708C126.073 163.54 128.597 163.116 131.059 162.443C134.088 161.671 136.161 159.649 136.683 156.506C137.389 152.801 137.844 149.051 138.044 145.284C138.262 137.614 138.034 129.932 138.177 122.261C138.285 116.482 138.437 110.684 139.001 104.936C140.466 89.9771 141.451 75.0022 140.733 59.9668C140.468 54.4224 140.112 48.8753 138.642 43.4636C137.981 41.0305 136.759 39.5275 134.086 39.4781C127.658 39.359 121.224 38.9747 114.801 39.0996C103.697 39.3149 92.6058 39.8527 81.5078 40.2214C73.6253 40.4816 65.7383 40.6117 57.8596 40.9538C54.3245 41.1072 50.7128 41.2972 47.4908 43.0057C46.383 43.591 44.8609 44.551 44.6901 45.5422C44.2325 48.6629 43.4543 51.7279 42.368 54.6885C42.1904 55.4482 42.1427 56.2326 42.2271 57.0083C42.1862 59.5663 42.1375 62.1248 42.1356 64.6827C42.126 78.1396 42.1243 91.5985 42.1304 105.059ZM30.7978 143.928C30.9232 141.672 31.0434 139.9 31.1167 138.126C31.4938 129.01 31.865 119.894 32.2304 110.777C32.8103 96.6584 33.3427 82.5381 33.9986 68.4236C34.4115 59.539 34.6986 50.6261 36.6038 41.8935C36.9548 40.4047 37.6252 39.0103 38.5687 37.8072C41.2358 34.4555 45.0751 32.2443 49.309 31.6215C54.8915 30.6969 60.5239 30.1038 66.1766 29.8454C80.6045 29.169 95.0441 28.7541 109.479 28.2195C110.341 28.1876 111.198 28.0243 112.384 27.8851C112.736 22.5832 112.797 17.4317 111.688 11.8788C106.129 11.5341 100.605 11.0605 95.0708 10.8706C73.5896 10.1324 52.2291 12.3483 30.8336 13.6744C28.296 13.8311 25.7881 14.4314 23.2556 14.7325C20.3238 15.0818 18.7823 16.8625 17.9278 19.5213C15.7652 26.07 14.4365 32.8659 13.9732 39.748C13.007 55.9592 12.0154 72.1737 11.4238 88.4019C10.8803 103.295 10.8167 118.213 10.6258 133.121C10.6562 135.122 10.8956 137.114 11.3401 139.066C11.8551 141.637 13.281 142.885 15.9148 143.141C19.3401 143.474 22.7765 143.702 26.2115 143.913C27.6258 144.003 29.0517 143.928 30.7978 143.928Z","fill","white"],["id","clip0_1_1076"],["width","150","height","173","fill","white","transform","translate(0.777344)"],[1,"zoom",3,"tooltip","position","click"],["width","175","height","178","viewBox","0 0 175 178","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_928)"],["d","M172.628 58.3672C172.09 56.1786 170.977 54.4981 169.497 53.6354C168.935 53.3056 168.311 53.0957 167.665 53.0187C167.018 52.9417 166.363 52.9992 165.74 53.1878C163.734 53.7607 161.485 55.5381 162.163 60.7528C162.694 64.8338 163.134 69.0034 163.56 73.0311C163.742 74.7501 163.926 76.4684 164.112 78.1873C163.431 89.6209 162.677 99.9293 160.365 110.194C157.345 123.602 151.105 136.241 141.82 147.757C134.288 157.098 124.665 162.887 112.398 165.453C102.246 167.502 91.8336 167.91 81.554 166.662C73.1975 165.705 63.4003 164.183 54.0923 160.154C43.3159 155.49 35.6885 149.982 30.0868 142.819C21.7986 132.191 15.8741 119.902 12.7122 106.782C10.5717 98.4507 10.0012 89.7917 11.0304 81.251C12.6073 68.6825 16.8759 56.3314 24.4627 42.3792C27.1333 37.4547 30.7425 33.1062 35.085 29.5814C45.6544 20.9861 56.1223 15.0835 67.0862 11.5352C74.8832 9.01135 83.4887 8.21802 93.4042 9.11062C99.9935 9.70374 106.397 11.6774 112.589 13.5867C113.976 14.0141 115.364 14.4415 116.755 14.8553L117.395 15.0503C118.58 15.4548 119.803 15.7377 121.044 15.8948C121.868 15.9676 123.577 15.5089 123.903 14.5305C124.057 13.9713 124.088 13.385 123.992 12.8127C123.897 12.2404 123.678 11.6959 123.351 11.2175C122.511 10.1799 121.426 9.37021 120.194 8.86259C116.055 7.13781 112.311 5.60327 108.406 4.29815C100.973 1.80415 93.1816 0.553224 85.3445 0.595264C72.7745 0.700671 60.4405 4.03284 49.5142 10.2749C45.4792 12.5363 41.9132 14.6378 38.6123 16.6997C28.8955 22.7693 21.8345 29.8783 17.0259 38.4327C11.2548 48.6969 7.2682 58.1562 4.83671 67.3488C1.9544 78.2477 0.918874 86.7456 1.47839 94.9004C2.44865 109.016 6.92724 122.993 15.1751 137.628C18.1465 143.033 21.7672 148.051 25.956 152.57C34.7155 161.86 45.8142 168.432 59.8784 172.659C70.6949 175.921 81.9273 177.58 93.2211 177.583C98.0821 177.582 102.939 177.278 107.763 176.674C126.693 174.307 141.269 166.074 152.316 151.504C161.157 139.846 167.013 128.179 170.219 115.839C173.873 101.771 175.23 86.4487 174.368 68.9962C174.136 65.4044 173.553 61.8444 172.628 58.3672Z","fill","white"],["d","M101.249 33.6853C102.025 33.7665 102.801 33.849 103.577 33.9218C104.274 33.9868 106.132 34.1614 106.753 32.347C107.017 31.6636 107.007 30.9044 106.726 30.2278C106.446 29.5512 105.916 29.0096 105.247 28.7161C104.02 28.0928 102.72 27.6255 101.377 27.3248C95.2353 26.0261 88.9254 25.7349 82.6911 26.4626C71.0616 27.8352 61.2971 30.8588 52.839 35.7071C41.6021 42.1475 34.6505 50.3699 31.5871 60.8479C31.1181 62.4544 30.4874 64.0693 29.9298 65.4942C25.1299 77.441 23.9335 90.5422 26.4894 103.167C28.2953 112.091 30.5238 119.294 35.5284 125.45C47.0195 139.582 60.0874 147.555 75.4788 149.827C78.7971 150.316 82.2066 150.48 85.4971 150.638C86.9965 150.71 88.5463 150.785 90.0631 150.889H90.1078H90.124C102.015 150.643 113.69 147.64 124.234 142.115C126.763 140.85 129.093 139.218 131.148 137.272C137.646 130.858 141.741 124.777 144.034 118.137C144.496 116.798 145.107 115.468 145.698 114.182C145.879 113.787 146.061 113.393 146.238 112.997C151.534 101.214 151.486 88.3308 146.092 73.6127C145.642 72.3751 144.937 71.2474 144.023 70.3028C143.436 69.6434 142.683 69.1549 141.843 68.8885C141.002 68.6228 140.107 68.5891 139.25 68.7911C138.433 69.0535 137.702 69.5362 137.139 70.1859C136.575 70.8355 136.2 71.6274 136.053 72.4765C135.691 74.0213 135.959 75.7409 136.195 77.2584L136.249 77.5995C136.524 79.3899 136.857 81.1972 137.179 82.946C137.726 85.9142 138.292 88.9843 138.581 92.0155C139.112 97.0223 138.444 102.084 136.633 106.779C135.022 111.008 133.198 115.151 131.168 119.194C127.811 125.69 124.137 129.946 119.601 132.576C116.049 134.638 112.038 136.104 108.159 137.521L106.631 138.082C99.7742 140.61 92.3969 140.615 85.2202 140.619H85.1653C74.1289 140.619 65.7238 138.171 58.719 132.916C57.5779 132.059 56.378 131.257 55.2175 130.482C53.9329 129.623 52.6048 128.736 51.3719 127.783C44.6887 122.619 40.3221 116.804 38.0232 109.999C35.3169 101.995 32.4844 91.3782 34.6099 80.2234C35.3089 76.881 36.1776 73.5776 37.2128 70.3249C37.8422 68.2272 38.492 66.0581 39.0405 63.8972C41.2825 55.0706 46.7166 48.2339 55.6547 42.9972C67.7116 35.9324 81.1911 32.6504 95.6829 33.2208C97.5341 33.2942 99.421 33.493 101.249 33.6853Z","fill","white"],["d","M69.9032 65.4094C72.8321 63.7211 75.9389 62.3662 79.1666 61.3702C82.4959 60.3749 85.9992 59.7019 89.3867 59.051C90.2599 58.8827 91.1331 58.7151 92.0038 58.5417C93.1131 58.3214 94.7897 57.9875 94.824 56.0185C94.8505 54.4737 93.8292 53.4374 92.0937 53.2458C91.1816 53.1433 90.2638 53.107 89.3465 53.1373C83.1873 53.3699 76.9919 54.8076 69.8514 57.664C63.6318 60.0529 58.5651 64.7529 55.7007 70.7903C50.5402 81.4242 50.2347 92.798 54.7949 104.595C56.0789 107.916 58.0104 112.155 61.5817 115.494C69.583 122.974 79.3173 126.765 90.5167 126.765C91.0477 126.765 91.5801 126.78 92.1131 126.797C92.6034 126.813 93.1015 126.83 93.6008 126.83C94.1979 126.834 94.7949 126.802 95.388 126.732C103.192 125.764 109.302 123.137 114.068 118.699C123.016 110.367 127.062 99.2099 126.099 85.5358C125.963 83.6083 125.018 81.7029 124.186 80.023C123.434 78.5067 121.713 77.3491 119.997 78.1968C118.835 78.9101 117.986 80.0385 117.621 81.3554C117.397 82.2733 117.32 83.2211 117.394 84.1624C117.406 84.6217 117.417 85.0557 117.394 85.4799C117.337 86.5245 117.311 87.5867 117.286 88.615C117.29 90.9777 117.107 93.3372 116.739 95.6701C114.442 107.931 107.562 115.13 96.2897 117.069C88.3485 118.433 80.5347 116.948 73.0682 112.652C70.1891 110.995 67.2621 109.037 65.3553 105.949C59.7821 96.9245 58.405 87.3164 61.2614 77.3913C62.874 71.7745 65.7848 67.7423 69.9032 65.4094Z","fill","white"],["d","M145.799 23.715C145.894 23.2109 145.996 22.7068 146.098 22.2033C146.452 20.629 146.706 19.0338 146.858 17.4272C147.068 14.585 145.758 13.5755 143.574 12.8674C142.733 12.5694 141.828 12.5014 140.952 12.6701C140.075 12.8388 139.26 13.2382 138.588 13.8275C132.403 19.0162 126.165 24.2744 120.049 29.4553C117.849 31.3204 117.073 33.7077 117.623 36.9676C117.975 39.0633 118.193 41.2273 118.404 43.3204C118.565 44.9114 118.732 46.5555 118.955 48.1705C119.131 49.4392 118.774 50.2993 117.641 51.3433L117.135 51.8092C114.006 54.689 110.773 57.6663 107.734 60.7456C102.323 66.2282 96.8672 71.8449 91.5857 77.2766C89.0786 79.8575 86.5688 82.4372 84.0571 85.0156C82.2615 86.8574 82.6393 88.2755 83.2732 89.1408C83.5073 89.489 83.8223 89.7742 84.191 89.9724C84.5597 90.1699 84.9711 90.2738 85.389 90.2751C86.2435 90.2335 87.0643 89.9282 87.7389 89.4C88.9149 88.5237 90.0288 87.5661 91.0728 86.5345C97.1214 80.8008 103.166 75.0619 109.207 69.3192L119.026 59.9919C120.015 59.0545 120.721 58.6018 121.976 58.6538C127.333 58.8149 132.778 58.8109 138.044 58.8051C139.539 58.8025 141.034 58.8025 142.53 58.8051H142.542C143.464 58.8291 144.378 58.6437 145.218 58.2627C146.059 57.8817 146.802 57.3149 147.393 56.6048C151.662 51.7111 156.081 46.8024 160.219 42.2264C162.252 39.9793 164.01 37.6374 163.223 33.7064C162.511 30.1724 162.034 28.6087 158.076 28.5866C156.009 28.5833 153.913 28.6931 151.887 28.8088C150.741 28.8737 149.594 28.9388 148.446 28.9817C147.52 29.0155 146.601 29.0082 145.535 28.9991L144.726 28.9926C144.809 28.5859 144.892 28.1872 144.974 27.7961C145.268 26.3786 145.545 25.0487 145.799 23.715ZM155.361 36.7077L155.521 36.7194L144.44 50.8028H125.844C125.79 50.6144 125.731 50.4229 125.672 50.2287C125.401 49.4594 125.228 48.659 125.155 47.8463C125.073 45.696 125.077 43.4996 125.08 41.376C125.08 40.102 125.084 38.8282 125.069 37.5556C125.053 36.2992 125.236 35.2955 126.172 34.4835C129.674 31.4471 133.164 28.3944 136.868 25.154L139.995 22.4203C139.964 22.9056 139.937 23.2583 139.885 23.5981C139.735 24.5615 139.568 25.5224 139.4 26.4832C139.083 28.3119 138.753 30.203 138.554 32.0876C138.378 33.7494 138.61 34.8809 139.283 35.6442C139.956 36.4075 141.02 36.7707 142.652 36.8006C145.035 36.8461 147.456 36.7778 149.795 36.7135C151.063 36.6791 152.332 36.6447 153.6 36.6265C154.12 36.6252 154.636 36.6597 155.36 36.7103L155.361 36.7077Z","fill","white"],["id","clip0_1_928"],["width","174","height","178","fill","white","transform","translate(0.777344)"]],template:function(i,o){if(i&1&&(b(0,"div",0)(1,"app-layer-box",1),J(2,oT,3,4,"ng-container",2),Ue(3,"async"),S(),b(4,"div",3),J(5,sT,1,0,"ng-container",4)(6,aT,1,0,"ng-container",4)(7,lT,1,0,"ng-container",4)(8,cT,1,0,"ng-container",4),S()(),J(9,uT,1,0,"ng-template",null,5,Ie)(11,dT,8,2,"ng-template",null,6,Ie)(13,fT,9,2,"ng-template",null,7,Ie)(15,hT,7,2,"ng-template",null,8,Ie)(17,pT,10,2,"ng-template",null,9,Ie)),i&2){let s=ve(12),a=ve(14),l=ve(16),c=ve(18);F(),k("headerText","Cuts"),F(),k("ngIf",Be(3,6,o.active$)),F(3),k("ngTemplateOutlet",c),F(),k("ngTemplateOutlet",s),F(),k("ngTemplateOutlet",l),F(),k("ngTemplateOutlet",a)}},dependencies:[le,yo,ut,Vt,jt,Ro,R6,pn,qr],styles:['.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-areas:"cuts" "buttons";grid-template-rows:auto 33px}.cuts[_ngcontent-%COMP%]{grid-area:cuts}.spacer[_ngcontent-%COMP%]{width:240px;height:100%;min-height:32px}.buttons[_ngcontent-%COMP%]{position:relative;grid-area:buttons;height:32px;background-color:var(--background-subheader);display:grid;grid-template-columns:repeat(3,32px);justify-content:end;gap:4px;padding-right:16px;border-bottom:1px solid rgba(0,0,0,.5)}.adder[_ngcontent-%COMP%], .remover[_ngcontent-%COMP%], .duplicate[_ngcontent-%COMP%]{width:32px}.zoom[_ngcontent-%COMP%]{width:32px;height:32px;position:absolute;left:16px}div[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{margin-top:6px;margin-left:6px;height:20px;width:20px;opacity:.5;cursor:pointer}']});let t=e;return t})();var N6=(()=>{let e=class e{constructor(){this.worker=new Worker(new URL("worker-E7PUOM2F.js",import.meta.url),{type:"module"}),this.handleWorker()}handleWorker(){this.worker.addEventListener("message",({data:n})=>{console.log("Worker finished",n);let i=n;this.downloadResult(i)})}downloadResult(n){let i=n.img,o=n.result;for(let s=0;s<o.length;s++){let a=o[s],l=a.fileType.split("/").slice(-1)[0],c=document.createElement("a"),u=`${i.meta.name}-${a.cut.name}.${l}`;c.download=u,c.href=a.dataURL,c.click()}}getFileSize(n){return window.atob(n.split(",")[1]).length}downloadSelectedCut(){if(console.log("downloadSelectedCut"),!this.active||!this.activeCanvas){console.log("ERROR: refs missing");return}let n=this.active.cuts.findIndex(s=>s.selected);if(n<0){console.log("ERROR: No Cut selected");return}let i=this.active.cuts[n],o={};this.worker.postMessage({active:this.active,cuts:[i],options:{}})}downloadAllCuts(){console.log("downloadAllCuts"),!(!this.active||!this.activeCanvas)&&this.active.cuts.length>0&&this.worker.postMessage({active:this.active,cuts:this.active.cuts,options:{}})}downloadAllVisibleCuts(){if(console.log("downloadAllVisibleCuts"),!this.active||!this.activeCanvas)return;let n=this.active.cuts.filter(i=>i.visible);n.length>0&&this.worker.postMessage({active:this.active,cuts:n,options:{}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ce({type:e,selectors:[["app-exporter"]],inputs:{active:"active",activeCanvas:"activeCanvas"},standalone:!0,features:[fe],decls:0,vars:0,template:function(i,o){},dependencies:[le]});let t=e;return t})();var gT=["exporter"];function mT(t,e){t&1&&Oe(0)}function vT(t,e){t&1&&Oe(0)}function CT(t,e){t&1&&Oe(0)}function yT(t,e){t&1&&Oe(0)}function _T(t,e){if(t&1&&(Xe(0),b(1,"app-layer-box",7),J(2,mT,1,0,"ng-container",8)(3,vT,1,0,"ng-container",8)(4,CT,1,0,"ng-container",8)(5,yT,1,0,"ng-container",8),B(6,"app-exporter",9,10),S(),B(8,"div",11),Qe()),t&2){let r=e.ngIf,n=N().ngIf;N();let i=ve(6),o=ve(8),s=ve(10),a=ve(12);F(),k("headerText","Export"),F(),k("ngTemplateOutlet",i),F(),k("ngTemplateOutlet",o),F(),k("ngTemplateOutlet",s),F(),k("ngTemplateOutlet",a),F(),k("active",r)("activeCanvas",n)}}function wT(t,e){if(t&1&&(Xe(0),J(1,_T,9,7,"ng-container",1),Ue(2,"async"),Qe()),t&2){let r=N();F(),k("ngIf",Be(2,1,r.active$))}}function bT(t,e){t&1&&(Ye(),b(0,"svg",12)(1,"g",13),B(2,"path",14)(3,"path",15),S(),b(4,"defs")(5,"clipPath",16),B(6,"rect",17),S()()())}function DT(t,e){t&1&&Oe(0)}function xT(t,e){if(t&1){let r=qe();b(0,"div",18),W("click",function(){X(r);let i=N();return Q(i.onClickSelected())}),b(1,"div",19)(2,"div",20),G(3,"Download Selected"),S(),b(4,"div",21),G(5,"size: 548kb"),S()(),b(6,"div",22),J(7,DT,1,0,"ng-container",8),S()()}if(t&2){N();let r=ve(4);F(7),k("ngTemplateOutlet",r)}}function ST(t,e){t&1&&Oe(0)}function ET(t,e){if(t&1){let r=qe();b(0,"div",18),W("click",function(){X(r);let i=N();return Q(i.onClickAll())}),b(1,"div",19)(2,"div",20),G(3,"Download All"),S(),b(4,"div",21),G(5,"size: 2.48mb"),S()(),b(6,"div",22),J(7,ST,1,0,"ng-container",8),S()()}if(t&2){N();let r=ve(4);F(7),k("ngTemplateOutlet",r)}}function IT(t,e){t&1&&Oe(0)}function MT(t,e){if(t&1){let r=qe();b(0,"div",18),W("click",function(){X(r);let i=N();return Q(i.onClickAllVisible())}),b(1,"div",19)(2,"div",20),G(3,"Download All Visible"),S(),b(4,"div",21),G(5,"size: 1.69"),S()(),b(6,"div",22),J(7,IT,1,0,"ng-container",8),S()()}if(t&2){N();let r=ve(4);F(7),k("ngTemplateOutlet",r)}}function TT(t,e){t&1&&Oe(0)}function AT(t,e){if(t&1){let r=qe();b(0,"div",18),W("click",function(){X(r);let i=N();return Q(i.onClickAs())}),b(1,"div",19)(2,"div",20),G(3,"Download..."),S(),b(4,"div",21),G(5,"..."),S()(),b(6,"div",22),J(7,TT,1,0,"ng-container",8),S()()}if(t&2){N();let r=ve(4);F(7),k("ngTemplateOutlet",r)}}var P6=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$,this.activeCanvas$=n.activeCanvas$}onClickSelected(){this.exporterRef.downloadSelectedCut()}onClickAll(){this.exporterRef.downloadAllCuts()}onClickAllVisible(){this.exporterRef.downloadAllVisibleCuts()}onClickAs(){}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-layers-export"]],viewQuery:function(i,o){if(i&1&&vr(gT,5),i&2){let s;zn(s=qn())&&(o.exporterRef=s.first)}},standalone:!0,features:[fe],decls:13,vars:3,consts:[[1,"container"],[4,"ngIf"],["iconDownload",""],["exportActive",""],["exportAll",""],["exportAllVisible",""],["exportAs",""],[1,"exports",3,"headerText"],[4,"ngTemplateOutlet"],[3,"active","activeCanvas"],["exporter",""],[1,"buttons"],["width","158","height","146","viewBox","0 0 158 146","fill","none","xmlns","http://www.w3.org/2000/svg",1,"icon-download"],["clip-path","url(#clip0_1_595)"],["d","M70.5401 108.42C69.3341 107.513 68.082 106.667 66.7903 105.886L66.5126 105.725C63.2038 103.799 59.7829 101.808 56.3218 100.016C55.4323 99.5558 54.5377 99.0461 53.6722 98.5518C51.2997 97.1984 48.8474 95.7998 46.035 95.128C45.9112 95.0982 45.7815 95.1047 45.6611 95.1467C45.5409 95.188 45.4351 95.263 45.3564 95.3631L44.0193 97.0511C43.9436 97.1468 43.8959 97.2617 43.8813 97.3832C43.8666 97.504 43.8857 97.6267 43.9363 97.7372C44.0285 97.9394 44.105 98.1449 44.1802 98.3445C44.3357 98.8438 44.5791 99.3116 44.8991 99.7257C52.1892 108.196 61.1181 115.77 73.8469 124.284C74.6234 124.777 75.4363 125.212 76.2778 125.586C77.3988 126.146 78.6321 126.45 79.8868 126.474C81.5716 126.453 83.1922 125.824 84.447 124.705C84.7155 124.479 84.9893 124.258 85.2631 124.038C85.8535 123.564 86.4633 123.073 87.0238 122.527C88.5698 121.024 90.123 119.526 91.6832 118.035C95.8191 114.066 100.095 109.961 104.095 105.722C106.574 102.979 108.877 100.084 110.993 97.055C111.699 96.086 112.405 95.1163 113.123 94.1609L113.203 94.0549C113.618 93.5136 114.588 92.2461 113.158 90.7647C113.04 90.6433 112.881 90.5709 112.711 90.5619C110.291 90.4424 108.679 91.8539 107.124 93.228C106.542 93.7681 105.924 94.2668 105.272 94.7197C102.835 96.3941 100.509 98.223 98.3097 100.196L97.9081 100.541C96.7838 101.505 95.6984 102.54 94.6487 103.539C93.6457 104.495 92.6077 105.483 91.5489 106.398C90.8197 107.028 90.1346 107.726 89.4729 108.4C88.2364 109.778 86.8136 110.977 85.2449 111.963C85.2358 111.891 85.2274 111.823 85.219 111.754C85.1314 111.196 85.0866 110.634 85.0847 110.07C85.1878 106.448 85.3001 102.827 85.422 99.2043C85.6095 93.4199 85.8035 87.4384 85.9313 81.5512C85.9715 79.7107 86.0131 77.8689 86.0565 76.0271C86.438 59.5536 86.8318 42.5255 85.3358 25.7872C84.7992 19.7792 83.889 13.7166 83.0093 7.85141L82.6402 5.38277C82.4157 4.44857 82.0037 3.56944 81.4283 2.7987C81.0766 2.23408 80.6783 1.59394 80.2326 0.777372C80.1723 0.667426 80.0827 0.576769 79.9731 0.515555C79.8635 0.454342 79.7389 0.424669 79.613 0.431018C79.4878 0.437367 79.3665 0.478926 79.264 0.550885C79.1608 0.622843 79.0804 0.722499 79.0324 0.837936C77.5136 4.44013 77.4643 7.54494 77.4209 10.2834C77.406 11.2402 77.3917 12.1449 77.3203 13.0429C77.1977 14.5881 77.0485 16.1315 76.8993 17.6735C76.7105 19.62 76.5159 21.633 76.3803 23.6214C76.1856 26.4852 76.0637 29.3992 75.9469 32.2165C75.9093 33.1106 75.871 34.0043 75.8327 34.8984L75.7912 35.8364C75.6413 39.2242 75.4869 42.7268 75.3734 46.1759C75.2689 49.3698 75.1885 52.7454 75.1223 56.7992C75.0795 59.3833 75.0574 61.9711 75.0354 64.5584L75.0029 68.0818C74.9913 69.2536 74.977 70.4255 74.9608 71.5974C74.9277 74.1434 74.8959 76.7765 74.8959 79.3683C74.8991 82.7024 74.9199 86.6509 75.0432 90.6646C75.0938 92.3262 75.1917 94.009 75.2871 95.639C75.3948 97.4827 75.5057 99.3858 75.5466 101.259C75.5719 102.388 75.6647 103.538 75.7542 104.65C76.026 107.03 76.0403 109.431 75.7964 111.814C73.9558 110.824 72.1984 109.689 70.5401 108.42Z","fill","white"],["d","M154.191 82.8569C153.744 82.6101 153.249 82.4621 152.739 82.4234C152.229 82.3853 151.717 82.4576 151.238 82.6346C151.144 82.6605 151.057 82.7063 150.983 82.7684C150.909 82.831 150.85 82.9092 150.81 82.9971C149.077 86.744 148.595 106.975 148.244 121.748C148.106 127.519 147.995 132.177 147.842 134.43C147.03 134.507 146.264 134.589 145.533 134.666C143.717 134.86 142.147 135.025 140.568 135.063C134.253 135.213 126.785 135.366 119.282 135.366H119.171C114.222 135.366 109.273 135.373 104.323 135.386C88.7154 135.414 72.5762 135.446 56.7108 135.16C47.3609 134.99 37.8546 134.392 28.661 133.812C24.7951 133.567 20.7975 133.316 16.8634 133.102C16.1357 133.045 15.4118 132.947 14.6952 132.809C14.4357 132.765 14.1697 132.72 13.8901 132.675C13.8389 132.333 13.7843 131.996 13.7305 131.661C13.5519 130.672 13.4265 129.673 13.3548 128.67C13.1926 125.565 13.0584 122.459 12.9235 119.352C12.6886 113.938 12.446 108.34 12.0554 102.841C11.6402 96.9756 11.0485 87.1264 10.7339 81.78C10.6799 80.7722 10.2443 79.8212 9.51481 79.1203C8.78534 78.4194 7.8161 78.0195 6.80236 78.0014C5.76153 77.9794 4.75231 78.3574 3.98422 79.057C3.21613 79.7573 2.74817 80.7244 2.67751 81.7586C2.03719 91.7157 0.623532 116.375 1.3229 130.279L1.36772 131.235C1.391 133.381 1.63708 135.52 2.10209 137.617C3.0655 141.327 5.29401 142.99 9.55186 143.181C12.9312 143.333 16.31 143.511 19.6881 143.69C25.0728 143.975 30.6449 144.272 36.1308 144.446C48.1595 144.833 59.0509 145.054 69.4271 145.128C74.0521 145.162 78.6765 145.205 83.3015 145.257C91.5927 145.343 100.003 145.431 108.457 145.431C119.85 145.431 131.323 145.272 142.687 144.74C145.152 144.67 147.609 144.442 150.044 144.055C153.921 143.365 156.099 140.984 156.341 137.168C156.435 135.679 156.557 134.071 156.681 132.446C156.848 130.242 157.022 127.964 157.13 125.88C157.052 111.441 155.603 86.7369 155.324 84.7988C155.288 84.4125 155.169 84.0391 154.973 83.7038C154.777 83.3685 154.51 83.0791 154.191 82.8569Z","fill","white"],["id","clip0_1_595"],["width","157","height","146","fill","white","transform","translate(0.777344)"],[1,"sub-container","prevent-select",3,"click"],[1,"main"],[1,"title"],[1,"size"],[1,"icon"]],template:function(i,o){i&1&&(b(0,"div",0),J(1,wT,3,3,"ng-container",1),Ue(2,"async"),S(),J(3,bT,7,0,"ng-template",null,2,Ie)(5,xT,8,1,"ng-template",null,3,Ie)(7,ET,8,1,"ng-template",null,4,Ie)(9,MT,8,1,"ng-template",null,5,Ie)(11,AT,8,1,"ng-template",null,6,Ie)),i&2&&(F(),k("ngIf",Be(2,1,o.activeCanvas$)))},dependencies:[le,ut,Vt,jt,Ro,pn,N6],styles:['.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-areas:"cuts" "buttons";grid-template-rows:auto 33px}.exports[_ngcontent-%COMP%]{grid-area:cuts}.buttons[_ngcontent-%COMP%]{grid-area:buttons;height:32px;background-color:var(--background-subheader);display:grid;grid-template-columns:32px 32px;justify-content:end;gap:4px;padding-right:16px;border-bottom:1px solid rgba(0,0,0,.5)}.sub-container[_ngcontent-%COMP%]{width:240px;height:48px;display:grid;grid-template-areas:"title icon" "size icon";grid-template-columns:auto 64px;cursor:pointer;border-bottom:1px solid rgba(0,0,0,.5)}.sub-container[_ngcontent-%COMP%]:hover, .selected[_ngcontent-%COMP%]{background-color:var(--accent)}.main[_ngcontent-%COMP%]{padding-left:16px;padding-right:8px}.title[_ngcontent-%COMP%]{grid-area:title;font-size:14px;font-weight:500;line-height:17px;padding-top:5.5px;padding-bottom:5px}.size[_ngcontent-%COMP%]{grid-area:size;font-size:12px;line-height:15px;font-style:italic;padding-bottom:5.5px;color:#ffffff80}.icon[_ngcontent-%COMP%]{grid-area:icon;height:48px;margin-right:16px}.icon-download[_ngcontent-%COMP%]{line-height:48px;width:24px;height:22.32px;margin:12.84px 12px}']});let t=e;return t})();var k6=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-layers"]],standalone:!0,features:[fe],decls:6,vars:1,consts:[[1,"container"],[1,"navigation",3,"headerText"],[1,"cuts"],[1,"export"],[1,"footer"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"app-layer-box",1),B(2,"app-canvas-navigation"),S(),B(3,"app-layers-cuts",2)(4,"app-layers-export",3)(5,"div",4),S()),i&2&&(F(),k("headerText","Navigation"))},dependencies:[le,Ro,A6,O6,P6],styles:['.container[_ngcontent-%COMP%]{display:grid;grid-template-areas:"navigation" "cuts" "export" "footer";grid-template-rows:232px auto 261px 32px;justify-content:stretch;height:100%;width:100%;max-width:240px}.navigation[_ngcontent-%COMP%]{grid-area:navigation}.cuts[_ngcontent-%COMP%]{grid-area:cuts}.export[_ngcontent-%COMP%]{grid-area:export}.footer[_ngcontent-%COMP%]{grid-area:footer;background-color:var(--background-header)}']});let t=e;return t})();function RT(t,e){t&1&&Oe(0)}function OT(t,e){t&1&&Oe(0)}function NT(t,e){t&1&&Oe(0)}function PT(t,e){if(t&1&&(Xe(0),J(1,NT,1,0,"ng-container",10),Qe()),t&2){N(2);let r=ve(8);F(),k("ngTemplateOutlet",r)}}function kT(t,e){if(t&1){let r=qe();b(0,"div",6),W("click",function(i){X(r);let o=N();return Q(o.onClick(i))})("mouseleave",function(){X(r);let i=N();return Q(i.onMouseLeave())}),B(1,"img",7),b(2,"div",8),G(3),S(),b(4,"div",9),G(5),Ue(6,"dateDelta"),S(),J(7,RT,1,0,"ng-container",10)(8,OT,1,0,"ng-container",10)(9,PT,2,1,"ng-container",11),S()}if(t&2){let r=N(),n=ve(4),i=ve(6),o=ve(10);k("tooltip",r.image.meta.name)("position","top"),F(),k("src",r.image.file.dataURL,T2),F(2),un(r.image.meta.name),F(2),un(Be(6,9,r.image.meta.date)),F(2),k("ngTemplateOutlet",n),F(),k("ngTemplateOutlet",i),F(),k("ngIf",r.image.meta.active)("ngIfElse",o)}}function FT(t,e){if(t&1){let r=qe();b(0,"div",12)(1,"div",13)(2,"span"),G(3),S(),b(4,"button",14),W("click",function(i){X(r);let o=N();return Q(o.onClickUndo(i))}),G(5,"Undo"),S(),b(6,"button",14),W("click",function(i){X(r);let o=N();return Q(o.onClickDeleteAtOnce(i))}),G(7,"Delete"),S()(),b(8,"div",8),G(9),S(),b(10,"div",9),G(11),Ue(12,"dateDelta"),S()()}if(t&2){let r=N();k("tooltip",r.image.meta.name)("position","top"),F(3),Wn("Auto-deletion in ",r.deletionSecondsLeft," second(s)..."),F(6),un(r.image.meta.name),F(2),un(Be(12,5,r.image.meta.date))}}function LT(t,e){if(t&1){let r=qe();b(0,"div",15),W("click",function(i){X(r);let o=N();return Q(o.onClickClose(i))}),Ye(),b(1,"svg",16),B(2,"path",17),S()()}}function VT(t,e){if(t&1){let r=qe();b(0,"div",18),W("click",function(i){X(r);let o=N();return Q(o.onClickMenu(i))}),Ye(),b(1,"svg",19),B(2,"path",20)(3,"path",21)(4,"path",22),S()()}}function jT(t,e){if(t&1){let r=qe();b(0,"div",24),W("click",function(i){X(r);let o=N(2);return Q(o.stopClick(i))}),b(1,"div",25),W("click",function(i){X(r);let o=N(2);return Q(o.onClickSelect(i))}),G(2,"Select"),S(),b(3,"div",25),W("click",function(i){X(r);let o=N(2);return Q(o.onClickSetActive(i,!1))}),G(4,"Deactivate"),S(),B(5,"div",26),b(6,"div",25),W("click",function(i){X(r);let o=N(2);return Q(o.onClickDownload(i))}),G(7,"Download Project"),S(),b(8,"div",25),W("click",function(i){X(r);let o=N(2);return Q(o.onClickDuplicate(i))}),G(9,"Duplicate"),S(),b(10,"div",25),W("click",function(i){X(r);let o=N(2);return Q(o.onClickDelete(i))}),G(11,"Delete"),S()()}}function UT(t,e){if(t&1&&J(0,jT,12,0,"div",23),t&2){let r=N();k("ngIf",r.showContext)}}function BT(t,e){if(t&1){let r=qe();b(0,"div",24),W("click",function(i){X(r);let o=N(2);return Q(o.stopClick(i))}),b(1,"div",25),W("click",function(i){X(r);let o=N(2);return Q(o.onClickSelect(i))}),G(2,"Select"),S(),b(3,"div",25),W("click",function(i){X(r);let o=N(2);return Q(o.onClickSetActive(i,!0))}),G(4,"Activate"),S(),B(5,"div",26),b(6,"div",25),W("click",function(i){X(r);let o=N(2);return Q(o.onClickDownload(i))}),G(7,"Download Project"),S(),b(8,"div",25),W("click",function(i){X(r);let o=N(2);return Q(o.onClickDuplicate(i))}),G(9,"Duplicate"),S(),b(10,"div",25),W("click",function(i){X(r);let o=N(2);return Q(o.onClickDelete(i))}),G(11,"Delete"),S()()}}function HT(t,e){if(t&1&&J(0,BT,12,0,"div",23),t&2){let r=N();k("ngIf",r.showContext)}}var $T=(()=>{let e=class e{transform(n){let o=new Date().valueOf()-n.valueOf(),s=Math.floor(o/(1e3*60*60*24));if(s===0)return"< 1 day ago";switch(s){case 0:return"< 1 day ago";case 1:return"1 day ago";default:return`${s} days ago`}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=pr({name:"dateDelta",type:e,pure:!0,standalone:!0});let t=e;return t})(),F6=(()=>{let e=class e{constructor(n){this.store=n,this.destroy$=new Ne,this.showContext=!1,this.markedForDeletion=!1,this.deletionSecondsLeft=42,this.deletionTimeSeconds=9,this.deletionTimer=ad(1e3).pipe(qt(this.deletionTimeSeconds),Xi(-1),ot(this.destroy$))}ngOnDestroy(){this.destroy$.next(1),this.destroy$.complete(),this.markedForDeletion&&this.deleteImage()}markForDeletion(n){n?(this.markedForDeletion=!0,this.destroy$.next(1),this.deletionTimer.subscribe(i=>{let o=this.deletionTimeSeconds-1-i;this.deletionSecondsLeft=o,o===0&&this.deleteImage()})):(this.markedForDeletion=!1,this.destroy$.next(1))}deleteImage(){console.log("DELETE",this.image.meta.name),this.store.deleteImage(this.image.id)}onClick(n){console.log("click",this.image.meta.name),this.store.setActiveImage(this.image.id)}onClickClose(n){n.preventDefault(),n.stopPropagation(),console.log("close",this.image.meta.name),this.image.meta.active?this.store.closeImage(this.image.id):this.markForDeletion(!0)}onClickMenu(n){n.preventDefault(),n.stopPropagation(),console.log("menu",this.image.meta.name),this.showContext=!this.showContext}onMouseLeave(){this.showContext=!1}stopClick(n){n.preventDefault(),n.stopPropagation()}onClickSelect(n){n.preventDefault(),n.stopPropagation(),this.store.setActiveImage(this.image.id)}onClickSetActive(n,i){n.preventDefault(),n.stopPropagation(),i?this.store.openImage(this.image.id):this.store.closeImage(this.image.id)}onClickDownload(n){n.preventDefault(),n.stopPropagation()}onClickDelete(n){n.preventDefault(),n.stopPropagation(),this.markForDeletion(!0)}onClickDuplicate(n){n.preventDefault(),n.stopPropagation(),this.store.duplicateImage(this.image.id)}onClickUndo(n){n.preventDefault(),n.stopPropagation(),this.markForDeletion(!1)}onClickDeleteAtOnce(n){n.preventDefault(),n.stopPropagation(),this.deleteImage()}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-history-icon"]],inputs:{image:"image"},standalone:!0,features:[fe],decls:11,vars:2,consts:[["class","container pointer",3,"tooltip","position","click","mouseleave",4,"ngIf","ngIfElse"],["marked",""],["close",""],["menu",""],["context",""],["contextInactive",""],[1,"container","pointer",3,"tooltip","position","click","mouseleave"],["loading","lazy",1,"nondrag",3,"src"],[1,"name"],[1,"subtext"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[1,"container",3,"tooltip","position"],[1,"deletion"],[3,"click"],[1,"close",3,"click"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.7833 9.42434C6.51111 10.5633 5.26703 11.6665 4.03539 12.7834C3.32188 13.4304 2.63391 14.1055 1.92206 14.7543C1.73246 14.9316 1.51459 15.0756 1.27744 15.1806C1.1605 15.2297 0.907965 15.1806 0.850375 15.0906C0.774175 14.9712 0.796704 14.7594 0.838036 14.6035C0.868105 14.4899 0.990534 14.3959 1.08289 14.3047C2.83934 12.5753 4.59659 10.847 6.35461 9.11977C6.55187 8.92605 6.75479 8.73823 6.98143 8.52311C6.21317 7.67166 5.44371 6.85006 4.70913 5.99792C3.53675 4.63729 2.3879 3.25641 1.22933 1.884C1.18721 1.83412 1.15099 1.77953 1.10848 1.72965C0.905737 1.48998 0.762803 1.23166 0.993655 0.940942C1.16652 0.723268 1.57978 0.755779 1.86754 1.0519C2.58419 1.78917 3.2823 2.54429 3.97456 3.30522C5.23861 4.69384 6.49281 6.09148 7.75235 7.48422C7.80627 7.53488 7.8636 7.58176 7.92395 7.62452C8.89789 6.69364 9.86105 5.7658 10.8323 4.84591C11.9586 3.77963 13.0889 2.71755 14.2232 1.65966C14.6486 1.26201 14.9898 1.19034 15.2509 1.42235C15.5215 1.6627 15.4963 2.06426 15.0648 2.49479C13.8981 3.65896 12.7032 4.79486 11.5094 5.93202C10.6 6.7986 9.67613 7.65024 8.70826 8.5554C9.49474 9.36886 10.247 10.1797 11.0356 10.953C11.7931 11.6957 12.5929 12.3954 13.3653 13.1228C13.6673 13.3966 13.95 13.6909 14.2116 14.0036C14.4226 14.2661 14.4537 14.5918 14.1944 14.8507C13.9388 15.1059 13.6429 15.0157 13.3964 14.8225C12.9249 14.4721 12.4729 14.096 12.0424 13.696C10.7248 12.4056 9.43042 11.0915 8.12758 9.78594C8.02454 9.68284 7.9261 9.57466 7.7833 9.42434Z","fill","white"],[1,"menu",3,"click"],["width","42","height","9","viewBox","0 0 42 9","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M20.1158 8.90739C20.7109 8.90646 21.2999 8.78743 21.8483 8.55719C22.3968 8.32695 22.8938 7.99012 23.3104 7.56639C23.7078 7.16722 24.0199 6.69184 24.228 6.16905C24.4361 5.64626 24.5359 5.08688 24.5211 4.52464C24.4553 2.27326 22.3313 0.116673 20.0649 0.000466535C19.607 -0.00710588 19.1522 0.0775734 18.7279 0.249404C18.3035 0.421236 17.9185 0.676739 17.5956 1.00051C17.0892 1.48766 16.6845 2.06975 16.4046 2.71336C16.1248 3.35698 15.9753 4.04946 15.9648 4.75084C15.9481 5.29443 16.0405 5.83588 16.2366 6.34339C16.4326 6.85095 16.7283 7.31433 17.1064 7.70639C17.501 8.09546 17.9695 8.40205 18.4845 8.60829C18.9995 8.8145 19.5505 8.91622 20.1055 8.90739H20.1158Z","fill","white"],["d","M33.7599 7.25295C34.5247 7.9064 35.504 8.25616 36.5109 8.2354C36.8693 8.23457 37.2263 8.19712 37.5767 8.12371C38.2979 7.99436 38.9793 7.70026 39.5674 7.2645C40.1558 6.82871 40.6345 6.26305 40.9669 5.61191C41.2233 5.07791 41.3319 4.48547 41.2817 3.8956C41.2316 3.30573 41.0244 2.73983 40.6816 2.25641C39.6784 0.677785 37.4452 -0.102174 35.5967 0.480241C33.7374 1.06645 32.4458 3.08334 32.526 5.27543C32.5281 5.33705 32.5468 5.39705 32.5793 5.4495C32.6429 5.55088 32.709 5.68405 32.7837 5.83198C33.0172 6.36233 33.3482 6.84429 33.7599 7.25295Z","fill","white"],["d","M3.44327 8.4497C3.59426 8.46856 3.74629 8.47801 3.89846 8.47797C4.7807 8.47059 5.63435 8.16511 6.31984 7.61146C6.77042 7.25328 7.1455 6.80973 7.42326 6.30639C7.70107 5.80304 7.87617 5.2498 7.93843 4.67866C8.17227 2.49211 6.70484 0.396602 4.73487 0.101774C4.22188 0.030812 3.69987 0.0645223 3.20038 0.20086C2.70089 0.337198 2.23438 0.573333 1.82923 0.894891C1.33045 1.28339 0.914875 1.76756 0.606889 2.31884C0.298899 2.87008 0.104719 3.47732 0.0359975 4.10459C-0.0343565 4.61408 -0.00134922 5.13246 0.132947 5.62904C0.267244 6.12559 0.500116 6.59025 0.817846 6.99546C1.13558 7.40066 1.53163 7.73811 1.9826 7.98794C2.43357 8.23773 2.9303 8.39473 3.44327 8.4497Z","fill","white"],["class","context",3,"click",4,"ngIf"],[1,"context",3,"click"],[1,"entry","prevent-select",3,"click"],[1,"spacer"]],template:function(i,o){if(i&1&&J(0,kT,10,11,"div",0)(1,FT,13,7,"ng-template",null,1,Ie)(3,LT,3,0,"ng-template",null,2,Ie)(5,VT,5,0,"ng-template",null,3,Ie)(7,UT,1,1,"ng-template",null,4,Ie)(9,HT,1,1,"ng-template",null,5,Ie),i&2){let s=ve(2);k("ngIf",!o.markedForDeletion)("ngIfElse",s)}},dependencies:[le,ut,Vt,$T,pn,qr],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;padding:4px;width:168px;max-width:168px;height:200px;max-height:200px;box-sizing:border-box;position:relative}.pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{width:160px;height:160px;object-fit:contain;border-radius:25px}.name[_ngcontent-%COMP%]{font-size:14px;text-align:center;overflow:hidden;text-overflow:ellipsis}.subtext[_ngcontent-%COMP%]{font-size:12px;font-style:italic;text-align:center;color:#ffffff80}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:24px;height:24px;border-radius:50%;background-color:#000000b0;text-align:center;display:none}.close[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;margin:4px}.close[_ngcontent-%COMP%]:hover{background-color:#000}.menu[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;width:60px;height:24px;border-radius:25px;background-color:#000000b0;display:none}.menu[_ngcontent-%COMP%]:hover{background-color:#000}.menu[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;margin:8px 8px 8px 10px}.container[_ngcontent-%COMP%]:hover   .close[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]:hover   .menu[_ngcontent-%COMP%]{display:block}.context[_ngcontent-%COMP%]{position:absolute;top:34px;left:40px;background-color:#000000f2;width:160px;z-index:69}.entry[_ngcontent-%COMP%]{font-size:14px;padding:4px}.entry[_ngcontent-%COMP%]:hover{background-color:var(--accent)}.spacer[_ngcontent-%COMP%]{height:8px}.deletion[_ngcontent-%COMP%]{width:160px;height:160px;border-radius:25px;position:relative;box-sizing:border-box;display:grid;grid-auto-flow:row;grid-auto-rows:46px 46px 46px;gap:4px;align-items:center;justify-content:center}.deletion[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:12px;width:95px;height:48px;text-align:center}.deletion[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100px;height:40px;background-color:var(--background-tools);border-radius:25px;border:none;color:#ffffff80;font-family:Inter;font-size:14px;margin-bottom:4px;cursor:pointer}.deletion[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:nth-child(2){color:#ffffffe6}"]});let t=e;return t})();function GT(t,e){t&1&&Oe(0)}function zT(t,e){t&1&&Oe(0)}function qT(t,e){if(t&1&&B(0,"app-history-icon",20),t&2){let r=e.$implicit;k("image",r)}}function WT(t,e){if(t&1&&(b(0,"div",18),J(1,qT,1,1,"app-history-icon",19),S()),t&2){let r=e.ngIf;F(),k("ngForOf",r)}}function YT(t,e){if(t&1&&B(0,"app-history-icon",20),t&2){let r=e.$implicit;k("image",r)}}function KT(t,e){if(t&1&&(b(0,"div",18),J(1,YT,1,1,"app-history-icon",19),S()),t&2){let r=e.ngIf;F(),k("ngForOf",r)}}function ZT(t,e){t&1&&(Ye(),b(0,"svg",21)(1,"g",22),B(2,"path",23)(3,"path",24),S(),b(4,"defs")(5,"clipPath",25),B(6,"rect",26),S()()())}function XT(t,e){t&1&&(Ye(),b(0,"svg",27),B(1,"path",28),S())}function QT(t,e){if(t&1){let r=qe();b(0,"div",1)(1,"div",2),G(2,"Open Files"),S(),b(3,"div",29)(4,"input",6),W("change",function(i){X(r);let o=N();return Q(o.onChange(i))}),S(),b(5,"label",7)(6,"div",30),Ye(),b(7,"svg",31)(8,"g",32),B(9,"path",33)(10,"path",34),S(),b(11,"defs")(12,"clipPath",35),B(13,"rect",36),S()()(),Hg(),b(14,"div"),G(15," Choose a file..."),S()()()(),b(16,"div",37),G(17," History "),S()()}}var L6=(()=>{let e=class e{constructor(n){this.store=n,this.imagesOpen$=n.imagesOpen$,this.imagesClosed$=n.imagesClosed$}onDrop(n){return Tt(this,null,function*(){if(n.preventDefault(),n.dataTransfer?.files){let i=n.dataTransfer.files;this.store.openFileList(i)}})}onDragOver(n){n.stopPropagation(),n.preventDefault(),console.log("dragover")}readFileAsDataUr(n){return Tt(this,null,function*(){return new Promise(o=>{let s=new FileReader;s.onloadend=a=>{let l=s.result;o(l)},s.readAsDataURL(n)})})}onChange(n){console.log(n);let o=n.target.files;this.store.openFileList(o)}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-new-image"]],standalone:!0,features:[fe],decls:34,vars:8,consts:[[1,"outer"],[1,"container"],[1,"header"],[1,"logo"],[1,"input","frame"],[4,"ngTemplateOutlet"],["type","file","name","file","id","file","accept",".jpg, .jpeg, .png","multiple","",1,"inputfile",3,"change"],["for","file"],[1,"btn-primary"],[1,"info"],[1,"active","frame"],[1,"subheader"],["class","icongrid",4,"ngIf"],[1,"history","frame"],[1,"subheader-infotext"],["picture",""],["plus",""],["old",""],[1,"icongrid"],[3,"image",4,"ngFor","ngForOf"],[3,"image"],["width","96","height","96","viewBox","0 0 96 96","fill","none","xmlns","http://www.w3.org/2000/svg",1,"picture"],["clip-path","url(#clip0_143_80)"],["d","M31.7564 32.788C33.4545 34.3588 35.5334 35.0591 38.4987 35.0591C38.5129 35.0605 38.5272 35.0605 38.5413 35.0591C38.6326 35.0507 38.7445 35.0428 38.8712 35.034C39.2074 35.0104 39.6678 34.9772 40.12 34.91C41.4214 34.7364 42.6746 34.3017 43.805 33.6317C44.9359 32.9617 45.9206 32.0701 46.701 31.01C47.4451 29.9594 47.9713 28.7692 48.2477 27.5101C48.5242 26.2511 48.5453 24.9491 48.3103 23.6816C47.8143 20.7852 46.4381 18.9344 44.2257 18.182C42.7168 17.6728 41.1182 17.4854 39.5332 17.632C37.948 17.7786 36.4106 18.2558 35.0196 19.0332C33.6824 19.7646 32.5147 20.7722 31.5933 21.9895C30.6719 23.2069 30.0178 24.6064 29.6739 26.096C29.0684 28.6976 29.7691 30.95 31.7564 32.788ZM39.9392 22.6372C40.0188 22.6372 40.1009 22.6372 40.1801 22.6372C41.519 22.6372 42.5766 22.802 43.088 24.1488C43.347 24.8815 43.3824 25.6751 43.1888 26.428C42.9956 27.1809 42.5825 27.8586 42.003 28.374C40.5526 29.6964 37.4523 30.0496 35.745 29.0876C34.6523 28.4724 34.3193 27.7068 34.5954 26.4456C35.159 23.8704 36.8568 22.6612 39.9392 22.6372Z","fill","white"],["d","M20.3696 94.8472C21.3539 94.8072 22.3741 94.7672 23.3639 94.7672C29.4139 94.7976 34.9429 94.858 40.2665 94.952C48.791 95.1024 57.4944 95.2868 66.1312 95.5C66.8366 95.5384 67.5377 95.6368 68.2264 95.794C68.5646 95.8608 68.9036 95.9272 69.241 95.9816C69.2625 95.9852 69.284 95.9868 69.3055 95.9868H73.381C73.4013 95.9868 73.4212 95.9852 73.4411 95.9824C74.2581 95.8624 75.0779 95.7528 75.8977 95.6444C77.6699 95.4104 79.5031 95.1684 81.2848 94.79C89.4675 93.0544 96.0306 84.6444 95.9147 76.0416C95.8374 70.2892 95.8525 64.438 95.8673 58.7792C95.8776 54.718 95.888 50.5192 95.8649 46.3888C95.843 42.6128 95.7095 38.7768 95.5805 35.0688L95.498 32.6867C95.4685 31.7939 95.4422 30.9006 95.4183 30.0068C95.3387 27.0672 95.255 24.0275 94.9662 21.0511C94.6615 18.1188 94.115 15.2169 93.333 12.3751C91.1585 4.29512 83.4542 0.498752 76.7868 0.323152C74.8811 0.273152 72.952 0.40828 71.0849 0.53868C69.6812 0.63708 68.2296 0.73868 66.808 0.75948C62.9377 0.81628 59.0005 0.839484 55.1951 0.863484C50.186 0.893884 45.0064 0.92594 39.9124 1.03194L39.1458 1.04835C31.843 1.20035 24.2909 1.3571 16.8901 1.9335C8.91095 2.5547 3.6214 6.38992 1.16762 13.3335C0.755871 14.3895 0.514604 15.5048 0.452977 16.6371L0.413151 19.9795C0.291657 29.7439 0.165783 39.8412 0.19526 49.7732C0.208007 54.2332 0.357772 58.7644 0.50277 63.1464C0.582438 65.6028 0.668085 68.1424 0.726641 70.6392C0.791172 73.3592 0.813893 75.6464 0.715503 77.9628C0.356999 86.3696 7.66175 94.4376 16.0381 94.89C17.4844 94.9672 18.9515 94.9064 20.3696 94.8472ZM5.37209 23.7732C5.32266 20.2222 6.15997 16.7155 7.80755 13.5732C9.31168 10.7812 11.5268 9.03988 14.2144 8.53828C18.4683 7.74428 22.6334 7.02192 26.8279 6.90832C37.4879 6.61872 48.3301 6.44908 58.8145 6.28508C64.1008 6.20212 69.3868 6.11452 74.6728 6.02228C77.501 5.96948 80.3029 6.80392 83.5052 8.64552C86.9994 10.6543 88.1136 14.2772 88.7426 17.5564C90.0631 24.4428 90.6466 30.2159 90.5793 35.7239C90.5526 37.8957 90.5327 40.0728 90.5196 42.256C90.3694 42.1172 90.224 41.9732 90.067 41.8424C87.9993 40.118 85.8725 38.3967 83.8151 36.7323C81.3358 34.7259 78.7721 32.6523 76.2976 30.5591C73.0687 27.8295 71.1845 27.8991 68.2312 30.8583C61.2073 37.8939 54.0228 45.0628 47.0746 51.9956L39.2191 59.8356L39.0801 59.7208C38.8239 59.5092 38.616 59.3376 38.4064 59.1688C37.3086 58.2804 36.2125 57.39 35.1182 56.498C32.4493 54.3244 29.6856 52.0772 26.9299 49.914C24.9302 48.3444 23.4994 48.366 21.6523 49.9892C16.2372 54.7492 10.764 59.6024 5.44495 64.322C5.39078 51.7964 5.35098 37.926 5.37209 23.7732ZM5.99311 69.3508C7.02879 68.4772 8.06232 67.6004 9.09379 66.7212C11.0433 65.064 13.0589 63.3504 15.0629 61.694C17.2088 59.9196 19.4271 58.1368 21.5726 56.414C22.4561 55.7036 23.3434 54.9892 24.2343 54.2712C25.4253 55.236 26.6071 56.1928 27.7795 57.1404C30.8396 59.6144 33.7304 61.9504 36.659 64.3604C38.9801 66.2712 40.3896 66.2004 42.4614 64.0748C43.1557 63.362 43.8389 62.6376 44.5216 61.9148C45.4155 60.9664 46.3396 59.986 47.2737 59.052C54.3303 51.9988 61.5192 44.8416 68.4714 37.9199L71.5028 34.9019C71.7956 34.6099 72.1107 34.3291 72.3636 34.1019L72.3871 34.0811C73.6821 35.0987 74.968 36.112 76.2442 37.1211C80.0611 40.1356 83.6665 42.9832 87.4073 45.8196C88.355 46.4788 89.3954 46.9924 90.4937 47.3436C90.4702 54.8596 90.4972 62.374 90.5255 69.7232C90.5343 71.9584 90.5423 74.1932 90.5494 76.4276C90.5666 81.8432 86.2235 87.772 81.0649 89.374C77.2046 90.546 73.1738 91.0476 69.1454 90.8564C63.6611 90.6304 58.0847 90.3652 52.694 90.1092C50.4497 90.0024 48.2051 89.8956 45.96 89.7892H45.9413L39.8801 89.7864C36.6158 89.7848 33.3516 89.7836 30.0879 89.7832C26.5459 89.7832 23.0039 89.7856 19.4618 89.7912H19.4196C15.4011 89.7912 12.3877 88.7772 9.9391 86.6028C6.93602 83.9348 5.52506 80.28 5.49837 75.1C5.4892 73.3644 5.48044 71.5876 5.47168 69.78C5.64735 69.64 5.82301 69.494 5.99311 69.3508Z","fill","white"],["id","clip0_143_80"],["width","96","height","96","fill","white"],["width","12","height","12","viewBox","0 0 12 12","fill","none","xmlns","http://www.w3.org/2000/svg",1,"plus"],["d","M2.6902 4.83036C3.41475 4.83036 4.1393 4.83623 4.86372 4.82736C5.00698 4.81237 5.14115 4.75003 5.24499 4.64985C5.34873 4.54966 5.41623 4.41762 5.43653 4.27458C5.4831 3.33031 5.51025 2.38504 5.56654 1.44151C5.57563 1.07924 5.63429 0.719973 5.74089 0.373694C5.77452 0.26951 5.83878 0.178069 5.92533 0.111486C6.01201 0.0447784 6.11674 0.00617788 6.22571 0.000681385C6.33468 -0.00481512 6.44278 0.0230421 6.53568 0.0806304C6.62846 0.138094 6.70169 0.222665 6.7454 0.322976C6.8606 0.588807 6.92349 0.874375 6.93059 1.16407C6.98638 1.8896 7.00979 2.61777 7.05313 3.3443C7.06621 3.56179 7.09933 3.77828 7.12885 3.99389C7.19909 4.50869 7.49486 4.81524 7.97196 4.81249C8.69651 4.80825 9.42081 4.76252 10.1454 4.7554C10.7226 4.75016 11.3105 4.73767 11.839 5.01936C11.9313 5.06846 11.965 5.25171 11.9972 5.38038C12.0028 5.41661 11.9999 5.45371 11.9889 5.48869C11.9779 5.52354 11.959 5.55552 11.9336 5.582C11.8328 5.68594 11.7072 5.76201 11.5684 5.80299C11.139 5.8617 10.7049 5.8958 10.2716 5.91479C9.47461 5.94952 8.67683 5.95989 7.87992 5.99424C7.69947 6.01323 7.53185 6.0968 7.40756 6.22947C7.2834 6.36226 7.21092 6.5354 7.20344 6.71741C7.14118 7.80696 7.09834 8.89752 7.03246 9.98682C7.01066 10.3468 6.9469 10.705 6.8926 11.0624C6.85661 11.2997 6.4642 11.5832 6.24863 11.5471C6.01525 11.508 5.67875 11.204 5.64899 10.9788C5.60166 10.62 5.54936 10.2596 5.5369 9.89875C5.49817 8.80845 5.48099 7.71764 5.44711 6.62709C5.43404 6.48293 5.37301 6.34739 5.27388 6.24233C5.17475 6.13715 5.04319 6.06844 4.90045 6.04733C4.03169 6.00161 3.16219 5.96975 2.29355 5.92241C1.71508 5.89056 1.13698 5.84758 0.55976 5.79624C0.260874 5.76988 -0.077864 5.41436 0.0159116 5.2341C0.0596487 5.13716 0.129763 5.05459 0.218183 4.99575C0.306604 4.93704 0.409757 4.90431 0.515799 4.90169C1.24023 4.89532 1.96478 4.89944 2.6892 4.89944L2.6902 4.83036Z","fill","white"],[1,"input"],[1,"grid"],["width","138","height","164","viewBox","0 0 138 164","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_589)"],["d","M137.273 82.673C137.273 97.0745 137.192 111.477 137.315 125.878C137.257 131.183 136.718 136.472 135.704 141.679C135.346 143.92 134.553 146.067 133.372 148.001C128.405 155.697 121.501 160.577 112.222 161.587C91.9284 163.816 71.465 164.02 51.1311 162.199C43.2342 161.486 35.2579 161.444 27.5523 159.315C23.8951 158.401 20.3171 157.194 16.8527 155.706C7.92056 151.593 2.80505 144.479 1.616 134.664C1.2437 131.655 1.05786 128.625 1.05958 125.593C1.16944 96.0341 1.35943 66.472 1.47704 36.911C1.53559 30.8429 2.38153 24.808 3.99348 18.959C5.06943 14.908 7.15491 11.1983 10.0538 8.17847C13.7054 4.23851 18.7609 1.90477 24.1195 1.68615C34.3047 1.17405 44.4892 0.555105 54.6821 0.331468C64.5003 0.116259 74.3316 0.206058 84.1504 0.425156C90.9403 0.576192 97.7296 1.06481 104.498 1.64627C106.373 1.80769 108.171 2.46653 109.709 3.55485C119.117 10.6029 127.839 18.4142 135.282 27.5846C136.961 29.6492 137.818 32.2647 137.688 34.9258C137.483 49.3241 137.407 63.7254 137.289 78.1251C137.277 79.6412 137.289 81.1568 137.289 82.673H137.273ZM12.4344 82.203C11.3675 98.0702 11.2945 113.953 11.2712 129.836C11.3269 133.244 11.8445 136.628 12.8099 139.896C13.3125 141.922 14.2457 143.815 15.5454 145.445C16.8452 147.076 18.4808 148.405 20.3404 149.343C22.3187 150.443 24.4302 151.281 26.6223 151.839C31.7689 152.976 36.9239 154.064 42.2352 154.358C62.9437 155.613 83.7077 155.647 104.421 154.461C107.053 154.297 109.695 154.112 112.299 153.717C115.3 153.231 118.098 151.891 120.362 149.857C123.238 147.384 125.384 144.168 126.566 140.557C128.419 135.061 128.44 129.408 128.44 123.727C128.436 99.141 128.432 74.5553 128.429 49.9698C128.429 46.9439 128.419 43.9173 128.343 40.8947C128.278 38.3095 126.856 37.0384 123.956 36.9528C118.679 36.7972 113.397 36.7643 108.123 36.5166C106.252 36.3845 104.402 36.0368 102.611 35.4797C101.691 35.243 100.858 34.7459 100.212 34.0478C99.5655 33.3498 99.1325 32.4801 98.9651 31.5423C98.6394 29.6825 98.4785 27.7972 98.4843 25.909C98.4326 21.3773 98.4902 16.8445 98.5134 12.3115C98.5173 11.5064 97.272 9.87169 96.598 9.77122C95.8626 9.61065 95.1175 9.49851 94.3679 9.43635C76.2697 9.17706 58.1707 8.9376 40.0716 8.71721C37.0615 8.68545 34.0476 9.00009 31.0342 9.13881C27.2124 9.31383 23.6077 10.4446 20.0871 11.802C17.589 12.7597 15.5152 14.5825 14.2407 16.9409C12.5838 19.9486 11.4509 23.1169 11.8393 26.6743C12.2496 30.434 12.8577 34.2002 12.8513 37.9631C12.8241 52.7076 12.5902 67.4553 12.4344 82.203ZM109.153 17.636C108.763 18.2309 108.47 18.8853 108.288 19.5736C108.114 21.4243 108.067 23.2915 108.076 25.1525C108.05 25.6142 108.116 26.0763 108.272 26.5117C108.427 26.9469 108.668 27.3468 108.98 27.6871C109.292 28.0276 109.669 28.3017 110.088 28.4937C110.507 28.6856 110.961 28.7913 111.422 28.8045C114.007 28.8466 116.595 28.7452 119.18 28.6544C119.332 28.6177 119.473 28.5453 119.592 28.443C119.711 28.3407 119.803 28.2111 119.863 28.0657C119.927 27.8917 119.956 27.7067 119.947 27.5213C119.94 27.3359 119.895 27.1536 119.816 26.9858C117.187 23.3863 113.949 20.2784 110.247 17.8043C109.975 17.615 109.523 17.6865 109.153 17.636Z","fill","white"],["d","M52.63 92.2501C56.3898 92.2501 60.1495 92.2806 63.9086 92.2346C64.652 92.1568 65.3482 91.8333 65.887 91.3134C66.4254 90.7936 66.7756 90.1084 66.8809 89.3662C67.1226 84.4663 67.2635 79.5612 67.5556 74.6652C67.6028 72.7853 67.9072 70.9211 68.4603 69.1242C68.6348 68.5836 68.9683 68.1091 69.4174 67.7636C69.8672 67.4174 70.4106 67.2171 70.9761 67.1886C71.5415 67.1601 72.1025 67.3046 72.5845 67.6035C73.066 67.9016 73.446 68.3405 73.6728 68.861C74.2705 70.2404 74.5969 71.7223 74.6337 73.2255C74.9232 76.9903 75.0447 80.7688 75.2696 84.5389C75.3375 85.6674 75.5094 86.7908 75.6625 87.9096C76.027 90.581 77.5618 92.1717 80.0375 92.1574C83.7972 92.1354 87.5557 91.8981 91.3154 91.8612C94.3107 91.834 97.3615 91.7691 100.104 93.2309C100.583 93.4856 100.757 94.4366 100.925 95.1042C100.954 95.2922 100.939 95.4847 100.882 95.6662C100.825 95.8471 100.726 96.0131 100.595 96.1505C100.072 96.6898 99.4197 97.0846 98.6998 97.2972C96.4716 97.6018 94.2189 97.7788 91.9707 97.8773C87.8348 98.0575 83.6951 98.1113 79.5599 98.2896C78.6235 98.3881 77.7537 98.8218 77.1088 99.5102C76.4645 100.199 76.0884 101.098 76.0496 102.042C75.7265 107.696 75.5042 113.355 75.1623 119.007C75.0492 120.876 74.7184 122.734 74.4366 124.589C74.2499 125.82 72.2136 127.291 71.095 127.104C69.884 126.901 68.1379 125.324 67.9834 124.155C67.7378 122.293 67.4664 120.423 67.4018 118.55C67.2008 112.893 67.1116 107.232 66.9359 101.573C66.868 100.825 66.5514 100.122 66.037 99.577C65.5226 99.0312 64.8399 98.6746 64.0992 98.5651C59.5911 98.3278 55.0792 98.1625 50.5718 97.9169C47.5701 97.7516 44.5703 97.5286 41.575 97.2622C40.0241 97.1254 38.2664 95.2806 38.753 94.3452C38.9799 93.8422 39.3438 93.4137 39.8026 93.1084C40.2614 92.8037 40.7967 92.6339 41.3469 92.6203C45.106 92.5872 48.8658 92.6086 52.6249 92.6086L52.63 92.2501Z","fill","white"],["id","clip0_1_589"],["width","137","height","164","fill","white","transform","translate(0.777344)"],[1,"history"]],template:function(i,o){if(i&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),G(4,"Image Cutter"),S()(),b(5,"div",4),J(6,GT,1,0,"ng-container",5),b(7,"input",6),W("change",function(a){return o.onChange(a)}),S(),b(8,"label",7)(9,"button",8)(10,"span"),J(11,zT,1,0,"ng-container",5),G(12," Add Image(s) "),S()()(),b(13,"button"),G(14,"Add Examples"),S()(),B(15,"div",9),b(16,"div",10)(17,"div",11),G(18,"Active Projects"),S(),J(19,WT,2,1,"div",12),Ue(20,"async"),S(),b(21,"div",13)(22,"div",11),G(23,"Inactive Projects"),S(),b(24,"div",14),G(25,"Might delete later."),S(),J(26,KT,2,1,"div",12),Ue(27,"async"),S()()(),J(28,ZT,7,0,"ng-template",null,15,Ie)(30,XT,2,0,"ng-template",null,16,Ie)(32,QT,18,0,"ng-template",null,17,Ie)),i&2){let s=ve(29),a=ve(31);F(6),k("ngTemplateOutlet",s),F(5),k("ngTemplateOutlet",a),F(8),k("ngIf",Be(20,4,o.imagesOpen$)),F(7),k("ngIf",Be(27,6,o.imagesClosed$))}},dependencies:[le,yo,ut,Vt,jt,F6],styles:['.outer[_ngcontent-%COMP%]{width:100%;height:100%;padding:24px;box-sizing:border-box}.container[_ngcontent-%COMP%]{margin:auto;max-width:1108px;border-radius:25px;background-color:var(--background-tools);display:grid;justify-content:stretch;gap:20px;padding:20px;grid-template-areas:"header header" "input info" "active active" "history history";grid-template-rows:48px auto auto auto;grid-template-columns:auto;overflow-y:auto}.header[_ngcontent-%COMP%]{grid-area:header;height:40px;font-size:large;font-weight:500;text-align:center}.logo[_ngcontent-%COMP%]{font-size:24px;font-weight:400;line-height:32px;text-align:left}.input[_ngcontent-%COMP%]{grid-area:input;max-width:280px;display:grid;grid-auto-flow:row;padding:20px;justify-content:center;align-items:center}.frame[_ngcontent-%COMP%]{border-radius:25px;background-color:var(--background-header)}button[_ngcontent-%COMP%]{width:240px;height:40px;background-color:var(--background-tools);border-radius:25px;border:none;color:#ffffff80;font-family:Inter;font-size:14px}.btn-primary[_ngcontent-%COMP%]{background-color:var(--accent);color:#fff}button[_ngcontent-%COMP%]:nth-of-type(1){margin-bottom:12px}label[_ngcontent-%COMP%]{cursor:pointer}button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:relative}.plus[_ngcontent-%COMP%]{position:absolute;left:-16px;top:3.57px}.picture[_ngcontent-%COMP%]{margin:4px auto 24px}.inputfile[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{cursor:pointer}.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.grid[_ngcontent-%COMP%]{display:grid;justify-content:center;align-items:center;height:100%}.grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:24px}.info[_ngcontent-%COMP%]{grid-area:info}.active[_ngcontent-%COMP%]{grid-area:active;display:grid;grid-auto-flow:row;padding:20px}.icongrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,168px);gap:12px}app-history-icon[_ngcontent-%COMP%]{width:168px}.history[_ngcontent-%COMP%]{grid-area:history;display:grid;grid-auto-flow:row;padding:20px}']});let t=e;return t})();var et=Wu(pp());var V6=(()=>{let e=class e{constructor(){this.pressedKeys=new Set,this.pressedKeysSubject=new nt(new Set),this.pressedKeys$=this.pressedKeysSubject.pipe(Zi()),this.keyDownSubject=new nt(""),this.keyDown$=this.keyDownSubject.pipe(Zi()),this.keyDownRepeatSubject=new nt(""),this.keyDownRepeat$=this.keyDownRepeatSubject.pipe(Zi()),this.keyUpSubject=new nt(""),this.keyUp$=this.keyUpSubject.pipe(Zi()),console.log("KeypressService init"),this.setupEvents()}setupEvents(){window.addEventListener("keydown",n=>{let i=n.key;this.keyDownRepeatSubject.next(i),n.repeat||(this.pressedKeys.add(i),this.updateSubject(),this.keyDownSubject.next(i))}),window.addEventListener("keyup",n=>{this.pressedKeys.delete(n.key),this.updateSubject(),this.keyUpSubject.next(n.key)})}updateSubject(){this.pressedKeysSubject.next(this.pressedKeys)}isKeyPressed(n){return this.pressedKeys.has(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eA=["scroll"],tA=["large"],j6=(()=>{let e=class e{onResize(n){this.resizeStage(),this.updateScale(),this.updateScroll(),this.updateBGPosition()}constructor(n,i){this.store=n,this.keypressService=i,this.destroy$=new Ne,this.id="-42",this.moveUpdater=new Ne,this.zoom=1,this.scroll={x:.5,y:.5},this.mouseoverCutID="",this.scrollUpdater=new Ne,this.rectColor="#171719",this.rectColorSelected="#00A5A5",console.log("constructor");let o=this;this.scrollHandler=function(s){o.onScroll(s)}}initSubs(){this.store.activeFile$.pipe(ot(this.destroy$)).subscribe(s=>{this.imageFile=s;let a=this.store.store.query(Zo());a&&(this.id=a.id),this.drawCheckered(),this.drawStageBG(),this.updateScale(),this.updateScroll(),this.updateBGPosition()}),this.store.zoom$.pipe(ot(this.destroy$)).subscribe(s=>{this.zoom=s||1,this.updateScale(),this.updateScroll(),this.updateBGPosition(),this.updateTransformerText()}),this.store.scroll$.pipe(ot(this.destroy$)).subscribe(s=>{this.scroll=s,this.updateScale(),this.updateScroll(),this.updateBGPosition()}),this.scrollRef.nativeElement.addEventListener("scroll",this.scrollHandler),this.scrollUpdater.pipe(Vn(0),ot(this.destroy$)).subscribe(s=>{let a=s.x,l=s.y;this.store.updateScroll(this.image.id,a,l)}),this.store.selectedCut$.pipe(ot(this.destroy$)).subscribe(s=>{this.selectedCut=s,this.showTransformerText(!!s),this.updateSelectedCut()}),this.store.nonSelectedCuts$.pipe(ot(this.destroy$)).subscribe(s=>{this.nonSelectedCuts=s,this.updateNonSelectedCuts()}),this.store.mouseoverCutID$.pipe(ot(this.destroy$)).subscribe(s=>{this.mouseoverCutID=s,this.updateMouseoverCut()}),this.keypressService.keyDownRepeat$.pipe(ot(this.destroy$)).subscribe(s=>{}),this.moveUpdater.pipe(fd(150),ot(this.destroy$)).subscribe(s=>{this.store.updateCut(this.id,s)})}ngAfterViewInit(){return Tt(this,null,function*(){console.log("ngAfterViewInit"),this.stage||(this.initStage(),this.resizeStage(),this.initTransformer(),this.initTransformerText(),this.initHoverText()),this.initSubs()})}ngOnChanges(n){return Tt(this,null,function*(){})}ngOnDestroy(){this.destroy$.next(1),this.destroy$.complete()}handleKeypress(n){switch(n){case"ArrowUp":{this.moveSelectedCut(0,-1);break}case"ArrowDown":{this.moveSelectedCut(0,1);break}case"ArrowLeft":{this.moveSelectedCut(-1,0);break}case"ArrowRight":{this.moveSelectedCut(1,0);break}default:break}}initStage(){console.log("initStage"),this.stage=new et.default.Stage({height:300,width:300,container:"konva"}),this.layerCheckered=new et.default.Layer({imageSmoothingEnabled:!1}),this.stage.add(this.layerCheckered);let n=new et.default.Layer({imageSmoothingEnabled:!1});this.layerBG=n,this.stage.add(this.layerBG),this.layerCuts=new et.default.Layer,this.stage.add(this.layerCuts),this.layerSelected=new et.default.Layer,this.stage.add(this.layerSelected);let i=this;this.stage.on("wheel",function(o){let s=o.evt;i.onMouseWheel(s)})}resizeStage(){let n=window.innerHeight,i=window.innerWidth,o=24,s=n-32-48-32-32-2*o,a=i-48-240-2*o;this.stage.height(s),this.stage.width(a)}drawCheckered(){return Tt(this,null,function*(){if(!this.imageFile)return;let n=this.layerCheckered;n.findOne("#bg")&&n.destroyChildren();let o=this.imageFile,s=this,a=this.stage,l=1e3,c=Math.ceil(o.width/l),u=Math.ceil(o.height/l),d=new et.default.Rect({x:0,y:0,width:o.width,height:o.height,draggable:!1,id:"bg",fill:"rgba(0, 0, 0, 0)"});n.add(d);let g=yield(v=>new Promise((_,D)=>{let I=new Image;I.onload=function(){_(I)},I.src=v}))("../../../../assets/img/checkered.png");for(let v=0;v<c;v++)for(let _=0;_<u;_++){let D=Math.min(l,o.width-v*l),I=Math.min(l,o.height-_*l),M=new et.default.Rect({x:v*l,y:_*l,width:D,height:I,fillPatternImage:g});n.add(M)}n.cache()})}drawStageBG(){if(!this.imageFile)return;let n=this.layerBG;this.layerBG.findOne("#bg")&&n.destroyChildren();let o=this.imageFile,s=this,a=this.stage;et.default.Image.fromURL(o.dataURL,function(l){let c=o.width/2,u=o.height/2;l.setAttrs({x:c,y:u,scaleX:1,scaleY:1,offsetX:c,offsetY:u,id:"bg"}),s.bgImageRef=l,a.offset({x:c,y:u}),l.on("pointerclick",function(){let d=a.getPointerPosition();s.store.selectCut(s.id,void 0)}),n.add(l)})}getStageCenter(){let n=this.stage.width()/2,i=this.stage.height()/2;return{x:n,y:i}}getRelativePointerCoords(){return this.bgImageRef?this.bgImageRef.getRelativePointerPosition():null}updateScale(){if(!this.largeRef||!this.imageFile)return;let n=this.zoom,i=24,o=this.imageFile,s=o.width*n+2*i,a=o.height*n+2*i,l=this.largeRef.nativeElement;l.style.width=`${s}px`,l.style.height=`${a}px`}updateScroll(){if(this.scrollRef){let n=this.scrollRef.nativeElement;n.removeEventListener("scroll",this.scrollHandler);let i=(n.scrollWidth-n.clientWidth)*this.scroll.x;n.scrollLeft=i;let o=(n.scrollHeight-n.clientHeight)*this.scroll.y;n.scrollTop=o,n.addEventListener("scroll",this.scrollHandler)}}onScroll(n){let i=this.scrollRef.nativeElement,o=0;i.scrollWidth===i.clientWidth?o=this.image.meta.scrollX:o=i.scrollLeft/(i.scrollWidth-i.clientWidth);let s=0;i.scrollHeight===i.clientHeight?s=this.image.meta.scrollY:s=i.scrollTop/(i.scrollHeight-i.clientHeight),(this.image.meta.scrollX!=o||this.image.meta.scrollY!=s)&&(this.scroll={x:o,y:s},this.scrollUpdater.next(this.scroll),this.updateScale(),this.updateScroll(),this.updateBGPosition())}updateBGPosition(){if(!this.scrollRef)return;let n=this.scrollRef.nativeElement,i=this.getStageCenter(),o=this.zoom;this.stage.scale({x:o,y:o});let s=this.scroll.x,a=this.scroll.y,l=i.x;n.scrollWidth===n.clientWidth||(l=i.x+(.5-s)*(n.scrollWidth-n.clientWidth)),this.stage.x(l);let c=i.y;n.scrollHeight===n.clientHeight||(c=i.y+(.5-a)*(n.scrollHeight-n.clientHeight)),this.stage.y(c)}initTransformer(){let n=new et.default.Transformer({ignoreStroke:!0,rotateEnabled:!1,flipEnabled:!1,enabledAnchors:["middle-right","bottom-center","bottom-right"],keepRatio:!1,shiftBehavior:"keepRatio"});this.transformer=n;let i=new et.default.Text({x:0,y:0,draggable:!1}),o=function(){let h=["x: "+a.x(),"y: "+a.y(),"rotation: "+a.rotation(),"width: "+a.width(),"height: "+a.height(),"scaleX: "+a.scaleX(),"scaleY: "+a.scaleY()];i.text(h.join(`
`))},s=function(){},a=new et.default.Rect({x:0,y:50,width:10,height:10,stroke:"#00A5A5",strokeWidth:5,strokeScaleEnabled:!1,id:"cut1",draggable:!0});this.rect=a,this.layerSelected.add(a),n.nodes([a]),this.layerSelected.add(n),o(),s();let l=this,c=function(){l.updateSelectedCutStore()};a.on("mouseenter",function(){l.updateCursor("move")}),a.on("mouseleave",function(){l.updateCursor("default")}),a.on("dragmove",function(){let h=Math.round(a.x()),g=Math.round(a.y());a.x(h),a.y(g),o(),s(),l.updateTransformerText()}),a.on("dragend",function(){c()});let u=0,d=0,f=function(){let h=Math.round(a.x()),g=Math.round(a.y()),v=Math.max(2,Math.round(a.width()*a.scaleX())),_=Math.max(2,Math.round(a.height()*a.scaleY()));a.scaleX(1),a.scaleY(1),a.width(v),a.height(_),a.x(h),a.y(g)};a.on("transformstart",function(){u=a.x(),d=a.y()}),a.on("transform",function(){n.getActiveAnchor()&&(f(),o(),s(),l.updateTransformerText())}),a.on("transformend",function(){c()})}initTransformerText(){let n=this.transformer,i={x:0,y:0,draggable:!1,fontFamily:"Inter",fontSize:16,fill:"orange",padding:0},o=new et.default.Text(i);this.transformerTextOrigin=o,this.layerSelected.add(o);let s=new et.default.Text(i);this.transformerTextY=s,this.layerSelected.add(s);let a={x:0,y:0},l={fill:"#24262B"};{let c=new et.default.Label(a);this.transformerLabelOrigin=c,this.layerSelected.add(c);let u=new et.default.Tag(l);c.add(u);let d=new et.default.Text(i);this.transformerTextOrigin=d,c.add(d)}{let c=new et.default.Label(a);this.transformerLabelX=c,this.layerSelected.add(c);let u=new et.default.Tag(l);c.add(u);let d=new et.default.Text(i);this.transformerTextX=d,c.add(d)}{let c=new et.default.Label(a);this.transformerLabelY=c,this.layerSelected.add(c);let u=new et.default.Tag(l);c.add(u);let d=new et.default.Text(i);this.transformerTextY=d,c.add(d)}}showTransformerText(n){let i=this.layerSelected,o=this.transformerLabelOrigin,s=this.transformerLabelX,a=this.transformerLabelY;n?(i.add(o),i.add(s),i.add(a)):(o.remove(),s.remove(),a.remove())}updateTransformerText(){let n=this.rect,i=this.zoom,s=Math.max(16/i,5);{let a=this.transformerTextOrigin,l=this.transformerLabelOrigin,c=["x:"+n.x(),"y:"+n.y()];a.text(c.join(`
`)),a.fontSize(s),l.x(n.x()),l.y(n.y());let u=1;l.offsetY(l.height()+u),l.offsetX(l.width()+u)}{let a=this.transformerTextX,l=this.transformerLabelX,c=n.width();a.text(`${c}`),a.fontSize(s),l.x(n.x()+c/2),l.y(n.y());let u=2;l.offsetX(l.width()/2),l.offsetY(l.height()+u)}{let a=this.transformerTextY,l=this.transformerLabelY,c=n.height();a.text(`${c}`),a.fontSize(s),l.x(n.x()),l.y(n.y()+c/2),l.offsetX(l.width()+2)}}updateSelectedCut(){let n=this.layerSelected,i=this.rect;i.remove();let o=this.transformer;o.remove();let s=this.selectedCut;if(!s)return;let a=s.absolute;i.x(a.x),i.y(a.y),i.width(a.width),i.height(a.height),n.add(i),n.add(o),this.updateTransformerText()}updateSelectedCutStore(){let n=this.selectedCut,i=this.rect;if(!n)return;let o=T({},n);o.absolute.x=i.x(),o.absolute.y=i.y(),o.absolute.height=i.height(),o.absolute.width=i.width(),o.relative=rr(o.absolute,{x:this.imageFile.width,y:this.imageFile.height}),this.store.updateCut(this.id,o)}moveSelectedCut(n,i){let o=this.selectedCut;if(!o)return;let s=T({},o);o.type==="absolute"&&(s.absolute.x=s.absolute.x+n,s.absolute.y=s.absolute.y+i,this.moveUpdater.next(s),this.selectedCut=s,this.updateSelectedCut())}updateNonSelectedCuts(){let n=this.layerCuts;n.removeChildren();let i=n.find(""),o=this.nonSelectedCuts;if(!o||o.length<1)return;let s={stroke:this.rectColor,strokeWidth:3,strokeScaleEnabled:!1,id:"123",draggable:!1},a=this;o.forEach(l=>{if(l.visible){let c=l.absolute,u=new et.default.Rect(Z(T({},s),{x:c.x,y:c.y,width:c.width,height:c.height,id:l.id,name:"rect"}));u.dash([8,1]),u.setAttr("cut",l),u.on("mouseenter",function(){a.updateCursor("pointer"),a.updateHoverLabel(u),u.stroke(a.rectColorSelected)}),u.on("mouseleave",function(){a.updateCursor("default"),a.updateHoverLabel(void 0),u.stroke(a.rectColor)}),u.on("pointerclick",function(d){a.onRectPointerClick(l)}),n.add(u)}})}updateMouseoverCut(){let n=this.mouseoverCutID,o=this.layerCuts.find(".rect"),s=!1;o.forEach(a=>{a.getAttr("cut").id===n?(a.stroke(this.rectColorSelected),this.updateHoverLabel(a),s=!0):a.stroke(this.rectColor)}),!s&&this.updateHoverLabel(void 0)}updateCursor(n){this.stage.container().style.cursor=n}onRectPointerClick(n){this.updateHoverLabel(void 0),this.store.selectCut(this.id,n)}initHoverText(){let n=this.layerCuts,i=new et.default.Label({});this.hoverLabel=i;let o=new et.default.Tag({fill:"#24262B",pointerDirection:"down",pointerWidth:3,pointerHeight:3,lineJoin:"round"});this.hoverTag=o,i.add(o);let s=new et.default.Text({x:0,y:0,draggable:!1,fontFamily:"Inter",fontSize:16,fill:"orange",padding:0});this.hoverText=s,i.add(s)}updateHoverLabel(n){let i=this.layerCuts,o=this.hoverLabel,s=this.hoverTag,a=this.hoverText;if(o.remove(),s.remove(),a.remove(),!n)return;let l=n.getAttr("cut");a.text(l.name);let c=this.zoom,d=Math.max(16/c,5);a.fontSize(d);let f=2;o.x(n.x()+n.width()/2),o.y(n.y()),o.add(s),o.add(a),i.add(o)}onMouseWheel(n){let i=n.deltaX,o=n.deltaY;this.keypressService.isKeyPressed("Shift")?this.handleWheel(o,0):this.handleWheel(0,o)}handleWheel(n,i){if(!this.scrollRef)return;let o=this.scrollRef.nativeElement,s=o.scrollWidth-o.clientWidth,a=o.scrollHeight-o.clientHeight,l=this.image.meta.scrollX,c=this.image.meta.scrollY,u=this.image.meta.scrollX,d=this.image.meta.scrollY;if(s>0&&Math.abs(n)>0){let f=.069*Math.sign(n);u=Math.min(Math.max(l+f,0),1)}if(a>0&&Math.abs(i)>0){let f=.069*Math.sign(i);d=Math.min(Math.max(c+f,0),1)}(this.image.meta.scrollX!=u||this.image.meta.scrollY!=d)&&(this.scroll={x:u,y:d},this.scrollUpdater.next(this.scroll),this.updateScale(),this.updateScroll(),this.updateBGPosition())}};e.\u0275fac=function(i){return new(i||e)(re(Ae),re(V6))},e.\u0275cmp=ce({type:e,selectors:[["app-canvas"]],viewQuery:function(i,o){if(i&1&&(vr(eA,5),vr(tA,5)),i&2){let s;zn(s=qn())&&(o.scrollRef=s.first),zn(s=qn())&&(o.largeRef=s.first)}},hostBindings:function(i,o){i&1&&W("resize",function(a){return o.onResize(a)},!1,Rl)},inputs:{image:"image"},standalone:!0,features:[Mn,fe],decls:5,vars:0,consts:[["id","konva",1,"konva"],["id","scroll-container",3,"wheel"],["scroll",""],["id","large-container"],["large",""]],template:function(i,o){i&1&&(B(0,"div",0),b(1,"div",1,2),W("wheel",function(a){return o.onMouseWheel(a)}),B(3,"div",3,4),S())},dependencies:[le],styles:["#scroll-container[_ngcontent-%COMP%]{display:block;width:100%;height:100%;overflow:auto}#large-container[_ngcontent-%COMP%]{width:300px;height:300px;overflow:hidden}.konva[_ngcontent-%COMP%]{position:absolute;top:136px;left:72px}.checkered-box[_ngcontent-%COMP%]{position:absolute;inset:136px 264px 56px 72px;display:flex;align-items:center;justify-content:center;overflow:hidden}.checkered[_ngcontent-%COMP%]{width:100px;height:100px;--bgColor: rgba(255, 255, 255);--squareColor: rgba(100, 100, 100, .5);--squareSize: 5px;background-color:var(--backgroundColor);background-image:linear-gradient(45deg,var(--squareColor) 25%,transparent 25%),linear-gradient(135deg,var(--squareColor) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,var(--squareColor) 75%),linear-gradient(135deg,transparent 75%,var(--squareColor) 75%);background-size:calc(2 * var(--squareSize)) calc(2 * var(--squareSize));background-position:0 0,var(--squareSize) 0,var(--squareSize) calc(-1 * var(--squareSize)),0 calc(-1 * var(--squareSize))}"]});let t=e;return t})();function nA(t,e){if(t&1&&(Xe(0),B(1,"app-canvas",2),Qe()),t&2){let r=e.ngIf;F(),k("image",r)}}function rA(t,e){t&1&&B(0,"app-new-image",3)}var U6=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-main"]],standalone:!0,features:[fe],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["newImage",""],[3,"image"],[1,"place"]],template:function(i,o){if(i&1&&(J(0,nA,2,1,"ng-container",0),Ue(1,"async"),J(2,rA,1,0,"ng-template",null,1,Ie)),i&2){let s=ve(3);k("ngIf",Be(1,2,o.active$))("ngIfElse",s)}},dependencies:[le,ut,jt,L6,j6],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}.grid[_ngcontent-%COMP%]{display:grid}.place[_ngcontent-%COMP%]{place-self:center}"]});let t=e;return t})();var B6=(()=>{let e=class e{constructor(n){this.store=n}onDrop(n){return Tt(this,null,function*(){if(n.preventDefault(),console.log("onDrop"),n.dataTransfer?.files){let i=n.dataTransfer.files;this.store.openFileList(i)}this.store.updateShowDropzone(!1)})}onDragOver(n){n.stopPropagation(),n.preventDefault(),this.store.store.getValue().showDropzone||this.store.updateShowDropzone(!0)}onDragLeave(n){this.store.updateShowDropzone(!1)}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-drop-image"]],standalone:!0,features:[fe],decls:2,vars:0,consts:[[1,"dropzone",3,"drop","dragover","dragleave"]],template:function(i,o){i&1&&(b(0,"div",0),W("drop",function(a){return o.onDrop(a)})("dragover",function(a){return o.onDragOver(a)})("dragleave",function(a){return o.onDragLeave(a)}),G(1,"Drop to open File(s)"),S())},dependencies:[le],styles:[".dropzone[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0009;display:grid;align-items:center;justify-content:center;font-size:52px}"]});let t=e;return t})();function iA(t,e){t&1&&Oe(0)}function oA(t,e){if(t&1){let r=qe();b(0,"div",3),W("click",function(i){X(r);let o=N();return Q(o.onClose(i))}),Ye(),b(1,"svg",4)(2,"g",5),B(3,"path",6),S(),b(4,"defs")(5,"clipPath",7),B(6,"rect",8),S()()()()}}var H6=(()=>{let e=class e{constructor(n){this.store=n,this.selected=!0}onClick(){this.selected||this.store.setActiveImage(this.image.id)}onClose(n){n.preventDefault(),n.stopPropagation(),this.store.closeImage(this.image.id)}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-tabs"]],inputs:{image:"image",selected:"selected"},standalone:!0,features:[fe],decls:6,vars:6,consts:[[1,"tab",3,"tooltip","position","click"],[4,"ngTemplateOutlet"],["closeTemplate",""],[1,"svg-container",3,"click"],["width","130","height","127","viewBox","0 0 130 127","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_1098)"],["d","M62.3646 76.0631C51.1449 86.1077 40.1729 95.837 29.3108 105.688C23.0181 111.394 16.9507 117.348 10.6727 123.07C9.00056 124.633 7.07912 125.904 4.98761 126.829C3.95624 127.262 1.72909 126.829 1.22118 126.036C0.549153 124.983 0.747845 123.114 1.11236 121.74C1.37755 120.738 2.45728 119.909 3.27184 119.104C18.7625 103.852 34.2602 88.6096 49.7646 73.377C51.5043 71.6685 53.294 70.0121 55.2928 68.1149C48.5172 60.6057 41.7311 53.3598 35.2527 45.8445C24.9131 33.8447 14.7811 21.6664 4.5633 9.56263C4.19187 9.12275 3.87237 8.64128 3.49748 8.2014C1.70944 6.08771 0.448859 3.80952 2.48481 1.24556C4.0094 -0.674173 7.65404 -0.387446 10.1919 2.22415C16.5122 8.72629 22.669 15.386 28.7743 22.0968C39.9223 34.3434 50.9834 46.6697 62.0917 58.9527C62.5673 59.3995 63.0729 59.8129 63.6051 60.19C72.1946 51.9803 80.6889 43.7974 89.2543 35.6846C99.1879 26.2808 109.156 16.914 119.16 7.5841C122.912 4.07715 125.921 3.44504 128.223 5.49119C130.61 7.61095 130.388 11.1524 126.582 14.9494C116.292 25.2166 105.754 35.2344 95.2266 45.2634C87.2063 52.9059 79.0581 60.4168 70.5221 68.3997C77.4583 75.5738 84.0924 82.7244 91.0477 89.5444C97.7282 96.095 104.782 102.266 111.594 108.681C114.257 111.095 116.751 113.691 119.058 116.449C120.918 118.764 121.193 121.637 118.906 123.919C116.652 126.171 114.043 125.375 111.868 123.671C107.71 120.581 103.723 117.264 99.9272 113.736C88.3067 102.356 76.8911 90.7662 65.401 79.2521C64.4923 78.3429 63.624 77.3888 62.3646 76.0631Z","fill","white"],["id","clip0_1_1098"],["width","129","height","127","fill","white","transform","translate(0.777344)"]],template:function(i,o){if(i&1&&(b(0,"div",0),W("click",function(){return o.onClick()}),b(1,"p"),G(2),S(),J(3,iA,1,0,"ng-container",1),S(),J(4,oA,7,0,"ng-template",null,2,Ie)),i&2){let s=ve(5);An("selected",o.selected),k("tooltip",o.image.file.name)("position","bottom"),F(2),Wn(" ",o.image.file.name,""),F(),k("ngTemplateOutlet",s)}},dependencies:[le,Vt,pn,qr],styles:[".tab[_ngcontent-%COMP%]{padding:0 28px 0 10px;color:#ffffff80;cursor:pointer;overflow:hidden;position:relative;min-width:26px;max-width:250px}.tab[_ngcontent-%COMP%]:hover{color:#ffffffe6}.tab[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;line-height:32px;margin:0;padding:0;height:32px}.selected[_ngcontent-%COMP%]{color:#ffffffe6;cursor:default;background-color:var(--background-tools)}.svg-container[_ngcontent-%COMP%]{height:32px;width:32px;position:absolute;top:0;right:0;cursor:pointer}svg[_ngcontent-%COMP%]{height:18px;width:18px;margin-left:7px;margin-top:7px;display:none}.tab[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{display:block}"]});let t=e;return t})();function sA(t,e){if(t&1&&(Xe(0),B(1,"app-tabs",11),Qe()),t&2){let r=e.$implicit,n=N(2).ngIf;F(),k("image",r)("selected",r.id===n)}}function aA(t,e){if(t&1&&(Xe(0),J(1,sA,2,2,"ng-container",10),Qe()),t&2){let r=e.ngIf;F(),k("ngForOf",r)}}function lA(t,e){if(t&1){let r=qe();Xe(0),J(1,aA,2,1,"ng-container",2),Ue(2,"async"),b(3,"div",3),W("click",function(){X(r);let i=N();return Q(i.onClick())}),Ye(),b(4,"svg",4)(5,"g",5),B(6,"path",6)(7,"path",7),S(),b(8,"defs")(9,"clipPath",8),B(10,"rect",9),S()()()(),Qe()}if(t&2){let r=e.ngIf,n=N();F(),k("ngIf",Be(2,3,n.imagesOpen$)),F(2),An("selected",r==="-1")}}var $6=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$,this.imagesOpen$=n.imagesOpen$,this.activeID$=n.active$.pipe(ie(i=>i?i.id:"-1"))}onClick(){this.store.setActiveImage("-1")}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-tabbar"]],standalone:!0,features:[fe],decls:4,vars:3,consts:[[1,"container"],[1,"tabs"],[4,"ngIf"],[1,"adder",3,"click"],["width","138","height","164","viewBox","0 0 138 164","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_589)"],["d","M137.273 82.673C137.273 97.0745 137.192 111.477 137.315 125.878C137.257 131.183 136.718 136.472 135.704 141.679C135.346 143.92 134.553 146.067 133.372 148.001C128.405 155.697 121.501 160.577 112.222 161.587C91.9284 163.816 71.465 164.02 51.1311 162.199C43.2342 161.486 35.2579 161.444 27.5523 159.315C23.8951 158.401 20.3171 157.194 16.8527 155.706C7.92056 151.593 2.80505 144.479 1.616 134.664C1.2437 131.655 1.05786 128.625 1.05958 125.593C1.16944 96.0341 1.35943 66.472 1.47704 36.911C1.53559 30.8429 2.38153 24.808 3.99348 18.959C5.06943 14.908 7.15491 11.1983 10.0538 8.17847C13.7054 4.23851 18.7609 1.90477 24.1195 1.68615C34.3047 1.17405 44.4892 0.555105 54.6821 0.331468C64.5003 0.116259 74.3316 0.206058 84.1504 0.425156C90.9403 0.576192 97.7296 1.06481 104.498 1.64627C106.373 1.80769 108.171 2.46653 109.709 3.55485C119.117 10.6029 127.839 18.4142 135.282 27.5846C136.961 29.6492 137.818 32.2647 137.688 34.9258C137.483 49.3241 137.407 63.7254 137.289 78.1251C137.277 79.6412 137.289 81.1568 137.289 82.673H137.273ZM12.4344 82.203C11.3675 98.0702 11.2945 113.953 11.2712 129.836C11.3269 133.244 11.8445 136.628 12.8099 139.896C13.3125 141.922 14.2457 143.815 15.5454 145.445C16.8452 147.076 18.4808 148.405 20.3404 149.343C22.3187 150.443 24.4302 151.281 26.6223 151.839C31.7689 152.976 36.9239 154.064 42.2352 154.358C62.9437 155.613 83.7077 155.647 104.421 154.461C107.053 154.297 109.695 154.112 112.299 153.717C115.3 153.231 118.098 151.891 120.362 149.857C123.238 147.384 125.384 144.168 126.566 140.557C128.419 135.061 128.44 129.408 128.44 123.727C128.436 99.141 128.432 74.5553 128.429 49.9698C128.429 46.9439 128.419 43.9173 128.343 40.8947C128.278 38.3095 126.856 37.0384 123.956 36.9528C118.679 36.7972 113.397 36.7643 108.123 36.5166C106.252 36.3845 104.402 36.0368 102.611 35.4797C101.691 35.243 100.858 34.7459 100.212 34.0478C99.5655 33.3498 99.1325 32.4801 98.9651 31.5423C98.6394 29.6825 98.4785 27.7972 98.4843 25.909C98.4326 21.3773 98.4902 16.8445 98.5134 12.3115C98.5173 11.5064 97.272 9.87169 96.598 9.77122C95.8626 9.61065 95.1175 9.49851 94.3679 9.43635C76.2697 9.17706 58.1707 8.9376 40.0716 8.71721C37.0615 8.68545 34.0476 9.00009 31.0342 9.13881C27.2124 9.31383 23.6077 10.4446 20.0871 11.802C17.589 12.7597 15.5152 14.5825 14.2407 16.9409C12.5838 19.9486 11.4509 23.1169 11.8393 26.6743C12.2496 30.434 12.8577 34.2002 12.8513 37.9631C12.8241 52.7076 12.5902 67.4553 12.4344 82.203ZM109.153 17.636C108.763 18.2309 108.47 18.8853 108.288 19.5736C108.114 21.4243 108.067 23.2915 108.076 25.1525C108.05 25.6142 108.116 26.0763 108.272 26.5117C108.427 26.9469 108.668 27.3468 108.98 27.6871C109.292 28.0276 109.669 28.3017 110.088 28.4937C110.507 28.6856 110.961 28.7913 111.422 28.8045C114.007 28.8466 116.595 28.7452 119.18 28.6544C119.332 28.6177 119.473 28.5453 119.592 28.443C119.711 28.3407 119.803 28.2111 119.863 28.0657C119.927 27.8917 119.956 27.7067 119.947 27.5213C119.94 27.3359 119.895 27.1536 119.816 26.9858C117.187 23.3863 113.949 20.2784 110.247 17.8043C109.975 17.615 109.523 17.6865 109.153 17.636Z","fill","white"],["d","M52.63 92.2501C56.3898 92.2501 60.1495 92.2806 63.9086 92.2346C64.652 92.1568 65.3482 91.8333 65.887 91.3134C66.4254 90.7936 66.7756 90.1084 66.8809 89.3662C67.1226 84.4663 67.2635 79.5612 67.5556 74.6652C67.6028 72.7853 67.9072 70.9211 68.4603 69.1242C68.6348 68.5836 68.9683 68.1091 69.4174 67.7636C69.8672 67.4174 70.4106 67.2171 70.9761 67.1886C71.5415 67.1601 72.1025 67.3046 72.5845 67.6035C73.066 67.9016 73.446 68.3405 73.6728 68.861C74.2705 70.2404 74.5969 71.7223 74.6337 73.2255C74.9232 76.9903 75.0447 80.7688 75.2696 84.5389C75.3375 85.6674 75.5094 86.7908 75.6625 87.9096C76.027 90.581 77.5618 92.1717 80.0375 92.1574C83.7972 92.1354 87.5557 91.8981 91.3154 91.8612C94.3107 91.834 97.3615 91.7691 100.104 93.2309C100.583 93.4856 100.757 94.4366 100.925 95.1042C100.954 95.2922 100.939 95.4847 100.882 95.6662C100.825 95.8471 100.726 96.0131 100.595 96.1505C100.072 96.6898 99.4197 97.0846 98.6998 97.2972C96.4716 97.6018 94.2189 97.7788 91.9707 97.8773C87.8348 98.0575 83.6951 98.1113 79.5599 98.2896C78.6235 98.3881 77.7537 98.8218 77.1088 99.5102C76.4645 100.199 76.0884 101.098 76.0496 102.042C75.7265 107.696 75.5042 113.355 75.1623 119.007C75.0492 120.876 74.7184 122.734 74.4366 124.589C74.2499 125.82 72.2136 127.291 71.095 127.104C69.884 126.901 68.1379 125.324 67.9834 124.155C67.7378 122.293 67.4664 120.423 67.4018 118.55C67.2008 112.893 67.1116 107.232 66.9359 101.573C66.868 100.825 66.5514 100.122 66.037 99.577C65.5226 99.0312 64.8399 98.6746 64.0992 98.5651C59.5911 98.3278 55.0792 98.1625 50.5718 97.9169C47.5701 97.7516 44.5703 97.5286 41.575 97.2622C40.0241 97.1254 38.2664 95.2806 38.753 94.3452C38.9799 93.8422 39.3438 93.4137 39.8026 93.1084C40.2614 92.8037 40.7967 92.6339 41.3469 92.6203C45.106 92.5872 48.8658 92.6086 52.6249 92.6086L52.63 92.2501Z","fill","white"],["id","clip0_1_589"],["width","137","height","164","fill","white","transform","translate(0.777344)"],[4,"ngFor","ngForOf"],[3,"image","selected"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1),J(2,lA,11,5,"ng-container",2),Ue(3,"async"),S()()),i&2&&(F(2),k("ngIf",Be(3,1,o.activeID$)))},dependencies:[le,yo,ut,jt,H6],styles:[".container[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(0,0,0,.5)}.tabs[_ngcontent-%COMP%]{width:100%;display:grid;grid-auto-flow:column;grid-auto-columns:minmax(64px,250px)}.tabs-drop[_ngcontent-%COMP%]{width:64px;text-align:center;line-height:32px}app-tabs[_ngcontent-%COMP%]{border-right:1px solid rgba(0,0,0,.5)}.adder[_ngcontent-%COMP%]{width:64px;border-right:1px solid rgba(0,0,0,.5);text-align:center;cursor:pointer}.adder[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{height:24px;width:auto;margin-top:4px}.adder[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%] > g[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#ffffff80}.adder[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%] > g[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#ffffffe6}.selected[_ngcontent-%COMP%]{cursor:default;background-color:var(--background-tools)}.selected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] > g[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:#ffffffe6}"]});let t=e;return t})();function cA(t,e){t&1&&Oe(0)}function uA(t,e){if(t&1){let r=qe();Xe(0),b(1,"div",11)(2,"span"),G(3,"Pos: "),S(),b(4,"div",12)(5,"span"),G(6,"X"),S(),b(7,"input",13),W("change",function(i){X(r);let o=N().ngIf,s=N();return Q(s.inputChange(i,"posX",o))})("input",function(i){X(r);let o=N().ngIf,s=N();return Q(s.input(i,"posX",o))}),S()(),b(8,"div",12)(9,"span"),G(10,"Y"),S(),b(11,"input",14),W("change",function(i){X(r);let o=N().ngIf,s=N();return Q(s.inputChange(i,"posY",o))})("input",function(i){X(r);let o=N().ngIf,s=N();return Q(s.input(i,"posY",o))}),S()()(),b(12,"div",15)(13,"span"),G(14,"Size: "),S(),b(15,"div",12)(16,"span"),G(17,"W"),S(),b(18,"input",16),W("change",function(i){X(r);let o=N().ngIf,s=N();return Q(s.inputChange(i,"sizeX",o))})("input",function(i){X(r);let o=N().ngIf,s=N();return Q(s.input(i,"sizeX",o))}),S()(),b(19,"div",12)(20,"span"),G(21,"H"),S(),b(22,"input",17),W("change",function(i){X(r);let o=N().ngIf,s=N();return Q(s.inputChange(i,"sizeY",o))})("input",function(i){X(r);let o=N().ngIf,s=N();return Q(s.input(i,"sizeY",o))}),S()()(),Qe()}if(t&2){let r=N().ngIf;F(7),k("value",r.absolute.x),F(4),k("value",r.absolute.y),F(7),k("value",r.absolute.width),F(4),k("value",r.absolute.height)}}function dA(t,e){if(t&1){let r=qe();Xe(0),b(1,"div",11)(2,"span"),G(3,"Coords: "),S(),b(4,"div",12)(5,"span"),G(6,"Top"),S(),b(7,"input",18),W("input",function(i){X(r);let o=N().ngIf,s=N();return Q(s.input(i,"top",o))}),S()(),b(8,"div",12)(9,"span"),G(10,"Bottom"),S(),b(11,"input",19),W("input",function(i){X(r);let o=N().ngIf,s=N();return Q(s.input(i,"bottom",o))}),S()(),b(12,"div",12)(13,"span"),G(14,"Left"),S(),b(15,"input",20),W("input",function(i){X(r);let o=N().ngIf,s=N();return Q(s.input(i,"left",o))}),S()(),b(16,"div",12)(17,"span"),G(18,"Right"),S(),b(19,"input",21),W("input",function(i){X(r);let o=N().ngIf,s=N();return Q(s.input(i,"right",o))}),S()()(),Qe()}if(t&2){let r=N().ngIf,n=N();F(7),k("step",1/n.active.file.height)("value",r.relative.top),F(4),k("step",1/n.active.file.height)("value",r.relative.bottom),F(4),k("step",1/n.active.file.width)("value",r.relative.left),F(4),k("step",1/n.active.file.width)("value",r.relative.right)}}function fA(t,e){if(t&1){let r=qe();Xe(0),b(1,"div",2),B(2,"div",3),b(3,"div",4)(4,"span"),G(5,"Cut: "),S(),b(6,"div",5),J(7,cA,1,0,"ng-container",6),b(8,"input",7),W("change",function(i){let s=X(r).ngIf,a=N();return Q(a.onNameChange(i,s))})("mouseenter",function(){X(r);let i=N();return Q(i.onHover(!0))})("mouseleave",function(){X(r);let i=N();return Q(i.onHover(!1))}),S()()(),b(9,"div",8)(10,"div"),G(11,"Type: "),S(),b(12,"button",9),W("click",function(){let o=X(r).ngIf,s=N();return Q(s.setAbsolute(!0,o))}),G(13,"Absolute"),S(),b(14,"button",9),W("click",function(){let o=X(r).ngIf,s=N();return Q(s.setAbsolute(!1,o))}),G(15,"Relative"),S()(),J(16,uA,23,4,"ng-container",0)(17,dA,20,8,"ng-container",0),B(18,"div",10),S(),Qe()}if(t&2){let r=e.ngIf;N();let n=ve(3);F(7),k("ngTemplateOutlet",n),F(),k("value",r.name),F(4),An("selected",r.type==="absolute"),F(2),An("selected",r.type==="relative"),F(2),k("ngIf",r.type==="absolute"),F(),k("ngIf",r.type==="relative")}}function hA(t,e){if(t&1&&(Ye(),b(0,"svg",22)(1,"g",23),B(2,"path",24),S(),b(3,"defs")(4,"clipPath",25),B(5,"rect",26),S()()()),t&2){let r=N();An("hide",!r.nameInputHover)}}var G6=(()=>{let e=class e{constructor(n){this.store=n,this.nameInputHover=!1,this.selectedCut$=n.selectedCut$}inputChange(n,i,o){}input(n,i,o){let s=n.target,a=s.id,l=Math.min(Number(s.max),Math.max(Number(s.min),Number(s.value)));this.changeStoreValues(a,o,l),s.value=String(l)}onNameChange(n,i){let o=n.target,s=o.value;if(s==="")o.value=i.name;else{let a=JSON.parse(JSON.stringify(i));a.name=s,this.store.updateCut(this.active.id,a)}}onHover(n){this.nameInputHover=n}changeStoreValues(n,i,o){let s=T({},i),a={x:this.active.file.width,y:this.active.file.height};switch(n){case"posX":{s.absolute.x=o,s.relative=rr(s.absolute,a);break}case"posY":{s.absolute.y=o,s.relative=rr(s.absolute,a);break}case"sizeX":{s.absolute.width=o,s.relative=rr(s.absolute,a);break}case"sizeY":{s.absolute.height=o,s.relative=rr(s.absolute,a);break}case"top":{s.relative.top=o,s.absolute=ma(s.relative,a);break}case"bottom":{s.relative.bottom=o,s.absolute=ma(s.relative,a);break}case"left":{s.relative.left=o,s.absolute=ma(s.relative,a);break}case"right":{s.relative.right=o,s.absolute=ma(s.relative,a);break}default:return}this.store.updateCut(this.active.id,s)}setAbsolute(n,i){let o=T({},i);o.type=n?"absolute":"relative",this.store.updateCut(this.active.id,o)}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-toolbar-cuts"]],inputs:{active:"active"},standalone:!0,features:[fe],decls:4,vars:3,consts:[[4,"ngIf"],["pencil",""],[1,"container"],[1,"spacer"],[1,"name","flex"],[1,"name-box","flex","border"],[4,"ngTemplateOutlet"],["type","text",3,"value","change","mouseenter","mouseleave"],[1,"type","flex"],[3,"click"],[1,"buttons"],[1,"flex"],[1,"input-box","flex","border"],["type","number","id","posX","name","posX","min","0","max","9999",3,"value","change","input"],["type","number","id","posY","name","posY","min","0","max","9999",3,"value","change","input"],[1,"size","flex"],["type","number","id","sizeX","name","sizeX","min","1","max","9999",3,"value","change","input"],["type","number","id","sizeY","name","sizeY","min","1","max","9999",3,"value","change","input"],["type","number","id","top","name","top","min","0","max","1",3,"step","value","input"],["type","number","id","bottom","name","bottom","min","0","max","1",3,"step","value","input"],["type","number","id","left","name","left","min","0","max","1",3,"step","value","input"],["type","number","id","right","name","right","min","0","max","1",3,"step","value","input"],["width","151","height","149","viewBox","0 0 151 149","fill","none","xmlns","http://www.w3.org/2000/svg",1,"pencil"],["clip-path","url(#clip0_1_780)"],["d","M6.22296 148.379C3.07752 148.346 1.42875 146.746 1.36875 143.992C1.35956 143.214 1.4585 142.439 1.66283 141.688C3.96892 132.991 6.41008 124.328 8.58249 115.597C9.52763 111.362 11.5886 107.456 14.5525 104.281C22.6355 95.8167 30.5868 87.2255 38.7645 78.8548C60.2764 56.8356 82.8369 35.9202 105.99 15.6347C111.017 11.2304 115.963 6.72785 121.106 2.46216C124.166 -0.0753939 125.338 -0.0174305 128.429 2.61577C132.838 6.3733 137.087 10.3208 141.363 14.2319C143.665 16.3368 145.872 18.5452 148.139 20.6884C151.074 23.4635 151.067 26.4284 148.27 29.3727C143.817 34.0574 139.483 38.8507 135.025 43.5282C133.42 45.2121 131.568 46.6572 129.889 48.2728C103.622 73.5526 77.36 98.837 51.1023 124.126C46.9336 128.138 42.7597 132.147 38.4873 136.048C37.3799 136.986 36.1105 137.713 34.7413 138.195C26.5282 141.351 18.2938 144.451 10.0381 147.494C8.78969 147.881 7.51462 148.178 6.22296 148.379ZM29.0705 121.225L117.54 36.3145C115.605 34.5037 113.763 32.7782 111.597 30.7494C81.2117 57.9162 53.5695 87.7082 24.8432 116.675L29.0705 121.225ZM37.2984 129.668C66.8293 101.17 96.4713 73.5389 124.781 44.6338L122.193 41.3415C91.6589 68.8067 62.6163 97.2189 32.8583 124.735L37.2984 129.668ZM20.8472 113.027C49.0772 83.3287 77.4108 54.5732 107.13 26.88L104.078 24.1727C73.938 51.0805 45.3091 79.3681 17.8734 108.998C18.5817 109.881 19.0779 110.464 19.5338 111.08C19.9349 111.617 20.2871 112.188 20.8499 113.027H20.8472ZM142.692 26.0009C137.769 19.7201 127.209 9.38968 124.087 7.75458L110.143 19.8777L131.274 38.5073C135.146 34.2702 138.87 30.1898 142.695 26.0009H142.692ZM13.7634 112.814C12.6763 118.399 11.694 123.266 10.8194 128.152C10.7119 128.898 10.8934 129.657 11.3268 130.273C13.3349 132.776 15.4661 135.181 17.6333 137.714L30.6253 132.753L13.7634 112.814Z","fill","rgba(255, 255, 255, 0.9)"],["id","clip0_1_780"],["width","150","height","149","fill","white","transform","translate(0.777344)"]],template:function(i,o){i&1&&(J(0,fA,19,8,"ng-container",0),Ue(1,"async"),J(2,hA,6,2,"ng-template",null,1,Ie)),i&2&&k("ngIf",Be(1,1,o.selectedCut$))},dependencies:[le,ut,Vt,jt],styles:[".container[_ngcontent-%COMP%]{height:48px;display:grid;grid-template-columns:repeat(6,max-content);gap:4px}.flex[_ngcontent-%COMP%]{display:flex;align-items:center}.spacer[_ngcontent-%COMP%]{width:80px;width:48px}.border[_ngcontent-%COMP%]{border-radius:5px;border:1px solid rgba(255,255,255,.25)}.name[_ngcontent-%COMP%]{height:48px}.name-box[_ngcontent-%COMP%]{box-sizing:border-box;height:26px;width:128px;background-color:var(--background-header);color:#ffffff80;text-align:right;vertical-align:middle;margin-left:4px;margin-right:4px}.name-box[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:96px;padding:1px 6px;margin:0;overflow:hidden;text-overflow:ellipsis}.pencil[_ngcontent-%COMP%]{height:16px;width:16px;margin-left:4px}.hide[_ngcontent-%COMP%]{opacity:0}.type[_ngcontent-%COMP%]{line-height:32px}.type[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px}.type[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{box-sizing:border-box;width:64px;height:26px;background-color:var(--background-header);color:#ffffff80;border:0;cursor:pointer}.type[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{color:#ffffffe6}.type[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:nth-of-type(1){border-radius:5px 0 0 5px}.type[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:nth-of-type(2){margin-left:2px;border-radius:0 5px 5px 0}.type[_ngcontent-%COMP%] > button.selected[_ngcontent-%COMP%]{background-color:var(--accent);color:#fff}.flex[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:18px;margin-left:4px;margin-right:4px}.input-box[_ngcontent-%COMP%]{box-sizing:border-box;height:26px;background-color:var(--background-header);color:#ffffff80;margin-left:4px;margin-right:4px}.input-box[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:18px}.input-box[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:3.25rem;margin-left:2px}input[_ngcontent-%COMP%]{padding:1px 6px;margin:0;color:#ffffff80;text-align:right;background:none;border:0;border-radius:0}input[_ngcontent-%COMP%]:hover{color:#ffffffe6}input[_ngcontent-%COMP%]:focus{color:#ffffffe6}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{margin-left:4px}input[_ngcontent-%COMP%]:focus{outline:none}"]});let t=e;return t})();function pA(t,e){if(t&1&&(Xe(0),B(1,"app-toolbar-cuts",1),Qe()),t&2){let r=e.ngIf;F(),k("active",r)}}var z6=(()=>{let e=class e{constructor(n){this.store=n,this.active$=n.active$}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-toolbar"]],standalone:!0,features:[fe],decls:2,vars:3,consts:[[4,"ngIf"],[3,"active"]],template:function(i,o){i&1&&(J(0,pA,2,1,"ng-container",0),Ue(1,"async")),i&2&&k("ngIf",Be(1,1,o.active$))},dependencies:[le,ut,jt,G6]});let t=e;return t})();function gA(t,e){t&1&&B(0,"app-drop-image")}var q6=(()=>{let e=class e{constructor(n){this.store=n,this.showDropzone$=n.showDropzone$,this.active$=n.active$}onDrop(n){n.preventDefault()}onDragOver(n){n.stopPropagation(),n.preventDefault(),this.store.store.getValue().showDropzone||this.store.updateShowDropzone(!0)}onDragLeave(n){}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-layout"]],standalone:!0,features:[fe],decls:12,vars:3,consts:[[1,"grid-container",3,"drop","dragover","dragleave"],[1,"header"],[1,"toolbar"],[1,"tools"],[1,"tabs"],[1,"layers"],[1,"main"],[1,"footer"],[4,"ngIf"]],template:function(i,o){i&1&&(b(0,"div",0),W("drop",function(a){return o.onDrop(a)})("dragover",function(a){return o.onDragOver(a)})("dragleave",function(a){return o.onDragLeave(a)}),B(1,"app-header",1)(2,"app-toolbar",2),b(3,"div",3),G(4,"tools"),S(),B(5,"app-tabbar",4)(6,"app-layers",5)(7,"app-main",6),b(8,"div",7),G(9,"footer"),S()(),J(10,gA,1,0,"app-drop-image",8),Ue(11,"async")),i&2&&(F(10),k("ngIf",Be(11,1,o.showDropzone$)))},dependencies:[le,ut,jt,$4,k6,U6,B6,$6,z6],styles:['.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header header header" "toolbar toolbar toolbar" "tools tabs layers" "tools main layers" "tools footer layers";grid-template-rows:32px 48px 32px auto 32px;grid-template-columns:48px auto 240px;background-color:#2196f3;width:100vw;height:100vh;justify-content:stretch}.grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]{grid-area:header;background-color:var(--background-header)}.toolbar[_ngcontent-%COMP%]{grid-area:toolbar;background-color:var(--background-tools)}.tools[_ngcontent-%COMP%]{grid-area:tools;background-color:var(--background-tools)}.tabs[_ngcontent-%COMP%]{grid-area:tabs;background-color:var(--background-header)}.layers[_ngcontent-%COMP%]{grid-area:layers;background-color:var(--background-tools)}.main[_ngcontent-%COMP%]{grid-area:main;background-color:var(--background);overflow:auto}.footer[_ngcontent-%COMP%]{grid-area:footer;background-color:var(--background-header)}']});let t=e;return t})();var W6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ce({type:e,selectors:[["app-home"]],standalone:!0,features:[fe],decls:1,vars:0,template:function(i,o){i&1&&B(0,"app-layout")},dependencies:[le,q6]});let t=e;return t})();var Y6=[{path:"",component:W6}];function mA(){console.log("Init devTools"),H4()}var K6={providers:[O4(Y6),{provide:Hl,useFactory:()=>mA()},{provide:Sl,useValue:{disableImageSizeWarning:!0,disableImageLazyLoadWarning:!0}}]};var Z6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=jr({type:e}),e.\u0275inj=Br({providers:[Ae],imports:[le]});let t=e;return t})();var X6=(()=>{let e=class e{constructor(n){this.store=n,this.title="ImageCutter"}};e.\u0275fac=function(i){return new(i||e)(re(Ae))},e.\u0275cmp=ce({type:e,selectors:[["app-root"]],standalone:!0,features:[fe],decls:2,vars:0,consts:[[1,"app-container"]],template:function(i,o){i&1&&(b(0,"div",0),B(1,"router-outlet"),S())},dependencies:[le,t1,Z6]});let t=e;return t})();Zm(X6,K6).catch(t=>console.error(t));
